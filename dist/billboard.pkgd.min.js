/*!
 * Copyright (c) 2017 NAVER Corp.
 * billboard.js project is licensed under the MIT license
 * 
 * billboard.js, JavaScript chart library
 * http://naver.github.io/billboard.js/
 * 
 * @version 1.6.2-nightly-20181112154211
 * 
 * All-in-one packaged file for ease use of 'billboard.js' with below dependency.
 * - d3 ^5.7.0
 */
!function webpackUniversalModuleDefinition(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(window,function(){return function(n){var i={};function __webpack_require__(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,__webpack_require__),e.l=!0,e.exports}return __webpack_require__.m=n,__webpack_require__.c=i,__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)__webpack_require__.d(n,i,function(t){return e[t]}.bind(null,i));return n},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t["default"]}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(t,e,n){"use strict";n.r(e),n.d(e,"bb",function(){return o});var i=n(1),r=n(3),a=n(9),o={version:"1.6.2-nightly-20181112154211",generate:function generate(t){var e=new i["default"](t);return e.internal.charts=this.instance,this.instance.push(e),e},instance:[],chart:{fn:i["default"].prototype,internal:{fn:r["default"].prototype,axis:{fn:a["default"].prototype}}}};n(82),n(18),n(19),n(20),n(79),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(32),n(33),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(44),n(45),n(46),n(47),n(48),n(49),n(50),n(51),n(52),n(53),n(54),n(55),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(84),n(64),n(10),n(65),n(66),e["default"]=o},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return o});var i=n(2),r=n.n(i),a=n(3),o=function o(t){r()(this,o);var e=new a["default"](this);(this.internal=e).loadConfig(t),e.beforeInit(t),e.init(),this.$=e.getChartElements(),e.afterInit(t),function bindThis(e,n,i){Object.keys(e).forEach(function(t){n[t]=e[t].bind(i),Object.keys(e[t]).length&&bindThis(e[t],n[t],i)})}(o.prototype,this,this)}},function(t,e){t.exports=function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return f});var i=n(4),s=n.n(i),r=n(2),a=n.n(r),o=n(8),c=n.n(o),u=n(80),R=n(68),l=n(70),I=n(71),d=n(9),E=n(17),X=n(15),f=function(){function ChartInternal(t){a()(this,ChartInternal);var e=this;e.api=t,e.config=e.getOptions(),e.data={},e.cache={},e.axes={}}return c()(ChartInternal,[{key:"beforeInit",value:function beforeInit(){var t=this.config;Object(X.callFn)(t.onbeforeinit,this)}},{key:"afterInit",value:function afterInit(){var t=this.config;Object(X.callFn)(t.onafterinit,this)}},{key:"init",value:function init(){var t,e=this,n=e.config;if(e.initParams(),n.data_url)e.convertUrlToData(n.data_url,n.data_mimeType,n.data_headers,n.data_keys,e.initWithData);else if(n.data_json)t=e.convertJsonToData(n.data_json,n.data_keys);else if(n.data_rows)t=e.convertRowsToData(n.data_rows);else{if(!n.data_columns)throw Error("url or json or rows or columns is required.");t=e.convertColumnsToData(n.data_columns)}t&&e.initWithData(t)}},{key:"initParams",value:function initParams(){var n=this,t=n.config,e=t.axis_rotated;n.datetimeId="bb-".concat(+new Date),n.clipId="".concat(n.datetimeId,"-clip"),n.clipIdForXAxis="".concat(n.clipId,"-xaxis"),n.clipIdForYAxis="".concat(n.clipId,"-yaxis"),n.clipIdForGrid="".concat(n.clipId,"-grid"),n.clipIdForSubchart="".concat(n.clipId,"-subchart"),n.clipPath=n.getClipPath(n.clipId),n.clipPathForXAxis=n.getClipPath(n.clipIdForXAxis),n.clipPathForYAxis=n.getClipPath(n.clipIdForYAxis),n.clipPathForGrid=n.getClipPath(n.clipIdForGrid),n.clipPathForSubchart=n.getClipPath(n.clipIdForSubchart),n.dragStart=null,n.dragging=!1,n.flowing=!1,n.cancelClick=!1,n.mouseover=!1,n.transiting=!1,n.color=n.generateColor(),n.levelColor=n.generateLevelColor(),n.point=n.generatePoint(),n.extraLineClasses=n.generateExtraLineClass(),n.dataTimeFormat=t.data_xLocaltime?u.timeParse:u.utcParse,n.axisTimeFormat=t.axis_x_localtime?u.timeFormat:u.utcFormat,n.defaultAxisTimeFormat=function(t){var e=(t.getMilliseconds()?".%L":t.getSeconds()&&".:%S")||t.getMinutes()&&"%I:%M"||t.getHours()&&"%I %p"||t.getDay()&&1!==t.getDate()&&"%-m/%-d"||1!==t.getDate()&&"%b %d"||t.getMonth()&&"%-m/%-d"||"%Y/%-m/%-d";return n.axisTimeFormat(e)(t)},n.hiddenTargetIds=[],n.hiddenLegendIds=[],n.focusedTargetIds=[],n.defocusedTargetIds=[],n.xOrient=e?"left":"bottom",n.yOrient=e?t.axis_y_inner?"top":"bottom":t.axis_y_inner?"right":"left",n.y2Orient=e?t.axis_y2_inner?"bottom":"top":t.axis_y2_inner?"left":"right",n.subXOrient=e?"left":"bottom",n.isLegendRight="right"===t.legend_position,n.isLegendInset="inset"===t.legend_position,n.isLegendTop="top-left"===t.legend_inset_anchor||"top-right"===t.legend_inset_anchor,n.isLegendLeft="top-left"===t.legend_inset_anchor||"bottom-left"===t.legend_inset_anchor,n.legendStep=0,n.legendItemWidth=0,n.legendItemHeight=0,n.currentMaxTickWidths={x:0,y:0,y2:0},n.rotated_padding_left=30,n.rotated_padding_right=e&&!t.axis_x_show?0:30,n.rotated_padding_top=5,n.withoutFadeIn={},n.inputType=n.convertInputType(),n.axes.subx=Object(R.selectAll)([])}},{key:"initWithData",value:function initWithData(t){var e=this,n=e.config;e.axis=new d["default"](e),n.subchart_show&&e.initBrush(),n.zoom_enabled&&(e.initZoom(),e.initZoomBehaviour());var i={element:n.bindto,classname:"bb"};if(Object(X.isObject)(n.bindto)&&(i.element=n.bindto.element||"#chart",i.classname=n.bindto.classname||i.classname),e.selectChart=Object(X.isFunction)(i.element.node)?n.bindto.element:Object(R.select)(i.element?i.element:[]),e.selectChart.html("").classed(i.classname,!0),e.data.xs={},e.data.targets=e.convertDataToTargets(t),n.data_filter&&(e.data.targets=e.data.targets.filter(n.data_filter)),n.data_hide&&e.addHiddenTargetIds(!0===n.data_hide?e.mapToIds(e.data.targets):n.data_hide),n.legend_hide&&e.addHiddenLegendIds(!0===n.legend_hide?e.mapToIds(e.data.targets):n.legend_hide),e.hasType("gauge")&&(n.legend_show=!1),e.updateSizes(),e.updateScales(),e.x.domain(Object(l.extent)(e.getXDomain(e.data.targets))),e.y.domain(e.getYDomain(e.data.targets,"y")),e.y2.domain(e.getYDomain(e.data.targets,"y2")),e.subX.domain(e.x.domain()),e.subY.domain(e.y.domain()),e.subY2.domain(e.y2.domain()),e.orgXDomain=e.x.domain(),e.svg=e.selectChart.append("svg").style("overflow","hidden").style("display","block"),n.interaction_enabled&&e.inputType){var r="touch"===e.inputType;e.svg.on(r?"touchstart":"mouseenter",function(){return Object(X.callFn)(n.onover,e)}).on(r?"touchend":"mouseleave",function(){return Object(X.callFn)(n.onout,e)})}n.svg_classname&&e.svg.attr("class",n.svg_classname),e.defs=e.svg.append("defs"),e.clipChart=e.appendClip(e.defs,e.clipId),e.clipXAxis=e.appendClip(e.defs,e.clipIdForXAxis),e.clipYAxis=e.appendClip(e.defs,e.clipIdForYAxis),e.clipGrid=e.appendClip(e.defs,e.clipIdForGrid),e.clipSubchart=e.appendClip(e.defs,e.clipIdForSubchart),Object(X.isFunction)(n.color_tiles)&&e.patterns&&e.patterns.forEach(function(t){return e.defs.append(function(){return t.node})}),e.updateSvgSize();var a=e.svg.append("g").attr("transform",e.getTranslate("main"));if(e.main=a,n.subchart_show&&e.initSubchart&&e.initSubchart(),e.initTooltip&&e.initTooltip(),e.initLegend&&e.initLegend(),e.initTitle&&e.initTitle(),a.append("text").attr("class","".concat(E["default"].text," ").concat(E["default"].empty)).attr("text-anchor","middle").attr("dominant-baseline","middle"),e.initRegion(),e.initGrid(),n.clipPath||e.axis.init(),a.append("g").attr("class",E["default"].chart).attr("clip-path",e.clipPath),n.grid_lines_front&&e.initGridLines(),n.grid_front&&e.initXYFocusGrid(),e.initEventRect(),e.initChartElements(),a.insert("rect",n.zoom_privileged?null:"g.".concat(E["default"].regions)).attr("class",E["default"].zoomRect).attr("width",e.width).attr("height",e.height).style("opacity","0").on("dblclick.zoom",null),n.axis_x_extent&&e.brush.scale(e.getDefaultExtent()),n.clipPath&&e.axis.init(),e.updateTargets(e.data.targets),e.updateDimension(),n.oninit.call(e),e.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1,initializing:!0}),n.data_onmin||n.data_onmax){var o=e.getMinMaxData();Object(X.callFn)(n.data_onmin,e,o.min),Object(X.callFn)(n.data_onmax,e,o.max)}e.bindResize(),e.api.element=e.selectChart.node()}},{key:"initChartElements",value:function initChartElements(){var n=this;["Pie","Bar","Line","Arc","Gauge","Bubble","Radar","Text"].forEach(function(t){var e="init".concat(t);n[e]&&n[e]()})}},{key:"getChartElements",value:function getChartElements(){var t=this;return{chart:t.selectChart,svg:t.svg,defs:t.defs,main:t.main,tooltip:t.tooltip,legend:t.legend,title:t.title,grid:t.grid,arc:t.arcs,bar:{bars:t.mainBar},line:{lines:t.mainLine,areas:t.mainArea,circles:t.mainCircle},text:{texts:t.texts}}}},{key:"smoothLines",value:function smoothLines(t,e){"grid"===e&&t.each(function(){var e=Object(R.select)(this),t=["x1","x2","y1","y2"].map(function(t){return Math.ceil(e.attr(t))}),n=s()(t,4),i=n[0],r=n[1],a=n[2],o=n[3];e.attr({x1:i,x2:r,y1:a,y2:o})})}},{key:"updateSizes",value:function updateSizes(){var t=this,e=t.config,n=e.axis_rotated,i=t.hasArcType(),r=t.legend?t.getLegendHeight():0,a=t.legend?t.getLegendWidth():0,o=t.isLegendRight||t.isLegendInset?0:r,s=n||i?0:t.getHorizontalAxisHeight("x"),c=e.subchart_show&&!i?e.subchart_size_height+s:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=n?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:i?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+o+t.getCurrentPaddingBottom(),left:c+(i?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:i?0:t.getCurrentPaddingRight(),bottom:s+c+o+t.getCurrentPaddingBottom(),left:i?0:t.getCurrentPaddingLeft()},t.margin2=n?{top:t.margin.top,right:NaN,bottom:20+o,left:t.rotated_padding_left}:{top:t.currentHeight-c-o,right:NaN,bottom:s+o,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(r,a),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=n?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=n?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?a+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&i&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)}},{key:"updateTargets",value:function updateTargets(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType(t)&&(e.hasType("radar")?e.updateTargetsForRadar(t):e.updateTargetsForArc(t)),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()}},{key:"showTargets",value:function showTargets(){var e=this;e.svg.selectAll(".".concat(E["default"].target)).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style("opacity","1")}},{key:"getWithOption",value:function getWithOption(n){var i={Y:!0,Subchart:!0,Transition:!0,EventRect:!0,Dimension:!0,TrimXDomain:!0,Transform:!1,UpdateXDomain:!1,UpdateOrgXDomain:!1,Legend:!1,UpdateXAxis:"UpdateXDomain",TransitionForExit:"Transition",TransitionForAxis:"Transition"};return Object.keys(i).forEach(function(t){var e=i[t];Object(X.isString)(e)&&(e=i[e]),i[t]=Object(X.getOption)(n,"with".concat(t),e)}),i}},{key:"redraw",value:function redraw(){var n,i,a,t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{},e=1<arguments.length?arguments[1]:undefined,o=this,r=o.main,s=o.config,c=s.axis_rotated,u=o.hasType("radar"),l=o.getShapeIndices(o.isAreaType),d=o.getShapeIndices(o.isBarType),f=o.getShapeIndices(o.isLineType),h=o.hasArcType(),g=o.filterTargetsToShow(o.data.targets),p=o.xv.bind(o),m=o.getWithOption(t),x=m.Transition?s.transition_duration:0,_=m.TransitionForExit?x:0,v=m.TransitionForAxis?x:0,y=e||o.axis.generateTransitions(v);if(t.initializing&&s.tooltip_init_show||"touch"!==o.inputType||o.hideTooltip(),m.Legend&&s.legend_show?o.updateLegend(o.mapToIds(o.data.targets),t,y):m.Dimension&&o.updateDimension(!0),o.isCategorized()&&0===g.length&&o.x.domain([0,o.axes.x.selectAll(".tick").size()]),g.length?(o.updateXDomain(g,m.UpdateXDomain,m.UpdateOrgXDomain,m.TrimXDomain),!s.axis_x_tick_values&&(n=o.axis.updateXAxisTickValues(g))):(o.xAxis.tickValues([]),o.subXAxis.tickValues([])),s.zoom_rescale&&!t.flow&&(a=o.x.orgDomain()),["y","y2"].forEach(function(t){var e=o[t],n=s["axis_".concat(t,"_tick_values")],i=s["axis_".concat(t,"_tick_count")];if(e.domain(o.getYDomain(g,t,a)),!n&&i){var r=e.domain();o["".concat(t,"Axis")].tickValues(o.axis.generateTickValues(r,r.every(function(t){return 0===t})?1:i,o.isTimeSeriesY()))}}),o.axis.redraw(y,h),o.axis.updateLabels(m.Transition),(m.UpdateXDomain||m.UpdateXAxis)&&g.length)if(s.axis_x_tick_culling&&n){for(var b=1;b<n.length;b++)if(n.length/b<s.axis_x_tick_culling_max){i=b;break}o.svg.selectAll(".".concat(E["default"].axisX," .tick text")).each(function(t){var e=n.indexOf(t);0<=e&&Object(R.select)(this).style("display",e%i?"none":"block")})}else o.svg.selectAll(".".concat(E["default"].axisX," .tick text")).style("display","block");var T=o.generateDrawArea?o.generateDrawArea(l,!1):undefined,w=o.generateDrawBar?o.generateDrawBar(d):undefined,A=o.generateDrawLine?o.generateDrawLine(f,!1):undefined,O=o.generateXYForText(l,d,f,!0),S=o.generateXYForText(l,d,f,!1);m.Y&&(o.subY.domain(o.getYDomain(g,"y")),o.subY2.domain(o.getYDomain(g,"y2"))),o.updateXgridFocus(),r.select("text.".concat(E["default"].text,".").concat(E["default"].empty)).attr("x",o.width/2).attr("y",o.height/2).text(s.data_empty_label_text).transition().style("opacity",g.length?0:1),o.updateGrid(x),o.updateRegion(x),o.updateBar(_),o.updateLine(_),o.updateArea(_),o.updateCircle(),o.hasDataLabel()&&o.updateText(_),o.redrawTitle&&o.redrawTitle(),o.redrawArc&&o.redrawArc(x,_,m.Transform),u&&o.redrawRadar(x,_),s.subchart_show&&o.redrawSubchart&&o.redrawSubchart(m.Subchart,y,x,_,l,d,f),r.selectAll(".".concat(E["default"].selectedCircles)).filter(o.isBarType.bind(o)).selectAll("circle").remove(),s.interaction_enabled&&!t.flow&&m.EventRect&&(o.redrawEventRect(),o.bindZoomEvent()),o.updateCircleY();var M=(u?o.radarCircleX:c?o.circleY:o.circleX).bind(o),k=(u?o.radarCircleY:c?o.circleX:o.circleY).bind(o),C=t.flow&&o.generateFlow({targets:g,flow:t.flow,duration:t.flow.duration,drawBar:w,drawLine:A,drawArea:T,cx:M,cy:k,xv:p,xForText:O,yForText:S}),L=(x||C)&&o.isTabVisible(),j=[o.redrawBar(w,L),o.redrawLine(A,L),o.redrawArea(T,L),o.redrawCircle(M,k,L,C),o.redrawText(O,S,t.flow,L),o.redrawRegion(L),o.redrawGrid(L)],D=C||s.onrendered?function(){C&&C(),Object(X.callFn)(s.onrendered,o)}:null;if(D)if(L){var F=o.generateWait();Object(I.transition)().duration(x).each(function(){j.reduce(function(t,e){return t.concat(e)},[]).forEach(function(t){return F.add(t)})}).call(F,D)}else D();o.mapToIds(o.data.targets).forEach(function(t){o.withoutFadeIn[t]=!0})}},{key:"updateAndRedraw",value:function updateAndRedraw(){var t,e=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{},n=this,i=n.config;e.withTransition=Object(X.getOption)(e,"withTransition",!0),e.withTransform=Object(X.getOption)(e,"withTransform",!1),e.withLegend=Object(X.getOption)(e,"withLegend",!1),e.withUpdateXDomain=!0,e.withUpdateOrgXDomain=!0,e.withTransitionForExit=!1,e.withTransitionForTransform=Object(X.getOption)(e,"withTransitionForTransform",e.withTransition),n.updateSizes(),e.withLegend&&i.legend_show||(t=n.axis.generateTransitions(e.withTransitionForAxis?i.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(e.withTransitionForTransform,t)),n.redraw(e,t)}},{key:"redrawWithoutRescale",value:function redrawWithoutRescale(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})}},{key:"isTimeSeries",value:function isTimeSeries(){return"timeseries"===this.config.axis_x_type}},{key:"isCategorized",value:function isCategorized(){return 0<=this.config.axis_x_type.indexOf("category")||this.hasType("radar")}},{key:"isCustomX",value:function isCustomX(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||Object(X.notEmpty)(t.data_xs))}},{key:"isTimeSeriesY",value:function isTimeSeriesY(){return"timeseries"===this.config.axis_y_type}},{key:"getTranslate",value:function getTranslate(t){var e,n,i=this,r=i.config.axis_rotated;if("main"===t)e=Object(X.asHalfPixel)(i.margin.left),n=Object(X.asHalfPixel)(i.margin.top);else if("context"===t)e=Object(X.asHalfPixel)(i.margin2.left),n=Object(X.asHalfPixel)(i.margin2.top);else if("legend"===t)e=i.margin3.left,n=i.margin3.top;else if("x"===t)e=0,n=r?0:i.height;else if("y"===t)e=0,n=r?i.height:0;else if("y2"===t)e=r?0:i.width,n=r?1:0;else if("subx"===t)e=0,n=r?0:i.height2;else if("arc"===t)e=i.arcWidth/2,n=i.arcHeight/2;else if("radar"===t){var a=(i.arcWidth-i.arcHeight)/2;e=Math.max(a,0)+4,n=a<0?Math.abs(a):Object(X.asHalfPixel)(i.margin.top)}return"translate(".concat(e,", ").concat(n,")")}},{key:"initialOpacity",value:function initialOpacity(t){return null!==this.getBaseValue(t)&&this.withoutFadeIn[t.id]?"1":"0"}},{key:"initialOpacityForCircle",value:function initialOpacityForCircle(t){return null!==this.getBaseValue(t)&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):"0"}},{key:"opacityForCircle",value:function opacityForCircle(t){var e=this.config.point_show?"1":"0";return Object(X.isValue)(this.getBaseValue(t))?this.isBubbleType(t)||this.isScatterType(t)?"0.5":e:"0"}},{key:"opacityForText",value:function opacityForText(){return this.hasDataLabel()?"1":"0"}},{key:"xx",value:function xx(t){var e=this.config.zoom_enabled&&this.zoomScale?this.zoomScale:this.x;return t?e(t.x):null}},{key:"xv",value:function xv(t){var e=this,n=e.getBaseValue(t);return e.isTimeSeries()?n=e.parseDate(n):e.isCategorized()&&Object(X.isString)(n)&&(n=e.config.axis_x_categories.indexOf(n)),Math.ceil(e.x(n))}},{key:"yv",value:function yv(t){var e=t.axis&&"y2"===t.axis?this.y2:this.y;return Math.ceil(e(this.getBaseValue(t)))}},{key:"subxx",value:function subxx(t){return t?this.subX(t.x):null}},{key:"transformMain",value:function transformMain(t,e){var n,i,r,a=this;e&&e.axisX?n=e.axisX:(n=a.main.select(".".concat(E["default"].axisX)),t&&(n=n.transition())),e&&e.axisY?i=e.axisY:(i=a.main.select(".".concat(E["default"].axisY)),t&&(i=i.transition())),e&&e.axisY2?r=e.axisY2:(r=a.main.select(".".concat(E["default"].axisY2)),t&&(r=r.transition())),(t?a.main.transition():a.main).attr("transform",a.getTranslate("main")),n.attr("transform",a.getTranslate("x")),i.attr("transform",a.getTranslate("y")),r.attr("transform",a.getTranslate("y2")),a.main.select(".".concat(E["default"].chartArcs)).attr("transform",a.getTranslate("arc"))}},{key:"transformAll",value:function transformAll(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)}},{key:"updateSvgSize",value:function updateSvgSize(){var t=this,e=t.svg.select(".".concat(E["default"].brush," .overlay")),n=e.size()?e.attr("height"):0;t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#".concat(t.clipId),"#".concat(t.clipIdForGrid)]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#".concat(t.clipIdForXAxis)).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#".concat(t.clipIdForYAxis)).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#".concat(t.clipIdForSubchart)).select("rect").attr("width",t.width).attr("height",n),t.svg.select(".".concat(E["default"].zoomRect)).attr("width",t.width).attr("height",t.height),t.brush&&t.brush.scale(t.subX,n)}},{key:"updateDimension",value:function updateDimension(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(t),e.updateSvgSize(),e.transformAll(!1)}},{key:"bindResize",value:function bindResize(){var t=this,e=t.config;t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){return e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){t.resizeTimeout&&(window.clearTimeout(t.resizeTimeout),t.resizeTimeout=null),t.resizeTimeout=window.setTimeout(t.api.flush,100)}),t.resizeFunction.add(function(){return e.onresized.call(t)}),window.addEventListener("resize",t.resizeFunction)}},{key:"generateResize",value:function generateResize(){function callResizeFunctions(){e.forEach(function(t){return t()})}var e=[];return callResizeFunctions.add=function(t){return e.push(t)},callResizeFunctions.remove=function(t){return e.splice(e.indexOf(t),1)},callResizeFunctions}},{key:"endall",value:function endall(t,i){var r=0;t.each(function(){return++r}).on("end",function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];--r||i.apply.apply(i,[this].concat(e))})}},{key:"generateWait",value:function generateWait(){var r=[],t=function(t,e){var i;!function loop(){var n=0;r.forEach(function(t){if(t.empty())n++;else try{t.transition()}catch(e){n++}}),i&&clearTimeout(i),n===r.length?e&&e():i=setTimeout(loop,50)}()};return t.add=function(t){Object(X.isArray)(t)?r=r.concat(t):r.push(t)},t}},{key:"parseDate",value:function parseDate(t){var e;return t instanceof Date?e=t:Object(X.isString)(t)?e=this.dataTimeFormat(this.config.data_xFormat)(t):Object(X.isNumber)(t)&&!isNaN(t)&&(e=new Date(+t)),(!e||isNaN(+e))&&console&&console.error&&console.error("Failed to parse x '".concat(t,"' to Date object")),e}},{key:"isTabVisible",value:function isTabVisible(){return!document[["hidden","mozHidden","msHidden","webkitHidden"].filter(function(t){return t in document})[0]]}},{key:"convertInputType",value:function convertInputType(){var t=this.config,e=this.isMobile(),n=t.interaction_inputType_mouse&&!e&&"onmouseover"in window,i=!1;return t.interaction_inputType_touch&&(i="ontouchmove"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),(n?"mouse":i&&"touch")||null}}]),ChartInternal}()},function(t,e,n){var i=n(5),r=n(6),a=n(7);t.exports=function _slicedToArray(t,e){return i(t)||r(t,e)||a()}},function(t,e){t.exports=function _arrayWithHoles(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function _iterableToArrayLimit(t,e){var n=[],i=!0,r=!1,a=undefined;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(c){r=!0,a=c}finally{try{i||null==s["return"]||s["return"]()}finally{if(r)throw a}}return n}},function(t,e){t.exports=function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return d});var i=n(4),r=n.n(i),a=n(2),o=n.n(a),s=n(8),c=n.n(s),g=n(10),u=n(17),p=n(15),l=function(t,e){var n=t.config.axis_rotated;return e?n:!n},d=function(){function Axis(t){o()(this,Axis),this.owner=t}return c()(Axis,[{key:"init",value:function init(){var r=this,a=this.owner,o=a.config,s=o.axis_rotated,c=a.main;["x","y","y2"].forEach(function(e){var t="axis".concat(Object(p.capitalize)(e)),n="".concat(u["default"].axis," ").concat(u["default"][t]),i=u["default"]["".concat(t,"Label")];a.axes[e]=c.append("g").attr("class",n).attr("clip-path",function(){var t=null;return"x"===e?t=a.clipPathForXAxis:"y"===e&&o.axis_y_inner&&(t=a.clipPathForYAxis),t}).attr("transform",a.getTranslate(e)).style("visibility",o["axis_".concat(e,"_show")]?"visible":"hidden"),a.axes[e].append("text").attr("class",i).attr("transform",["rotate(-90)",null]["x"===e?+!s:+s]).style("text-anchor",r.textAnchorForXAxisLabel.bind(r))})}},{key:"getXAxis",value:function getXAxis(t,e,n,i,r,a,o,s){var c=this.owner,u=c.config,l=c.isCategorized(),d={isCategory:l,withOuterTick:a,withoutTransition:o,config:u,axisName:t,tickMultiline:u.axis_x_tick_multiline,tickWidth:u.axis_x_tick_width,tickTextRotate:s?0:u.axis_x_tick_rotate,tickTitle:l&&u.axis_x_tick_tooltip&&c.api.categories(),orgXScale:c.x},f=Object(g["default"])(d).scale(c.zoomScale||e).orient(n),h=r;return c.isTimeSeries()&&r&&!Object(p.isFunction)(r)&&(h=r.map(function(t){return c.parseDate(t)})),f.tickFormat(i).tickValues(h),l&&(f.tickCentered(u.axis_x_tick_centered),Object(p.isEmpty)(u.axis_x_tick_culling)&&(u.axis_x_tick_culling=!1)),f}},{key:"getYAxis",value:function getYAxis(t,e,n,i,r,a,o,s){var c=this.owner,u=c.config,l={withOuterTick:a,withoutTransition:o,config:u,axisName:t,tickTextRotate:s?0:u.axis_y_tick_rotate},d=Object(g["default"])(l).scale(e).orient(n).tickFormat(i||c.isStackNormalized()&&function(t){return"".concat(t,"%")});return c.isTimeSeriesY()?d.ticks(u.axis_y_tick_time_value):d.tickValues(r),d}},{key:"updateXAxisTickValues",value:function updateXAxisTickValues(t,e){var n,i=this.owner,r=i.config,a=r.axis_x_tick_count;return(r.axis_x_tick_fit||a)&&(n=this.generateTickValues(i.mapTargetsToUniqueXs(t),a,i.isTimeSeries())),e?e.tickValues(n):(i.xAxis.tickValues(n),i.subXAxis.tickValues(n)),n}},{key:"getId",value:function getId(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"}},{key:"getXAxisTickFormat",value:function getXAxisTickFormat(){var e,n=this.owner,i=n.config.axis_x_tick_format,t=n.isTimeSeries(),r=n.isCategorized();return i?Object(p.isFunction)(i)?e=i:t&&(e=function(t){return t?n.axisTimeFormat(i)(t):""}):e=t?n.defaultAxisTimeFormat:r?n.categoryName:function(t){return t<0?t.toFixed(0):t},Object(p.isFunction)(e)?function(t){return e.apply(n,r?[t,n.categoryName(t)]:[t])}:e}},{key:"getTickValues",value:function getTickValues(t){var e=this.owner,n=e.config["axis_".concat(t,"_tick_values")],i=e["".concat(t,"Axis")];return n||(i?i.tickValues():undefined)}},{key:"getXAxisTickValues",value:function getXAxisTickValues(){return this.getTickValues("x")}},{key:"getYAxisTickValues",value:function getYAxisTickValues(){return this.getTickValues("y")}},{key:"getY2AxisTickValues",value:function getY2AxisTickValues(){return this.getTickValues("y2")}},{key:"getLabelOptionByAxisId",value:function getLabelOptionByAxisId(t){return this.owner.config["axis_".concat(t,"_label")]}},{key:"getLabelText",value:function getLabelText(t){var e=this.getLabelOptionByAxisId(t);return Object(p.isString)(e)?e:e?e.text:null}},{key:"setLabelText",value:function setLabelText(t,e){var n=this.owner.config,i=this.getLabelOptionByAxisId(t);Object(p.isString)(i)?n["axis_".concat(t,"_label")]=e:i&&(i.text=e)}},{key:"getLabelPosition",value:function getLabelPosition(t,e){var n=this.owner.config.axis_rotated,i=this.getLabelOptionByAxisId(t),r=Object(p.isObjectType)(i)&&i.position?i.position:e[+!n],a=function(t){return!!~r.indexOf(t)};return{isInner:a("inner"),isOuter:a("outer"),isLeft:a("left"),isCenter:a("center"),isRight:a("right"),isTop:a("top"),isMiddle:a("middle"),isBottom:a("bottom")}}},{key:"getXAxisLabelPosition",value:function getXAxisLabelPosition(){return this.getLabelPosition("x",["inner-top","inner-right"])}},{key:"getYAxisLabelPosition",value:function getYAxisLabelPosition(){return this.getLabelPosition("y",["inner-right","inner-top"])}},{key:"getY2AxisLabelPosition",value:function getY2AxisLabelPosition(){return this.getLabelPosition("y2",["inner-right","inner-top"])}},{key:"getLabelPositionById",value:function getLabelPositionById(t){return this["get".concat(t.toUpperCase(),"AxisLabelPosition")]()}},{key:"textForXAxisLabel",value:function textForXAxisLabel(){return this.getLabelText("x")}},{key:"textForYAxisLabel",value:function textForYAxisLabel(){return this.getLabelText("y")}},{key:"textForY2AxisLabel",value:function textForY2AxisLabel(){return this.getLabelText("y2")}},{key:"xForAxisLabel",value:function xForAxisLabel(t){var e=!(1<arguments.length&&arguments[1]!==undefined)||arguments[1],n=this.owner,i=t.isMiddle?-n.height/2:0;return l(n,e)?i=t.isLeft?0:t.isCenter?n.width/2:n.width:t.isBottom&&(i=-n.height),i}},{key:"dxForAxisLabel",value:function dxForAxisLabel(t){var e=!(1<arguments.length&&arguments[1]!==undefined)||arguments[1],n=this.owner,i=t.isBottom?"0.5em":"0";return l(n,e)?i=t.isLeft?"0.5em":t.isRight?"-0.5em":"0":t.isTop&&(i="-0.5em"),i}},{key:"textAnchorForAxisLabel",value:function textAnchorForAxisLabel(t){var e=!(1<arguments.length&&arguments[1]!==undefined)||arguments[1],n=this.owner,i=t.isMiddle?"middle":"end";return l(n,e)?i=t.isLeft?"start":t.isCenter?"middle":"end":t.isBottom&&(i="start"),i}},{key:"xForXAxisLabel",value:function xForXAxisLabel(){return this.xForAxisLabel(this.getXAxisLabelPosition(),!1)}},{key:"xForYAxisLabel",value:function xForYAxisLabel(){return this.xForAxisLabel(this.getYAxisLabelPosition())}},{key:"xForY2AxisLabel",value:function xForY2AxisLabel(){return this.xForAxisLabel(this.getY2AxisLabelPosition())}},{key:"dxForXAxisLabel",value:function dxForXAxisLabel(){return this.dxForAxisLabel(this.getXAxisLabelPosition(),!1)}},{key:"dxForYAxisLabel",value:function dxForYAxisLabel(){return this.dxForAxisLabel(this.getYAxisLabelPosition())}},{key:"dxForY2AxisLabel",value:function dxForY2AxisLabel(){return this.dxForAxisLabel(this.getY2AxisLabelPosition())}},{key:"dyForXAxisLabel",value:function dyForXAxisLabel(){var t=this.owner.config,e=this.getXAxisLabelPosition().isInner,n=t.axis_x_height;return t.axis_rotated?e?"1.2em":-25-this.getMaxTickWidth("x"):e?"-0.5em":n?n-10:"3em"}},{key:"dyForYAxisLabel",value:function dyForYAxisLabel(){var t=this.owner,e=this.getYAxisLabelPosition().isInner;return t.config.axis_rotated?e?"-0.5em":"3em":e?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)}},{key:"dyForY2AxisLabel",value:function dyForY2AxisLabel(){var t=this.owner,e=this.getY2AxisLabelPosition().isInner;return t.config.axis_rotated?e?"1.2em":"-2.2em":e?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)}},{key:"textAnchorForXAxisLabel",value:function textAnchorForXAxisLabel(){return this.textAnchorForAxisLabel(this.getXAxisLabelPosition(),!1)}},{key:"textAnchorForYAxisLabel",value:function textAnchorForYAxisLabel(){return this.textAnchorForAxisLabel(this.getYAxisLabelPosition())}},{key:"textAnchorForY2AxisLabel",value:function textAnchorForY2AxisLabel(){return this.textAnchorForAxisLabel(this.getY2AxisLabelPosition())}},{key:"getMaxTickWidth",value:function getMaxTickWidth(t,e){var n=this.owner,i=n.config,r=n.currentMaxTickWidths,a=0;if(e&&r[t])return r[t];if(n.svg){var o=/^y2?$/.test(t),s=n.filterTargetsToShow(n.data.targets),c=o?"getY":"getX",u=n[t].copy().domain(n["".concat(c,"Domain")](s,t)),l=this["".concat(c,"Axis")](t,u,n["".concat(t,"Orient")],o?i["axis_".concat(t,"_tick_format")]:n.xAxisTickFormat,null,!1,!0,!0);o||this.updateXAxisTickValues(s,l);var d=n.selectChart.append("svg").style("visibility","hidden").style("position","fixed").style("top","0px").style("left","0px");d.call(l).selectAll("text").each(function(){a=Math.max(a,this.getBoundingClientRect().width)}),d.remove()}return 0<a&&(r[t]=a),r[t]}},{key:"updateLabels",value:function updateLabels(i){var r=this,t=this.owner,a={X:t.main.select(".".concat(u["default"].axisX," .").concat(u["default"].axisXLabel)),Y:t.main.select(".".concat(u["default"].axisY," .").concat(u["default"].axisYLabel)),Y2:t.main.select(".".concat(u["default"].axisY2," .").concat(u["default"].axisY2Label))};Object.keys(a).forEach(function(t){var e=a[t],n="".concat(t,"AxisLabel");(i?e.transition():e).attr("x",r["xFor".concat(n)].bind(r)).attr("dx",r["dxFor".concat(n)].bind(r)).attr("dy",r["dyFor".concat(n)].bind(r)).text(r["textFor".concat(n)].bind(r))})}},{key:"getPadding",value:function getPadding(t,e,n,i){var r=Object(p.isNumber)(t)?t:t[e];return Object(p.isValue)(r)?"ratio"===t.unit?t[e]*i:this.convertPixelsToAxisPadding(r,i):n}},{key:"convertPixelsToAxisPadding",value:function convertPixelsToAxisPadding(t,e){var n=this.owner;return e*(t/(n.config.axis_rotated?n.width:n.height))}},{key:"generateTickValues",value:function generateTickValues(t,e,n){var i,r,a,o,s,c,u=t;if(e){var l=Object(p.isFunction)(e)?e():e;if(1===l)u=[t[0]];else if(2===l)u=[t[0],t[t.length-1]];else if(2<l){for(a=l-2,i=t[0],o=((r=t[t.length-1])-i)/(a+1),u=[i],s=0;s<a;s++)c=+i+o*(s+1),u.push(n?new Date(c):c);u.push(r)}}return n||(u=u.sort(function(t,e){return t-e})),u}},{key:"generateTransitions",value:function generateTransitions(e){var n=this.owner.axes,t=["x","y","y2","subx"].map(function(t){return e?n[t].transition().duration(e):n[t]}),i=r()(t,4);return{axisX:i[0],axisY:i[1],axisY2:i[2],axisSubX:i[3]}}},{key:"redraw",value:function redraw(t,e){var n=this.owner,i=e?"0":"1";["x","y","y2","subx"].forEach(function(t){n.axes[t].style("opacity",i)}),t.axisX.call(n.xAxis),t.axisY.call(n.yAxis),t.axisY2.call(n.y2Axis),t.axisSubX.call(n.subXAxis)}}]),Axis}()},function(t,e,n){"use strict";n.r(e);var i=n(11),N=n.n(i),r=n(69),P=n(68),Y=n(15),B=function(t){var a={w:5.5,h:11.5};return t.empty()||t.select("text").text("0").call(function(t){try{var e=t.node().getBBox(),n=e.height,i=e.width;n&&i&&(a.h=n,a.w=i),t.text("")}catch(r){}}),B.size=a};e["default"]=function(){function axisX(t,e){t.attr("transform",function(t){return"translate(".concat(Math.ceil(e(t)+z),", 0)")})}function axisY(t,e){t.attr("transform",function(t){return"translate(0,".concat(Math.ceil(e(t)),")")})}function textFormatted(t){var e=/\d+\.\d+0{5,}\d$/.test(t)?+(t+"").replace(/0+\d$/,""):t,n=i?i(e):e;return Object(Y.isDefined)(n)?n:""}function transitionise(t){return F.withoutTransition?t.interrupt():t.transition(e)}function axis(t){t.each(function(){var t=Object(P.select)(this);axis.g=t;var e=this.__chart__||R,c=function copyScale(){var t=R.copy();return t.domain().length||t.domain(R.domain()),t}();this.__chart__=c;var n,i,u=X||function generateTicks(t){var e=[];if(t.ticks)return t.ticks.apply(t,N()(j?Object(Y.toArray)(j):[])).map(function(t){return Object(Y.isString)(t)&&Object(Y.isNumber)(t)&&!isNaN(t)&&Math.round(10*t)/10||t});for(var n=t.domain(),i=Math.ceil(n[0]);i<n[1];i++)e.push(i);return 0<e.length&&0<e[0]&&e.unshift(e[0]-(e[1]-e[0])),e}(c),r=t.selectAll(".tick").data(u,c),a=r.enter().insert("g",".domain").attr("class","tick").style("opacity","1"),o=r.exit().remove(),s=transitionise(r=a.merge(r)).style("opacity","1"),l=R.rangeExtent?R.rangeExtent():function scaleExtent(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}((F.orgXScale||R).range()),d=t.selectAll(".domain").data([0]),f=d.enter().append("path").attr("class","domain").merge(transitionise(d));a.append("line"),a.append("text");var h=a.select("line"),g=s.select("line"),p=a.select("text"),m=s.select("text");F.isCategory?(z=Math.ceil((c(1)-c(0))/2),n=D?0:z,i=D?z:0):z=n=0;var x=B.size||B(t.select(".tick")),_=[],v=Math.max(6,0)+3,y=/^(left|right)$/.test(I),b=/^(top|bottom)$/.test(I),T=r.select("text").selectAll("tspan").data(function(t,e){var n=F.tickMultiline?function splitTickText(t,e){var n=textFormatted(t),i=Object(Y.isString)(n)&&-1<n.indexOf("\n")?n.split("\n"):[];if(i.length)return i;var r,a,o,s=e;return Object(Y.isArray)(n)?n:((!s||s<=0)&&(s=y?95:F.isCategory?Math.ceil(c(u[1])-c(u[0]))-12:110),function split(t,e){a=undefined;for(var n=1;n<e.length;n++)if(" "===e.charAt(n)&&(a=n),r=e.substr(0,n+1),o=x.w*r.length,s<o)return split(t.concat(e.substr(0,a||n)),e.slice(a?a+1:n));return t.concat(e)}(i,n+""))}(t,F.tickWidth):Object(Y.isArray)(textFormatted(t))?textFormatted(t).concat():[textFormatted(t)];return _[e]=n.length,n.map(function(t){return{index:e,splitted:t}})});T.exit().remove(),T=T.enter().append("tspan").merge(T).text(function(t){return t.splitted});var w=b?axisX:axisY,A=/^(top|left)$/.test(I)?-1:1,O=w===axisX?"y":"x";h.attr("".concat(O,"2"),6*A),p.attr("".concat(O),v*A),f.attr("d",function(){var t=E*A;return b?"M".concat(l[0],",").concat(t,"V0H").concat(l[1],"V").concat(t):"M".concat(t,",").concat(l[0],"H0V").concat(l[1],"H").concat(t)});var S,M=F.tickTextRotate,k=F.axisName&&/^(x|y|y2)$/.test(F.axisName)?F.config["axis_".concat(F.axisName,"_tick_text_position")]:{x:0,y:0};if(T.attr("x",b?0:v*A).attr("dx",(S=0,"bottom"===I&&M&&(S=8*Math.sin(Math.PI*(M/180))),S+(k.x||0))).attr("dy",function(t,e){var n=0;return"top"!==I&&(n=0===e?y?-((_[t.index]-1)*(x.h/2)-3):0===k.y?".71em":0:x.h),Object(Y.isNumber)(n)&&k.y?n+k.y:n||".71em"}),"bottom"===I?(g.attr("x1",n).attr("x2",n).attr("y2",function(t){var e=R(t)+(D?0:z);return l[0]<e&&e<l[1]?6:0}),m.attr("x",0).attr("y",function yForText(t){return t?11.5-t/15*2.5*(0<t?1:-1):v}(M)).style("text-anchor",function textAnchorForText(t){return t?0<t?"start":"end":"middle"}(M)).attr("transform",function textTransform(t){return t?"rotate(".concat(t,")"):null}(M))):"top"===I?(g.attr("x2",0).attr("y2",-6),m.attr("x",0).attr("y",-v).style("text-anchor","middle")):"left"===I?(g.attr("x2",-6).attr("y1",i).attr("y2",i),m.attr("x",-v).attr("y",z).style("text-anchor","end")):"right"===I&&(g.attr("x2",6).attr("y2",0),m.attr("x",v).attr("y",0).style("text-anchor","start")),F.tickTitle&&m.append&&m.append("title").each(function(t){Object(P.select)(this).text(F.tickTitle[t])}),c.bandwidth){var C=c,L=C.bandwidth()/2;c=e=function(t){return C(t)+L}}else e.bandwidth?e=c:o.call(w,c);a.call(w,e),s.call(w,c)})}var i,j,D,e,F=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{},R=Object(r.scaleLinear)(),I="bottom",E=F.withOuterTick?6:0,X=null,z=0,n=!0;return axis.scale=function(t){return arguments.length?(R=t,axis):R},axis.orient=function(t){return arguments.length?(I=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",axis):I},axis.tickFormat=function(t){return arguments.length?(i=t,axis):i},axis.tickCentered=function(t){return arguments.length?(D=t,axis):D},axis.tickOffset=function(){return z},axis.tickInterval=function(t){var e;F.isCategory?e=2*z:e=(axis.g.select("path.domain").node().getTotalLength()-2*E)/(t||axis.g.selectAll("line").size());return e===Infinity?0:e},axis.ticks=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length?(j=Object(Y.toArray)(e),axis):j},axis.tickCulling=function(t){return arguments.length?(n=t,axis):n},axis.tickValues=function(t){if(Object(Y.isFunction)(t))X=function(){return t(R.domain())};else{if(!arguments.length)return X;X=t}return axis},axis.setTransition=function(t){return e=t,axis},axis}},function(t,e,n){var i=n(12),r=n(13),a=n(14);t.exports=function _toConsumableArray(t){return i(t)||r(t)||a()}},function(t,e){t.exports=function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){"use strict";n.r(e),n.d(e,"asHalfPixel",function(){return m}),n.d(e,"brushEmpty",function(){return L}),n.d(e,"callFn",function(){return O}),n.d(e,"capitalize",function(){return D}),n.d(e,"ceil10",function(){return p}),n.d(e,"diffDomain",function(){return x}),n.d(e,"emulateEvent",function(){return E}),n.d(e,"extend",function(){return j}),n.d(e,"getBrushSelection",function(){return C}),n.d(e,"getCssRules",function(){return I}),n.d(e,"getOption",function(){return w}),n.d(e,"getPathBox",function(){return k}),n.d(e,"getRectSegList",function(){return M}),n.d(e,"hasValue",function(){return A}),n.d(e,"isArray",function(){return b}),n.d(e,"isBoolean",function(){return g}),n.d(e,"isDefined",function(){return h}),n.d(e,"isEmpty",function(){return v}),n.d(e,"isFunction",function(){return u}),n.d(e,"isNumber",function(){return d}),n.d(e,"isObject",function(){return T}),n.d(e,"isObjectType",function(){return _}),n.d(e,"isString",function(){return l}),n.d(e,"isUndefined",function(){return f}),n.d(e,"isValue",function(){return c}),n.d(e,"notEmpty",function(){return y}),n.d(e,"merge",function(){return F}),n.d(e,"sanitise",function(){return S}),n.d(e,"toArray",function(){return R});var i=n(16),r=n.n(i),a=n(68),o=n(81),s=n(17),c=function(t){return t||0===t},u=function(t){return"function"==typeof t},l=function(t){return"string"==typeof t},d=function(t){return"number"==typeof t},f=function(t){return void 0===t},h=function(t){return void 0!==t},g=function(t){return"boolean"==typeof t},p=function(t){return 10*Math.ceil(t/10)},m=function(t){return Math.ceil(t)+.5},x=function(t){return t[1]-t[0]},_=function(t){return"object"===r()(t)},v=function(t){return f(t)||null===t||l(t)&&0===t.length||_(t)&&0===Object.keys(t).length},y=function(t){return!v(t)},b=function(t){return t&&t.constructor===Array},T=function(t){return t&&!t.nodeType&&_(t)&&!b(t)},w=function(t,e,n){return h(t[e])?t[e]:n},A=function(e,n){var i=!1;return Object.keys(e).forEach(function(t){return e[t]===n&&(i=!0)}),i},O=function(t){for(var e=u(t),n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return e&&t.call.apply(t,i),e},S=function(t){return l(t)?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},M=function(t){var e=t.getBBox(),n=[e.x,e.y,e.width,e.height],i=n[0],r=n[1],a=n[2],o=n[3];return[{x:i,y:r+o},{x:i,y:r},{x:i+a,y:r},{x:i+a,y:r+o}]},k=function(t){var e=t.getBoundingClientRect(),n=[e.width,e.height],i=n[0],r=n[1],a=M(t);return{x:a[0].x,y:Math.min(a[0].y,a[1].y),width:i,height:r}},C=function(t){var e=null,n=a.event,i=t.context||t.main;return n&&"BrushEvent"===n.constructor.name?e=n.selection:i&&(e=i.select(".".concat(s["default"].brush)).node())&&(e=Object(o.brushSelection)(e)),e},L=function(t){var e=C(t);return!e||e[0]===e[1]},j=function(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{},e=1<arguments.length?arguments[1]:undefined;for(var n in e)t[n]=e[n];return t},D=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},F=function(t){function merge(){return t.apply(this,arguments)}return merge.toString=function(){return t.toString()},merge}(function(n){for(var t=arguments.length,e=Array(1<t?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];if(!e.length||1===e.length&&!e[0])return n;var r=e.shift();return T(n)&&T(r)&&Object.keys(r).forEach(function(t){var e=r[t];T(e)?(!n[t]&&(n[t]={}),n[t]=F(n[t],e)):n[t]=b(e)?e.concat():e}),j.apply(void 0,[n].concat(e))}),R=function(t){return[].slice.call(t)},I=function(t){var n=[];return t.forEach(function(t){try{t.cssRules&&t.cssRules.length&&(n=n.concat(R(t.cssRules)))}catch(e){console.error("Error while reading rules from ".concat(t.href,": ").concat(e.toString()))}}),n},E={mouse:function(){try{return new MouseEvent("t"),function(t,e){var n=2<arguments.length&&arguments[2]!==undefined?arguments[2]:{bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0};t.dispatchEvent(new MouseEvent(e,n))}}catch(t){return function(t,e){var n=2<arguments.length&&arguments[2]!==undefined?arguments[2]:{bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0},i=document.createEvent("MouseEvent");i.initMouseEvent(e,n.bubbles,n.cancelable,window,0,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}}}(),touch:function touch(t,e,n){var i=new Touch(Object.assign({identifier:Date.now(),target:t,radiusX:2.5,radiusY:2.5,rotationAngle:10,force:.5},n));t.dispatchEvent(new TouchEvent(e,{cancelable:!0,bubbles:!0,shiftKey:!0,touches:[i],targetTouches:[],changedTouches:[i]}))}}},function(e,t){function _typeof2(t){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof2(t){return typeof t}:function _typeof2(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(t){return"function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?e.exports=_typeof=function _typeof(t){return _typeof2(t)}:e.exports=_typeof=function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)},_typeof(t)}e.exports=_typeof},function(t,e,n){"use strict";n.r(e),e["default"]={arc:"bb-arc",arcs:"bb-arcs",area:"bb-area",areas:"bb-areas",axis:"bb-axis",axisX:"bb-axis-x",axisXLabel:"bb-axis-x-label",axisY:"bb-axis-y",axisY2:"bb-axis-y2",axisY2Label:"bb-axis-y2-label",axisYLabel:"bb-axis-y-label",bar:"bb-bar",bars:"bb-bars",brush:"bb-brush",button:"bb-button",buttonZoomReset:"bb-zoom-reset",chart:"bb-chart",chartArc:"bb-chart-arc",chartArcs:"bb-chart-arcs",chartArcsBackground:"bb-chart-arcs-background",chartArcsGaugeMax:"bb-chart-arcs-gauge-max",chartArcsGaugeMin:"bb-chart-arcs-gauge-min",chartArcsGaugeUnit:"bb-chart-arcs-gauge-unit",chartArcsTitle:"bb-chart-arcs-title",chartBar:"bb-chart-bar",chartBars:"bb-chart-bars",chartLine:"bb-chart-line",chartLines:"bb-chart-lines",chartRadar:"bb-chart-radar",chartRadars:"bb-chart-radars",chartText:"bb-chart-text",chartTexts:"bb-chart-texts",circle:"bb-circle",circles:"bb-circles",colorPattern:"bb-color-pattern",defocused:"bb-defocused",dragarea:"bb-dragarea",empty:"bb-empty",eventRect:"bb-event-rect",eventRects:"bb-event-rects",eventRectsMultiple:"bb-event-rects-multiple",eventRectsSingle:"bb-event-rects-single",focused:"bb-focused",gaugeValue:"bb-gauge-value",grid:"bb-grid",gridLines:"bb-grid-lines",legendBackground:"bb-legend-background",legendItem:"bb-legend-item",legendItemEvent:"bb-legend-item-event",legendItemFocused:"bb-legend-item-focused",legendItemHidden:"bb-legend-item-hidden",legendItemPoint:"bb-legend-item-point",legendItemTile:"bb-legend-item-tile",level:"bb-level",levels:"bb-levels",line:"bb-line",lines:"bb-lines",region:"bb-region",regions:"bb-regions",selectedCircle:"bb-selected-circle",selectedCircles:"bb-selected-circles",shape:"bb-shape",shapes:"bb-shapes",target:"bb-target",text:"bb-text",texts:"bb-texts",title:"bb-title",tooltip:"bb-tooltip",tooltipContainer:"bb-tooltip-container",tooltipName:"bb-tooltip-name",xgrid:"bb-xgrid",xgridFocus:"bb-xgrid-focus",xgridLine:"bb-xgrid-line",xgridLines:"bb-xgrid-lines",xgrids:"bb-xgrids",ygrid:"bb-ygrid",ygridLine:"bb-ygrid-line",ygridLines:"bb-ygrid-lines",ygrids:"bb-ygrids",zoomBrush:"bb-zoom-brush",zoomRect:"bb-zoom-rect",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"}},function(t,e,n){"use strict";n.r(e);var i=n(69),r=n(3),a=n(15);Object(a.extend)(r["default"].prototype,{getScale:function getScale(t,e,n){return(n?Object(i.scaleTime)():Object(i.scaleLinear)()).range([t,e])},getX:function getX(t,e,n,i){var r=this.zoomScale||this.getScale(t,e,this.isTimeSeries());return this.getCustomizedScale(n?r.domain(n):r,i)},getY:function getY(t,e,n){var i=this.getScale(t,e,this.isTimeSeriesY());return n&&i.domain(n),i},getCustomizedScale:function getCustomizedScale(i,t){var e=this,r=t||function(){return e.xAxis.tickOffset()},n=function(t,e){var n=i(t)+r();return e?n:Math.ceil(n)};for(var a in i)n[a]=i[a];return n.orgDomain=function(){return i.domain()},n.orgScale=function(){return i},e.isCategorized()&&(n.domain=function(t){var e=t;return arguments.length?(i.domain(e),n):[(e=this.orgDomain())[0],e[1]+1]}),n},getYScale:function getYScale(t){return"y2"===this.axis.getId(t)?this.y2:this.y},getSubYScale:function getSubYScale(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},updateScales:function updateScales(t){var e=this,n=e.config,i=n.axis_rotated,r=!e.x;e.xMin=i?1:0,e.xMax=i?e.height:e.width,e.yMin=i?0:e.height,e.yMax=i?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=i?0:e.height2,e.subYMax=i?e.width2:1,e.x=e.getX(e.xMin,e.xMax,r?undefined:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,r?n.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,r?n.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,r?n.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,r?n.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis("x",e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,n.axis_x_tick_outer,t),e.subXAxis=e.axis.getXAxis("subx",e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,n.axis_x_tick_outer),e.yAxis=e.axis.getYAxis("y",e.y,e.yOrient,n.axis_y_tick_format,e.yAxisTickValues,n.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis("y2",e.y2,e.y2Orient,n.axis_y2_tick_format,e.y2AxisTickValues,n.axis_y2_tick_outer),e.updateArc&&e.updateArc()}})},function(t,e,n){"use strict";n.r(e);var g=n(70),i=n(3),S=n(15);Object(S.extend)(i["default"].prototype,{getYDomainMinMax:function getYDomainMinMax(c,t){var u=this,e=u.config,l="min"===t,d=e.data_groups,f=u.mapToIds(c),h=u.getValuesAsIdKeyed(c),n=l?g.min:g.max;return 0<d.length&&function(){for(var a,t,o=u["has".concat(l?"Negative":"Positive","ValueInTargets")](c),e=0;t=d[e];e++)if(0!==(t=t.filter(function(t){return 0<=f.indexOf(t)})).length){if(a=t[0],o&&h[a]){var n=l?function(t,e){h[a][e]=t<0?t:0}:function(t,e){h[a][e]=0<t?t:0};h[a].forEach(n)}for(var i,r=function(t,r){return h[r]?void h[r].forEach(function(t,e){var n=+t,i=l?0<n:n<0;u.axis.getId(r)===u.axis.getId(a)&&h[a]&&(!o||!i)&&(h[a][e]+=n)}):"continue"},s=1;i=t[s];s++)r(0,i)}}(),n(Object.keys(h).map(function(t){return n(h[t])}))},getYDomainMin:function getYDomainMin(t){return this.getYDomainMinMax(t,"min")},getYDomainMax:function getYDomainMax(t){return this.getYDomainMinMax(t,"max")},getYDomain:function getYDomain(t,e,n){var i=this,r=i.config;if(i.isStackNormalized())return[0,100];var a,o=t.filter(function(t){return i.axis.getId(t.id)===e}),s=n?i.filterByXDomain(o,n):o,c="y2"===e?r.axis_y2_min:r.axis_y_min,u="y2"===e?r.axis_y2_max:r.axis_y_max,l=i.getYDomainMin(s),d=i.getYDomainMax(s),f="y2"===e?r.axis_y2_center:r.axis_y_center,h=i.hasType("bar",s)&&r.bar_zerobased||i.hasType("area",s)&&r.area_zerobased,g="y2"===e?r.axis_y2_inverted:r.axis_y_inverted,p=i.hasDataLabel()&&r.axis_rotated,m=i.hasDataLabel()&&!r.axis_rotated;if(l=Object(S.isValue)(c)?c:Object(S.isValue)(u)?l<u?l:u-10:l,d=Object(S.isValue)(u)?u:Object(S.isValue)(c)?c<d?d:c+10:d,0===s.length)return"y2"===e?i.y2.domain():i.y.domain();isNaN(l)&&(l=0),isNaN(d)&&(d=l),l===d&&(l<0?d=0:l=0);var x=0<=l&&0<=d,_=l<=0&&d<=0;(Object(S.isValue)(c)&&x||Object(S.isValue)(u)&&_)&&(h=!1),h&&(x&&(l=0),_&&(d=0));var v=Math.abs(d-l),y=.1*v,b=.1*v;if(Object(S.isDefined)(f)){var T=Math.max(Math.abs(l),Math.abs(d));d=f+T,l=f-T}if(p){a=i.getDataLabelLength(l,d,"width");var w=Object(S.diffDomain)(i.y.range()),A=[a[0]/w,a[1]/w];y+=v*(A[1]/(1-A[0]-A[1])),b+=v*(A[0]/(1-A[0]-A[1]))}else m&&(a=i.getDataLabelLength(l,d,"height"),y+=i.axis.convertPixelsToAxisPadding(a[1],v),b+=i.axis.convertPixelsToAxisPadding(a[0],v));"y"===e&&Object(S.notEmpty)(r.axis_y_padding)&&(y=i.axis.getPadding(r.axis_y_padding,"top",y,v),b=i.axis.getPadding(r.axis_y_padding,"bottom",b,v)),"y2"===e&&Object(S.notEmpty)(r.axis_y2_padding)&&(y=i.axis.getPadding(r.axis_y2_padding,"top",y,v),b=i.axis.getPadding(r.axis_y2_padding,"bottom",b,v)),h&&(x&&(b=l),_&&(y=-d));var O=[l-b,d+y];return g?O.reverse():O},getXDomainMinMax:function getXDomainMinMax(t,e){var n=this.config["axis_x_".concat(e)],i="min"===e?g.min:g.max;return Object(S.isDefined)(n)?this.isTimeSeries()?this.parseDate(n):n:i(t,function(t){return i(t.values,function(t){return t.x})})},getXDomainMin:function getXDomainMin(t){return this.getXDomainMinMax(t,"min")},getXDomainMax:function getXDomainMax(t){return this.getXDomainMinMax(t,"max")},getXDomainPadding:function getXDomainPadding(t){var e,n,i=this.config,r=t[1]-t[0],a=i.axis_x_padding,o=n=this.isCategorized()?0:this.hasType("bar")?1<(e=this.getMaxDataCount())?r/(e-1)/2:.5:.01*r,s=n;return Object(S.isObject)(a)&&Object(S.notEmpty)(a)?(o=Object(S.isValue)(a.left)?a.left:n,s=Object(S.isValue)(a.right)?a.right:n):Object(S.isNumber)(i.axis_x_padding)&&(s=o=a),{left:o,right:s}},getXDomain:function getXDomain(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],i=n[0],r=n[1],a=e.getXDomainPadding(n),o=0,s=0;return i-r!=0||e.isCategorized()||(r=e.isTimeSeries()?(i=new Date(.5*i.getTime()),new Date(1.5*r.getTime())):(i=0===i?1:.5*i,0===r?-1:1.5*r)),(i||0===i)&&(o=e.isTimeSeries()?new Date(i.getTime()-a.left):i-a.left),(r||0===r)&&(s=e.isTimeSeries()?new Date(r.getTime()+a.right):r+a.right),[o,s]},updateXDomain:function updateXDomain(t,e,n,i,r){var a=this,o=a.config.zoom_enabled;if(n&&(a.x.domain(r||Object(g.extent)(a.getXDomain(t))),a.orgXDomain=a.x.domain(),o&&a.zoom.updateScaleExtent(),a.subX.domain(a.x.domain()),a.brush&&a.brush.scale(a.subX)),e){var s=r||!a.brush||Object(S.brushEmpty)(a)?a.orgXDomain:Object(S.getBrushSelection)(a).map(a.subX.invert);a.x.domain(s),o&&a.zoom.updateScaleExtent()}return i&&a.x.domain(a.trimXDomain(a.x.orgDomain())),a.x.domain()},trimXDomain:function trimXDomain(t){var e=this.getZoomDomain(),n=e[0],i=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),i<=t[1]&&(t[0]=+t[0]-(t[1]-i),t[1]=i),t}})},function(t,e,n){"use strict";n.r(e);var i=n(11),r=n.n(i),d=n(70),a=n(75),o=n(17),s=n(3),u=n(15);Object(u.extend)(s["default"].prototype,{isX:function isX(t){var e=this.config,n=e.data_x&&t===e.data_x,i=Object(u.notEmpty)(e.data_xs)&&Object(u.hasValue)(e.data_xs,t);return n||i},isNotX:function isNotX(t){return!this.isX(t)},isStackNormalized:function isStackNormalized(){var t=this.config;return t.data_stack_normalize&&t.data_groups.length},isGrouped:function isGrouped(e){return this.config.data_groups.map(function(t){return 0<=t.indexOf(e)})[0]},getXKey:function getXKey(t){var e=this.config;return e.data_x?e.data_x:Object(u.notEmpty)(e.data_xs)?e.data_xs[t]:null},getXValuesOfXKey:function getXValuesOfXKey(e,t){var n,i=this;return(t&&Object(u.notEmpty)(t)?i.mapToIds(t):[]).forEach(function(t){i.getXKey(t)===e&&(n=i.data.xs[t])}),n},getIndexByX:function getIndexByX(t){var e=this.filterByX(this.data.targets,t);return e.length?e[0].index:null},getXValue:function getXValue(t,e){return t in this.data.xs&&this.data.xs[t]&&Object(u.isValue)(this.data.xs[t][e])?this.data.xs[t][e]:e},getOtherTargetXs:function getOtherTargetXs(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},getOtherTargetX:function getOtherTargetX(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},addXs:function addXs(e){var n=this;Object.keys(e).forEach(function(t){n.config.data_xs[t]=e[t]})},hasMultipleX:function hasMultipleX(e){return 1<Object(a.set)(Object.keys(e).map(function(t){return e[t]})).size()},isMultipleX:function isMultipleX(){return Object(u.notEmpty)(this.config.data_xs)||!this.config.data_xSort||this.hasType("bubble")||this.hasType("scatter")},addName:function addName(t){var e;return t&&(e=this.config.data_names[t.id],t.name=e===undefined?t.id:e),t},getAllValuesOnIndex:function getAllValuesOnIndex(e){var n=this;return n.filterTargetsToShow(n.data.targets).map(function(t){return n.addName(n.getValueOnIndex(t.values,e))})},getValueOnIndex:function getValueOnIndex(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},updateTargetX:function updateTargetX(t,i){var r=this;t.forEach(function(n){n.values.forEach(function(t,e){t.x=r.generateTargetX(i[e],n.id,e)}),r.data.xs[n.id]=i})},updateTargetXs:function updateTargetXs(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},generateTargetX:function generateTargetX(t,e,n){var i=this,r=i.isCategorized()?n:t||n;return i.isTimeSeries()?r=t?i.parseDate(t):i.parseDate(i.getXValue(e,n)):i.isCustomX()&&!i.isCategorized()&&(r=Object(u.isValue)(t)?+t:i.getXValue(e,n)),r},cloneTarget:function cloneTarget(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},updateXs:function updateXs(){var e=this;e.data.targets.length&&(e.xs=[],e.data.targets[0].values.forEach(function(t){e.xs[t.index]=t.x}))},getPrevX:function getPrevX(t){var e=this.xs[t-1];return Object(u.isDefined)(e)?e:null},getNextX:function getNextX(t){var e=this.xs[t+1];return Object(u.isDefined)(e)?e:null},getBaseValue:function getBaseValue(t){var e=t.value;return e&&this.isAreaRangeType(t)&&(e=this.getAreaRangeData(t,"mid")),e},getMinMaxValue:function getMinMaxValue(t){var e,n,i=this.getBaseValue.bind(this);return(t||this.data.targets.map(function(t){return t.values})).forEach(function(t){e=Object(d.min)([e,Object(d.min)(t,i)]),n=Object(d.max)([n,Object(d.max)(t,i)])}),{min:e,max:n}},getMinMaxData:function getMinMaxData(){var i=this,t="$minMaxData",e=i.getCache(t);if(!e){var n=i.data.targets.map(function(t){return t.values}),r=i.getMinMaxValue(n),a=[],o=[];n.forEach(function(t){var e=i.getFilteredDataByValue(t,r.min),n=i.getFilteredDataByValue(t,r.max);e.length&&(a=a.concat(e)),n.length&&(o=o.concat(n))}),i.addCache(t,e={min:a,max:o})}return e},getTotalPerIndex:function getTotalPerIndex(){var n=this.getCache("$totalPerIndex");return this.isStackNormalized()&&!n&&(n=[],this.data.targets.forEach(function(t){t.values.forEach(function(t,e){n[e]||(n[e]=0),n[e]+=t.value})})),n},getTotalDataSum:function getTotalDataSum(){var t="$totalDataSum",e=this.getCache(t);if(!e){var n=0;this.data.targets.map(function(t){return t.values}).forEach(function(t){n+=Object(d.sum)(t,function(t){return t.value})}),this.addCache(t,e=n)}return e},getFilteredDataByValue:function getFilteredDataByValue(t,e){var n=this;return t.filter(function(t){return n.getBaseValue(t)===e})},getMaxDataCount:function getMaxDataCount(){return Object(d.max)(this.data.targets,function(t){return t.values.length})},getMaxDataCountTarget:function getMaxDataCountTarget(t){var e,n=t.length,i=0;return 1<n?t.forEach(function(t){t.values.length>i&&(i=(e=t).values.length)}):e=n?t[0]:null,e},mapToIds:function mapToIds(t){return t.map(function(t){return t.id})},mapToTargetIds:function mapToTargetIds(t){return t?Object(u.isArray)(t)?t.concat():[t]:this.mapToIds(this.data.targets)},hasTarget:function hasTarget(t,e){for(var n,i=this.mapToIds(t),r=0;n=i[r];r++)if(n===e)return!0;return!1},isTargetToShow:function isTargetToShow(t){return this.hiddenTargetIds.indexOf(t)<0},isLegendToShow:function isLegendToShow(t){return this.hiddenLegendIds.indexOf(t)<0},filterTargetsToShow:function filterTargetsToShow(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},mapTargetsToUniqueXs:function mapTargetsToUniqueXs(t){var e=Object(a.set)(Object(d.merge)(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(e=this.isTimeSeries()?e.map(function(t){return new Date(+t)}):e.map(function(t){return+t})).sort(function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN})},addHiddenTargetIds:function addHiddenTargetIds(t){this.hiddenTargetIds=this.hiddenTargetIds.concat(t)},removeHiddenTargetIds:function removeHiddenTargetIds(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0})},addHiddenLegendIds:function addHiddenLegendIds(t){this.hiddenLegendIds=this.hiddenLegendIds.concat(t)},removeHiddenLegendIds:function removeHiddenLegendIds(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},getValuesAsIdKeyed:function getValuesAsIdKeyed(t){var e={};return t.forEach(function(t){var n=[];t.values.forEach(function(t){var e=t.value;Object(u.isArray)(e)?n.push.apply(n,r()(e)):Object(u.isObject)(e)&&"high"in e?n.push.apply(n,r()(Object.values(e))):n.push(e)}),e[t.id]=n}),e},checkValueInTargets:function checkValueInTargets(t,e){for(var n,i=Object.keys(t),r=0;r<i.length;r++){n=t[i[r]].values;for(var a=0;a<n.length;a++)if(e(n[a].value))return!0}return!1},hasNegativeValueInTargets:function hasNegativeValueInTargets(t){return this.checkValueInTargets(t,function(t){return t<0})},hasPositiveValueInTargets:function hasPositiveValueInTargets(t){return this.checkValueInTargets(t,function(t){return 0<t})},_checkOrder:function _checkOrder(t){var e=this.config;return Object(u.isString)(e.data_order)&&e.data_order.toLowerCase()===t},isOrderDesc:function isOrderDesc(){return this._checkOrder("desc")},isOrderAsc:function isOrderAsc(){return this._checkOrder("asc")},orderTargets:function orderTargets(t){var e=this.config,n=r()(t),a=this.isOrderAsc(),i=this.isOrderDesc();return a||i?n.sort(function(t,e){var n=function(t,e){return t+Math.abs(e.value)},i=t.values.reduce(n,0),r=e.values.reduce(n,0);return a?r-i:i-r}):Object(u.isFunction)(e.data_order)&&n.sort(e.data_order),n},filterByX:function filterByX(t,e){return Object(d.merge)(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},filterRemoveNull:function filterRemoveNull(t){var e=this;return t.filter(function(t){return Object(u.isValue)(e.getBaseValue(t))})},filterByXDomain:function filterByXDomain(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},hasDataLabel:function hasDataLabel(){var t=this.config.data_labels;return Object(u.isBoolean)(t)&&t||Object(u.isObjectType)(t)&&Object(u.notEmpty)(t)},getDataLabelLength:function getDataLabelLength(t,e,n){var i=this,r=[0,0];return i.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return i.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=1.3*this.getBoundingClientRect()[n]}).remove(),r},isNoneArc:function isNoneArc(t){return this.hasTarget(this.data.targets,t.id)},isArc:function isArc(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},findSameXOfValues:function findSameXOfValues(t,e){var n,i=t[e].x,r=[];for(n=e-1;0<=n&&i===t[n].x;n--)r.push(t[n]);for(n=e;n<t.length&&i===t[n].x;n++)r.push(t[n]);return r},findClosestFromTargets:function findClosestFromTargets(t,e){var n=this,i=t.map(function(t){return n.findClosest(t.values,e)});return n.findClosest(i,e)},findClosest:function findClosest(t,n){var i,r=this,a=r.config.point_sensitivity;return t.filter(function(t){return t&&r.isBarType(t.id)}).forEach(function(t){var e=r.main.select(".".concat(o["default"].bars).concat(r.getTargetSelectorSuffix(t.id)," .").concat(o["default"].bar,"-").concat(t.index)).node();!i&&r.isWithinBar(e)&&(i=t)}),t.filter(function(t){return t&&!r.isBarType(t.id)}).forEach(function(t){var e=r.dist(t,n);e<a&&(a=e,i=t)}),i},dist:function dist(t,e){var n=this.config.axis_rotated,i=n?1:0,r=n?0:1,a=this.circleY(t,t.index),o=this.x(t.x);return Math.sqrt(Math.pow(o-e[i],2)+Math.pow(a-e[r],2))},convertValuesToStep:function convertValuesToStep(t){var e=this.config,n=e.axis_rotated,i=e.line_step_type,r=this.isCategorized(),a=Object(u.isArray)(t)?t.concat():[t];if(!n&&!r)return t;var o=a[0].id,s=a[0].x-1,c=a[0].value;return r&&a.unshift({x:s,value:c,id:o}),"step-after"===i&&a.unshift({x:s-1,value:c,id:o}),c=a[(s=a.length)-1].value,r&&a.push({x:s,value:c,id:o}),"step-before"===i&&a.push({x:s+1,value:c,id:o}),a},convertValuesToRange:function convertValuesToRange(t){var e=Object(u.isArray)(t)?t.concat():[t],i=[];return e.forEach(function(t){var e=t.x,n=t.id;i.push({x:e,id:n,value:t.value[0]}),i.push({x:e,id:n,value:t.value[2]})}),i},updateDataAttributes:function updateDataAttributes(t,e){var n=this.config["data_".concat(t)];return Object(u.isUndefined)(e)||(Object.keys(e).forEach(function(t){n[t]=e[t]}),this.redraw({withLegend:!0})),n},getAreaRangeData:function getAreaRangeData(t,e){var n=t.value;if(Object(u.isArray)(n)){var i=["high","mid","low"].indexOf(e);return-1===i?null:n[i]}return n[e]},getRatio:function getRatio(t,e,n){var i=this,r=i.config,a=i.api,o=0;if(e&&a.data.shown.call(a).length){var s=a.data.values.bind(a);if(o=e.ratio||e.value,"arc"===t)if(i.pie.padAngle()()){var c=i.getTotalDataSum();i.hiddenTargetIds.length&&(c-=Object(d.sum)(s(i.hiddenTargetIds))),o=e.value/c}else o=(e.endAngle-e.startAngle)/(Math.PI*(i.hasType("gauge")&&!r.gauge_fullCircle?1:2));else if("index"===t){var u=this.getTotalPerIndex();if(i.hiddenTargetIds.length){var l=s(i.hiddenTargetIds,!1).reduce(function(t,n){return t.map(function(t,e){return t+n[e]})});u=u.map(function(t,e){return t-l[e]})}u&&e.value&&(e.ratio=e.value/u[e.index]),o=e.ratio}else"radar"===t&&(o=parseFloat(Math.max(e.value,0))/i.maxValue*r.radar_size_ratio)}return n&&o?100*o:o}})},function(t,e,n){"use strict";n.r(e);var a=n(17),i=n(3),r=n(15);Object(r.extend)(i["default"].prototype,{load:function load(t,n){var i=this,r=t;r&&(n.filter&&(r=r.filter(n.filter)),(n.type||n.types)&&r.forEach(function(t){var e=n.types&&n.types[t.id]||n.type;i.setTargetType(t.id,e)}),i.data.targets.forEach(function(t){for(var e=0;e<r.length;e++)if(t.id===r[e].id){t.values=r[e].values,r.splice(e,1);break}}),i.data.targets=i.data.targets.concat(r)),i.updateTargets(i.data.targets),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.done&&n.done()},loadFromArgs:function loadFromArgs(e){var t,n=this;n.resetCache(),e.data?t=e.data:e.url?n.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(t){n.load(n.convertDataToTargets(t),e)}):e.json?t=n.convertJsonToData(e.json,e.keys):e.rows?t=n.convertRowsToData(e.rows):e.columns&&(t=n.convertColumnsToData(e.columns)),n.load(t?n.convertDataToTargets(t):null,e)},unload:function unload(t,e){var n=this,i=e,r=t;return n.resetCache(),i||(i=function(){}),(r=r.filter(function(t){return n.hasTarget(n.data.targets,t)}))&&0!==r.length?(n.svg.selectAll(r.map(function(t){return n.selectorTarget(t)})).transition().style("opacity","0").remove().call(n.endall,i),void r.forEach(function(e){n.withoutFadeIn[e]=!1,n.legend&&n.legend.selectAll(".".concat(a["default"].legendItem).concat(n.getTargetSelectorSuffix(e))).remove(),n.data.targets=n.data.targets.filter(function(t){return t.id!==e})})):void i()}})},function(t,e,n){"use strict";n.r(e);var i=n(3),r=n(15);Object(r.extend)(i["default"].prototype,{categoryName:function categoryName(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t}})},function(t,e,n){"use strict";n.r(e);var f=n(68),i=n(78),r=n(3),h=n(17),g=n(15);Object(g.extend)(r["default"].prototype,{initEventRect:function initEventRect(){this.main.select(".".concat(h["default"].chart)).append("g").attr("class",h["default"].eventRects).style("fill-opacity","0")},redrawEventRect:function redrawEventRect(){var t,e=this,n=e.config,i=n.zoom_enabled,r=e.isMultipleX(),a=e.main.select(".".concat(h["default"].eventRects)).style("cursor",!i||!0!==i&&"wheel"!==i.type?null:n.axis_rotate?"ns-resize":"ew-resize").classed(h["default"].eventRectsMultiple,r).classed(h["default"].eventRectsSingle,!r);if(a.selectAll(".".concat(h["default"].eventRect)).remove(),e.eventRect=a.selectAll(".".concat(h["default"].eventRect)),r)t=e.eventRect.data([0]),t=e.generateEventRectsForMultipleXs(t.enter()).merge(t);else{var o=e.getMaxDataCountTarget(e.data.targets);a.datum(o?o.values:[]),e.eventRect=a.selectAll(".".concat(h["default"].eventRect)),(t=e.eventRect.data(function(t){return t})).exit().remove(),t=e.generateEventRectsForSingleX(t.enter()).merge(t)}e.updateEventRect(t),"touch"!==e.inputType||e.svg.on("touchstart.eventRect")||e.hasArcType()||e.bindTouchOnEventRect(r)},bindTouchOnEventRect:function bindTouchOnEventRect(r){var a,o=this,s=o.config,c=function(){var t=f.event.changedTouches[0];return Object(f.select)(document.elementFromPoint(t.clientX,t.clientY))},u=function(t){var e=t&&t.attr("class")&&1*t.attr("class").replace(new RegExp("(".concat(h["default"].eventRect,"-?|s)"),"g"),"");return(isNaN(e)||null===e)&&(e=-1),e},t=s.interaction_inputType_touch.preventDefault,l=Object(g.isBoolean)(t)&&t||!1,d=!isNaN(t)&&t||null;o.svg.on("touchstart.eventRect touchmove.eventRect",function(){var t,e,n,i=c();if(!i.empty()&&i.classed(h["default"].eventRect)){if(o.dragging||o.flowing||o.hasArcType())return;t=f.event,e=t.type,n=t.changedTouches[0]["client".concat(s.axis_rotated?"Y":"X")],"touchstart"===e?l?t.preventDefault():null!==d&&(a=n):"touchmove"===e&&(l||!0===a||null!==d&&Math.abs(a-n)>=d)&&(a=!0,t.preventDefault()),function(t){if(r)o.selectRectForMultipleXs(t);else{var e=c(),n=u(e);o.setOver(n),-1===n?o.unselectRect():o.selectRectForSingle(t,e,n)}}(this)}else o.unselectRect()}).on("touchend.eventRect",function(){var t=c();if(!t.empty()&&t.classed(h["default"].eventRect)){if(o.hasArcType()||!o.toggleShape||o.cancelClick)return void(o.cancelClick&&(o.cancelClick=!1));var e=u(t);r||-1===e||o.main.selectAll(".".concat(h["default"].shape,"-").concat(e)).each(function(t){return s.data_onout.call(o.api,t)})}})},updateEventRect:function updateEventRect(t){var e,n,i,r,a=this,o=a.config,s=a.zoomScale||a.x,c=t||a.eventRect.data(),u=o.axis_rotated;if(a.isMultipleX())n=e=0,i=a.width,r=a.height;else{var l,d;if(a.isCategorized())l=a.getEventRectWidth(),d=function(t){return s(t.x)-l/2};else{a.updateXs();var f=function(t){var e=t.index;return{prev:a.getPrevX(e),next:a.getNextX(e)}};l=function(t){var e=f(t);return null===e.prev&&null===e.next?u?a.height:a.width:(null===e.prev&&(e.prev=s.domain()[0]),null===e.next&&(e.next=s.domain()[1]),Math.max(0,(s(e.next)-s(e.prev))/2))},d=function(t){var e=f(t),n=a.data.xs[t.id][t.index];return null===e.prev&&null===e.next?0:(null===e.prev&&(e.prev=s.domain()[0]),(s(n)+s(e.prev))/2)}}e=u?0:d,n=u?d:0,i=u?a.width:l,r=u?l:a.height}c.attr("class",a.classEvent.bind(a)).attr("x",e).attr("y",n).attr("width",i).attr("height",r)},selectRectForSingle:function selectRectForSingle(n,i,r){var a=this,o=a.config,s=o.data_selection_enabled,c=o.data_selection_grouped,u=o.tooltip_grouped,t=a.getAllValuesOnIndex(r);u&&(a.showTooltip(t,n),a.showXGridFocus(t),!s||c)||a.main.selectAll(".".concat(h["default"].shape,"-").concat(r)).each(function(){Object(f.select)(this).classed(h["default"].EXPANDED,!0),s&&i.style("cursor",c?"pointer":null),u||(a.hideXGridFocus(),a.hideTooltip(),!c&&a.expandCirclesBars(r))}).filter(function(t){return a.isWithinShape(this,t)}).call(function(t){var e=t.data();s&&(c||o.data_selection_isselectable(e))&&i.style("cursor","pointer"),u||(a.showTooltip(e,n),a.showXGridFocus(e),a.unexpandCircles(),t.each(function(t){return a.expandCirclesBars(r,t.id)}))})},expandCirclesBars:function expandCirclesBars(t,e,n){this.config.point_focus_expand_enabled&&this.expandCircles(t,e,n),this.expandBars(t,e,n)},selectRectForMultipleXs:function selectRectForMultipleXs(t){var e=this,n=e.config,i=e.filterTargetsToShow(e.data.targets);if(!e.dragging&&!e.hasArcType(i)){var r=Object(f.mouse)(t),a=e.findClosestFromTargets(i,r);if(e.mouseover&&(!a||a.id!==e.mouseover.id)&&(n.data_onout.call(e.api,e.mouseover),e.mouseover=undefined),!a)return void e.unselectRect();var o=(e.isBubbleType(a)||e.isScatterType(a)||!n.tooltip_grouped?[a]:e.filterByX(i,a.x)).map(function(t){return e.addName(t)});e.showTooltip(o,t),e.expandCirclesBars(a.index,a.id,!0),e.showXGridFocus(o),(e.isBarType(a.id)||e.dist(a,r)<n.point_sensitivity)&&(e.svg.select(".".concat(h["default"].eventRect)).style("cursor","pointer"),!e.mouseover&&(n.data_onover.call(e.api,a),e.mouseover=a))}},unselectRect:function unselectRect(){var t=this;t.svg.select(".".concat(h["default"].eventRect)).style("cursor",null),t.hideXGridFocus(),t.hideTooltip(),t._handleLinkedCharts(!1),t.unexpandCircles(),t.unexpandBars()},setOver:function setOver(t){var e=this,n=e.config;e.expandCirclesBars(t,null,!0),-1!==t&&e.main.selectAll(".".concat(h["default"].shape,"-").concat(t)).each(function(t){return n.data_onover.call(e.api,t)})},getDraggableSelection:function getDraggableSelection(){var t=this,e=t.config;return e.interaction_enabled&&e.data_selection_draggable&&t.drag?Object(i.drag)().on("drag",function(){t.drag(Object(f.mouse)(this))}).on("start",function(){t.dragstart(Object(f.mouse)(this))}).on("end",function(){t.dragend()}):function(){}},generateEventRectsForSingleX:function generateEventRectsForSingleX(t){var i=this,n=i.config,e=t.append("rect").attr("class",i.classEvent.bind(i)).style("cursor",n.data_selection_enabled&&n.data_selection_grouped?"pointer":null).on("click",function(t){i.clickHandlerForSingleX.bind(this)(t,i)}).call(i.getDraggableSelection());return"mouse"===i.inputType&&e.on("mouseover",function(t){i.dragging||i.flowing||i.hasArcType()||i.setOver(t.index)}).on("mousemove",function(t){if(!(i.dragging||i.flowing||i.hasArcType())){var e=t.index,n=i.svg.select(".".concat(h["default"].eventRect,"-").concat(e));i.isStepType(t)&&"step-after"===i.config.line_step_type&&Object(f.mouse)(this)[0]<i.x(i.getXValue(t.id,e))&&(e-=1),-1===e?i.unselectRect():i.selectRectForSingle(this,n,e)}}).on("mouseout",function(t){if(i.config&&!i.hasArcType()){var e=t.index;i.unselectRect(),i.main.selectAll(".".concat(h["default"].shape,"-").concat(e)).each(function(t){return n.data_onout.call(i.api,t)})}}),e},clickHandlerForSingleX:function clickHandlerForSingleX(t,e){var n=e,i=n.config;if(n.hasArcType()||!n.toggleShape||n.cancelClick)n.cancelClick&&(n.cancelClick=!1);else{var r=t.index;n.main.selectAll(".".concat(h["default"].shape,"-").concat(r)).each(function(t){(i.data_selection_grouped||n.isWithinShape(this,t))&&(n.toggleShape(this,t,r),i.data_onclick.call(n.api,t,this))})}},generateEventRectsForMultipleXs:function generateEventRectsForMultipleXs(t){var e=this,n=t.append("rect").attr("x",0).attr("y",0).attr("width",e.width).attr("height",e.height).attr("class",h["default"].eventRect).on("click",function(){e.clickHandlerForMultipleXS.bind(this)(e)}).call(e.getDraggableSelection());return"mouse"===e.inputType&&n.on("mouseover mousemove",function(){e.selectRectForMultipleXs(this)}).on("mouseout",function(){!e.config||e.hasArcType()||e.unselectRect()}),n},clickHandlerForMultipleXS:function clickHandlerForMultipleXS(t){var e=t,n=e.config,i=e.filterTargetsToShow(e.data.targets);if(!e.hasArcType(i)){var r=Object(f.mouse)(this),a=e.findClosestFromTargets(i,r);!a||(e.isBarType(a.id)||e.dist(a,r)<n.point_sensitivity)&&e.main.selectAll(".".concat(h["default"].shapes).concat(e.getTargetSelectorSuffix(a.id))).selectAll(".".concat(h["default"].shape,"-").concat(a.index)).each(function(){(n.data_selection_grouped||e.isWithinShape(this,a))&&(e.toggleShape(this,a,a.index),n.data_onclick.call(e.api,a,this))})}},dispatchEvent:function dispatchEvent(t,e,n){var i=".".concat(this.isMultipleX()?h["default"].eventRect:"".concat(h["default"].eventRect,"-").concat(e)),r=this.main.select(i).node(),a=r.getBoundingClientRect(),o=a.left+(n?n[0]:0)+a.width/2,s=a.top+(n?n[1]:0);g.emulateEvent[/^(mouse|click)/.test(t)?"mouse":"touch"](r,t,{screenX:o,screenY:s,clientX:o,clientY:s})}})},function(t,e,n){"use strict";n.r(e);var i=n(3),l=n(17),o=n(15);Object(o.extend)(i["default"].prototype,{getCurrentWidth:function getCurrentWidth(){return this.config.size_width||this.getParentWidth()},getCurrentHeight:function getCurrentHeight(){var t=this.config,e=t.size_height||this.getParentHeight();return 0<e?e:320/(this.hasType("gauge")&&!t.gauge_fullCircle?2:1)},getCurrentPaddingTop:function getCurrentPaddingTop(){var t=this.config,e=Object(o.isValue)(t.padding_top)?t.padding_top:0;return this.title&&this.title.node()&&(e+=this.getTitlePadding()),e},getCurrentPaddingBottom:function getCurrentPaddingBottom(){var t=this.config;return Object(o.isValue)(t.padding_bottom)?t.padding_bottom:0},getCurrentPaddingLeft:function getCurrentPaddingLeft(t){var e=this.config;return Object(o.isValue)(e.padding_left)?e.padding_left:e.axis_rotated?e.axis_x_show?Math.max(Object(o.ceil10)(this.getAxisWidthByAxisId("x",t)),40):1:!e.axis_y_show||e.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:Object(o.ceil10)(this.getAxisWidthByAxisId("y",t))},getCurrentPaddingRight:function getCurrentPaddingRight(){var t=this,e=t.config,n=t.isLegendRight?t.getLegendWidth()+20:0;return Object(o.isValue)(e.padding_right)?e.padding_right+1:e.axis_rotated?10+n:!e.axis_y2_show||e.axis_y2_inner?2+n+(t.axis.getY2AxisLabelPosition().isOuter?20:0):Object(o.ceil10)(t.getAxisWidthByAxisId("y2"))+n},getParentRectValue:function getParentRectValue(t){for(var e,n="offset".concat(Object(o.capitalize)(t)),i=this.selectChart.node();!e&&i&&"BODY"!==i.tagName;){try{e=i.getBoundingClientRect()[t]}catch(a){n in i&&(e=i[n])}i=i.parentNode}if("width"===t){var r=document.body.offsetWidth;r<e&&(e=r)}return e},getParentWidth:function getParentWidth(){return this.getParentRectValue("width")},getParentHeight:function getParentHeight(){var t=this.selectChart.style("height");return 0<t.indexOf("px")?+t.replace("px",""):0},getSvgLeft:function getSvgLeft(t){var e=this,n=e.config,i=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,r=n.axis_rotated?l["default"].axisX:l["default"].axisY,a=e.main.select(".".concat(r)).node(),o=a&&i?a.getBoundingClientRect():{right:0},s=e.selectChart.node().getBoundingClientRect(),c=e.hasArcType(),u=o.right-s.left-(c?0:e.getCurrentPaddingLeft(t));return 0<u?u:0},getAxisWidthByAxisId:function getAxisWidthByAxisId(t,e){var n=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,e)+(n.isInner?20:40)},getHorizontalAxisHeight:function getHorizontalAxisHeight(t){var e=this,n=e.config,i=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),"y"===t&&n.axis_rotated&&n.axis_y_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_y_tick_rotate)/180)),i+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},getEventRectWidth:function getEventRectWidth(){return Math.max(0,this.xAxis.tickInterval())}})},function(t,e,n){"use strict";n.r(e);var i=n(67),a=n(68),o=n(17),r=n(3),d=n(15);Object(d.extend)(r["default"].prototype,{getShapeIndices:function getShapeIndices(t){var a=this.config,o={},s=0;return this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach(function(t){for(var e,n=0;e=a.data_groups[n];n++)if(!(e.indexOf(t.id)<0))for(var i,r=0;i=e[r];r++)if(i in o){o[t.id]=o[i];break}Object(d.isUndefined)(o[t.id])&&(o[t.id]=s++)}),o.__max__=s-1,o},getShapeX:function getShapeX(i,r,a,t){var o=t?this.subX:this.zoomScale||this.x,s=this.config.bar_padding;return function(t){var e=t.id in a?a[t.id]:0,n=t.x||0===t.x?o(t.x)-i*(r/2-e):0;return i&&n&&1<r&&s&&(e&&(n+=s*e),2<r?n-=(r-1)*s/2:2===r&&(n-=s/2)),n}},getShapeY:function getShapeY(e){var n=this,i=n.isStackNormalized();return function(t){return(e?n.getSubYScale(t.id):n.getYScale(t.id))(i?n.getRatio("index",t,!0):t.value)}},getShapeOffset:function getShapeOffset(t,c,e){var u=this,n=u.orderTargets(u.filterTargetsToShow(u.data.targets.filter(t,u))),l=n.map(function(t){return t.id});return function(i,t){var r=e?u.getSubYScale(i.id):u.getYScale(i.id),a=r(0),o=a,s=t;return n.forEach(function(t){var e=u.isStepType(i)?u.convertValuesToStep(t.values):t.values,n=e.map(function(t){return u.isStackNormalized()?u.getRatio("index",t,!0):t.value});t.id===i.id||c[t.id]!==c[i.id]||l.indexOf(t.id)<l.indexOf(i.id)&&((Object(d.isUndefined)(e[s])||+e[s].x!=+i.x)&&(s=-1,e.forEach(function(t,e){(t.x.constructor===Date?+t.x:t.x)===(i.x.constructor===Date?+i.x:i.x)&&(s=e)})),s in e&&0<=e[s].value*i.value&&(o+=r(n[s])-a))}),o}},isWithinShape:function isWithinShape(t,e){var n,i=this,r=Object(a.select)(t);return i.isTargetToShow(e.id)?i.hasValidPointType(t.nodeName)?n=i.isStepType(e)?i.isWithinStep(t,i.getYScale(e.id)(e.value)):i.isWithinCircle(t,1.5*i.pointSelectR(e)):"path"===t.nodeName&&(n=!r.classed(o["default"].bar)||i.isWithinBar(t)):n=!1,n},getInterpolate:function getInterpolate(t){var e=this.getInterpolateType(t);return{basis:i.curveBasis,"basis-closed":i.curveBasisClosed,"basis-open":i.curveBasisOpen,bundle:i.curveBundle,cardinal:i.curveCardinal,"cardinal-closed":i.curveCardinalClosed,"cardinal-open":i.curveCardinalOpen,"catmull-rom":i.curveCatmullRom,"catmull-rom-closed":i.curveCatmullRomClosed,"catmull-rom-open":i.curveCatmullRomOpen,"monotone-x":i.curveMonotoneX,"monotone-y":i.curveMonotoneY,natural:i.curveNatural,"linear-closed":i.curveLinearClosed,linear:i.curveLinear,step:i.curveStep,"step-after":i.curveStepAfter,"step-before":i.curveStepBefore}[e]},getInterpolateType:function getInterpolateType(t){var e=this,n=e.config.spline_interpolation_type,i=e.isInterpolationType(n)?n:"cardinal";return e.isSplineType(t)?i:e.isStepType(t)?e.config.line_step_type:"linear"}})},function(t,e,n){"use strict";n.r(e);var h=n(68),a=n(67),g=n(72),i=n(3),p=n(17),l=n(15);Object(l.extend)(i["default"].prototype,{initPie:function initPie(){var t=this.config,e=t.pie_padding,n=this.hasType("pie")&&e?.01*e:t["".concat(t.data_type,"_padAngle")]?t["".concat(t.data_type,"_padAngle")]:0;this.pie=Object(a.pie)().padAngle(n).value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),t.data_order||this.pie.sort(null)},updateRadius:function updateRadius(){var t=this,e=t.config,n=e.pie_innerRadius,i=e.pie_padding,r=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=r?(t.radius-r)/t.radius:.6;var a=n||(i?i*(t.innerRadiusRatio+.1):0);t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:a},updateArc:function updateArc(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},updateAngle:function updateAngle(t){var e,n,i,r,a=this,o=a.config,s=t,c=!1,u=0;return o?(a.pie(a.filterTargetsToShow(a.data.targets)).forEach(function(t){c||t.data.id!==s.data.id||(c=!0,(s=t).index=u),u++}),isNaN(s.startAngle)&&(s.startAngle=0),isNaN(s.endAngle)&&(s.endAngle=s.startAngle),a.isGaugeType(s.data)&&(e=o.gauge_min,n=o.gauge_max,i=Math.PI*(o.gauge_fullCircle?2:1)/(n-e),r=s.value<e?0:s.value<n?s.value-e:n-e,s.startAngle=o.gauge_startingAngle,s.endAngle=s.startAngle+i*r),c?s:null):null},getSvgArc:function getSvgArc(){var i=this,r=Object(a.arc)().outerRadius(i.radius).innerRadius(i.innerRadius),t=function(t,e){if(e)return r(t);var n=i.updateAngle(t);return n?r(n):"M 0 0"};return t.centroid=r.centroid,t},getSvgArcExpanded:function getSvgArcExpanded(t){var n=this,i=Object(a.arc)().outerRadius(n.radiusExpanded*(t||1)).innerRadius(n.innerRadius);return function(t){var e=n.updateAngle(t);return e?i(e):"M 0 0"}},getArc:function getArc(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},transformForArcLabel:function transformForArcLabel(t){var e=this,n=e.config,i=e.updateAngle(t),r="";if(i&&!e.hasType("gauge")){var a=this.svgArc.centroid(i),o=isNaN(a[0])?0:a[0],s=isNaN(a[1])?0:a[1],c=Math.sqrt(o*o+s*s),u=e.hasType("donut")&&n.donut_label_ratio||e.hasType("pie")&&n.pie_label_ratio;u=u?Object(l.isFunction)(u)?u(t,e.radius,c):u:e.radius&&(c?(.375<36/e.radius?1.175-36/e.radius:.8)*e.radius/c:0),r="translate(".concat(o*u,",").concat(s*u,")")}return r},convertToArcData:function convertToArcData(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getRatio("arc",t),index:t.index})},textForArcLabel:function textForArcLabel(n){var t=this,e=n.node?n.datum():n;if(!t.shouldShowArcLabel())return"";var i=t.updateAngle(e),r=i?i.value:null,a=t.getRatio("arc",i),o=e.data.id;if(!t.hasType("gauge")&&!t.meetsArcLabelThreshold(a))return"";var s=(t.getArcLabelFormat()||t.defaultArcValueFormat)(r,a,o).toString();if(n.node)if(-1===s.indexOf("\n"))n.text(s);else{var c=s.split("\n"),u=c.length-1;c.forEach(function(t,e){n.append("tspan").attr("x",0).attr("dy","".concat(0===e?-u:1,"em")).text(t)})}return s},textForGaugeMinMax:function textForGaugeMinMax(t,e){var n=this.getGaugeLabelExtents();return n?n(t,e):t},expandArc:function expandArc(t){var e,n=this;if(n.transiting)e=window.setInterval(function(){n.transiting||(window.clearInterval(e),0<n.legend.selectAll(".".concat(p["default"].legendItemFocused)).size()&&n.expandArc(t))},10);else{var i=n.mapToTargetIds(t);n.svg.selectAll(n.selectorTargets(i,".".concat(p["default"].chartArc))).each(function(t){n.shouldExpand(t.data.id)&&Object(h.select)(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(t.data.id)).attr("d",n.svgArcExpandedSub)})}},unexpandArc:function unexpandArc(t){var e=this;if(!e.transiting){var n=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(n,".".concat(p["default"].chartArc))).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("".concat(p["default"].arc)).style("opacity","1")}},expandDuration:function expandDuration(t){var e=this.config;return this.isDonutType(t)?e.donut_expand_duration:this.isGaugeType(t)?e.gauge_expand_duration:this.isPieType(t)?e.pie_expand_duration:50},shouldExpand:function shouldExpand(t){var e=this.config;return this.isDonutType(t)&&e.donut_expand||this.isGaugeType(t)&&e.gauge_expand||this.isPieType(t)&&e.pie_expand},shouldShowArcLabel:function shouldShowArcLabel(){var t=this.config,e=!0;return this.hasType("donut")?e=t.donut_label_show:this.hasType("pie")&&(e=t.pie_label_show),e},meetsArcLabelThreshold:function meetsArcLabelThreshold(t){var e=this.config;return(this.hasType("donut")?e.donut_label_threshold:e.pie_label_threshold)<=t},getArcLabelFormat:function getArcLabelFormat(){var t=this.config,e=t.pie_label_format;return this.hasType("gauge")?e=t.gauge_label_format:this.hasType("donut")&&(e=t.donut_label_format),e},getGaugeLabelExtents:function getGaugeLabelExtents(){return this.config.gauge_label_extents},getArcTitle:function getArcTitle(){return this.hasType("donut")?this.config.donut_title:""},updateTargetsForArc:function updateTargetsForArc(t){var e=this,n=e.main,i=e.classChartArc.bind(e),r=e.classArcs.bind(e),a=e.classFocus.bind(e),o=n.select(".".concat(p["default"].chartArcs)).selectAll(".".concat(p["default"].chartArc)).data(e.pie(t)).attr("class",function(t){return i(t)+a(t.data)}),s=o.enter().append("g").attr("class",i);s.append("g").attr("class",r).merge(o),s.append("text").attr("dy",e.hasType("gauge")?"-.1em":".35em").style("opacity","0").style("text-anchor","middle").style("pointer-events","none")},initArc:function initArc(){this.arcs=this.main.select(".".concat(p["default"].chart)).append("g").attr("class",p["default"].chartArcs).attr("transform",this.getTranslate("arc")),this.setArcTitle()},setArcTitle:function setArcTitle(){var t=this.getArcTitle();if(t){var e=t.split("\n"),n=this.arcs.append("text").attr("class",p["default"].chartArcsTitle).style("text-anchor","middle");if(1<e.length){var i=+n.style("font-size").replace("px",""),r=Math.floor(n.text(".").node().getBBox().height,n.text(""));e.forEach(function(t,e){return n.insert("tspan").text(t).attr("x",0).attr("dy",e?r:0)}),n.attr("y","-".concat(i*(e.length-2)||i/2))}else n.text(t)}},redrawArc:function redrawArc(t,e,n){function selectArc(t,e,n){r.expandArc(n),r.api.focus(n),r.toggleFocusLegend(n,!0),r.showTooltip([e],t)}function unselectArc(t){var e=t&&t.id||undefined;r.unexpandArc(e),r.api.revert(),r.revertLegend(),r.hideTooltip()}var r=this,i=r.config,a=r.main,o="touch"===r.inputType,s="mouse"===r.inputType,c=a.selectAll(".".concat(p["default"].arcs)).selectAll(".".concat(p["default"].arc)).data(r.arcData.bind(r));if(c.exit().transition().duration(e).style("opacity","0").remove(),(c=c.enter().append("path").attr("class",r.classArc.bind(r)).style("fill",function(t){return r.color(t.data)}).style("cursor",function(t){return i.interaction_enabled&&(i.data_selection_isselectable(t)?"pointer":null)}).style("opacity","0").each(function(t){r.isGaugeType(t.data)&&(t.startAngle=i.gauge_startingAngle,t.endAngle=i.gauge_startingAngle),this._current=t}).merge(c)).attr("transform",function(t){return!r.isGaugeType(t.data)&&n?"scale(0)":""}).style("opacity",function(t){return t===this._current?"0":"1"}).each(function(){r.transiting=!0}).transition().duration(t).attrTween("d",function(n){var t=r.updateAngle(n);if(!t)return function(){return"M 0 0"};isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle);var i=Object(g.interpolate)(this._current,t);return this._current=i(0),function(t){var e=i(t);return e.data=n.data,r.getArc(e,!0)}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return r.levelColor?r.levelColor(t.data.values[0].value):r.color(t.data.id)}).style("opacity","1").call(r.endall,function(){r.transiting=!1}),i.interaction_enabled&&(c.on("click",function(t,e){var n,i=r.updateAngle(t);i&&(n=r.convertToArcData(i),r.toggleShape&&r.toggleShape(this,n,e),r.config.data_onclick.call(r.api,n,this))}),s&&c.on("mouseover",function(t){if(!r.transiting){var e=r.updateAngle(t),n=e?r.convertToArcData(e):null;selectArc(this,n,n&&n.id||undefined),r.config.data_onover(n,this)}}).on("mouseout",function(t){if(!r.transiting){var e=r.updateAngle(t),n=e?r.convertToArcData(e):null;unselectArc(),r.config.data_onout(n,this)}}).on("mousemove",function(t){var e=r.updateAngle(t),n=e?r.convertToArcData(e):null;r.showTooltip([n],this)}),o&&r.hasArcType())){var u=function getEventArc(){var t=h.event.changedTouches[0];return Object(h.select)(document.elementFromPoint(t.clientX,t.clientY))};r.svg.on("touchstart",function(){if(!r.transiting){var t=u().datum(),e=t&&t.data&&t.data.id?r.updateAngle(t):null,n=e?r.convertToArcData(e):null,i=n&&n.id||undefined;i===undefined?unselectArc():selectArc(this,n,i),r.config.data_onover(n,this)}}).on("touchend",function(){if(!r.transiting){var t=u().datum(),e=t&&t.data&&t.data.id?r.updateAngle(t):null,n=e?r.convertToArcData(e):null,i=n&&n.id||undefined;i===undefined?unselectArc():selectArc(this,n,i),r.config.data_onout(n,this)}}).on("touchmove",function(){var t=u().datum(),e=t&&t.data&&t.data.id?r.updateAngle(t):null,n=e?r.convertToArcData(e):null,i=n&&n.id||undefined;i===undefined?unselectArc():selectArc(this,n,i)})}var l=a.selectAll(".".concat(p["default"].chartArc)).select("text").style("opacity","0").attr("class",function(t){return r.isGaugeType(t.data)?p["default"].gaugeValue:""});i.gauge_fullCircle&&l.attr("dy","".concat(Math.round(r.radius/14)));var d=!l.empty()&&l.classed(p["default"].gaugeValue)?"call":"text";if(l[d](r.textForArcLabel.bind(r)).attr("transform",r.transformForArcLabel.bind(r)).style("font-size",function(t){return r.isGaugeType(t.data)?"".concat(Math.round(r.radius/5),"px"):""}).transition().duration(t).style("opacity",function(t){return r.isTargetToShow(t.data.id)&&r.isArcType(t.data)?"1":"0"}),a.select(".".concat(p["default"].chartArcsTitle)).style("opacity",r.hasType("donut")||r.hasType("gauge")?"1":"0"),r.hasType("gauge")){var f=(i.gauge_fullCircle?-4:-1)*i.gauge_startingAngle;r.arcs.select(".".concat(p["default"].chartArcsBackground)).attr("d",function(){var t={data:[{value:i.gauge_max}],startAngle:i.gauge_startingAngle,endAngle:f};return r.getArc(t,!0,!0)}),r.arcs.select(".".concat(p["default"].chartArcsGaugeUnit)).attr("dy",".75em").text(i.gauge_label_show?i.gauge_units:""),i.gauge_label_show&&(r.arcs.select(".".concat(p["default"].chartArcsGaugeMin)).attr("dx","".concat(-1*(r.innerRadius+(r.radius-r.innerRadius)/(i.gauge_fullCircle?1:2)),"px")).attr("dy","1.2em").text(r.textForGaugeMinMax(i.gauge_min,!1)),!i.gauge_fullCircle&&r.arcs.select(".".concat(p["default"].chartArcsGaugeMax)).attr("dx","".concat(r.innerRadius+(r.radius-r.innerRadius)/2,"px")).attr("dy","1.2em").text(r.textForGaugeMinMax(i.gauge_max,!0)))}},initGauge:function initGauge(){var t=this.config,e=this.arcs;this.hasType("gauge")&&(e.append("path").attr("class",p["default"].chartArcsBackground),e.append("text").attr("class",p["default"].chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.gauge_label_show&&(e.append("text").attr("class",p["default"].chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),!t.gauge_fullCircle&&e.append("text").attr("class",p["default"].chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none")))},getGaugeLabelHeight:function getGaugeLabelHeight(){return this.config.gauge_label_show?20:0}})},function(t,e,n){"use strict";n.r(e);var l=n(68),o=n(17),i=n(3),d=n(15);Object(d.extend)(i["default"].prototype,{initBar:function initBar(){this.main.select(".".concat(o["default"].chart)).append("g").attr("class",o["default"].chartBars)},updateTargetsForBar:function updateTargetsForBar(t){var e=this,n=e.config,i=e.classChartBar.bind(e),r=e.classBars.bind(e),a=e.classFocus.bind(e);e.main.select(".".concat(o["default"].chartBars)).selectAll(".".concat(o["default"].chartBar)).data(t).attr("class",function(t){return i(t)+a(t)}).enter().append("g").attr("class",i).style("opacity","0").style("pointer-events","none").append("g").attr("class",r).style("cursor",function(t){return n.data_selection_isselectable(t)?"pointer":null})},updateBar:function updateBar(t){var e=this,n=e.barData.bind(e),i=e.classBar.bind(e),r=e.initialOpacity.bind(e),a=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll(".".concat(o["default"].bars)).selectAll(".".concat(o["default"].bar)).data(n),e.mainBar.exit().transition().duration(t).style("opacity","0").remove(),e.mainBar=e.mainBar.enter().append("path").attr("class",i).style("stroke",a).style("fill",a).merge(e.mainBar).style("opacity",r)},redrawBar:function redrawBar(t,e){return[(e?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",t).style("fill",this.color).style("opacity","1")]},getBarW:function getBarW(t,e){var n=this.config,i=Object(d.isNumber)(n.bar_width)?n.bar_width:e?t.tickInterval(this.getMaxDataCount())*n.bar_width_ratio/e:0;return n.bar_width_max&&i>n.bar_width_max?n.bar_width_max:i},getBars:function getBars(t,e){var n=Object(d.isValue)(t)?"-".concat(t):"";return(e?this.main.selectAll(".".concat(o["default"].bars).concat(this.getTargetSelectorSuffix(e))):this.main).selectAll(".".concat(o["default"].bar).concat(n))},expandBars:function expandBars(t,e,n){n&&this.unexpandBars(),this.getBars(t,e).classed(o["default"].EXPANDED,!0)},unexpandBars:function unexpandBars(t){this.getBars(t).classed(o["default"].EXPANDED,!1)},generateDrawBar:function generateDrawBar(t,e){var n=this.config,f=this.generateGetBarPoints(t,e),h=n.axis_rotated,g=n.data_groups.length,i=n.bar_radius,r=n.bar_radius_ratio,p=Object(d.isNumber)(i)&&0<i?function(){return i}:Object(d.isNumber)(r)?function(t){return t*r}:null;return function(t,e){var n=f(t,e),i=+h,r=+!i,a=t.value<0,o=["",""],s=0;if(p&&!g){var c=h?r:i,u=n[2][c]-n[0][c];s=p(u);var l="a".concat(s,",").concat(s," ").concat(a?"1 0 0":"0 0 1"," ");o[+!h]="".concat(l).concat(s,",").concat(s),o[+h]="".concat(l).concat([-s,s][h?"sort":"reverse"]()),a&&o.reverse()}var d=h?"H".concat(n[1][i]-s," ").concat(o[0],"V").concat(n[2][r]-s," ").concat(o[1],"H").concat(n[3][i]):"V".concat(n[1][r]+(a?-s:s)," ").concat(o[0],"H").concat(n[2][i]-s," ").concat(o[1],"V").concat(n[3][r]);return"M".concat(n[0][i],",").concat(n[0][r]).concat(d,"z")}},generateGetBarPoints:function generateGetBarPoints(t,e){var o=this,n=e?o.subXAxis:o.xAxis,i=t.__max__+1,s=o.getBarW(n,i),c=o.getShapeX(s,i,t,!!e),u=o.getShapeY(!!e),l=o.getShapeOffset(o.isBarType,t,!!e),d=e?o.getSubYScale:o.getYScale;return function(t,e){var n=d.call(o,t.id)(0),i=l(t,e)||n,r=c(t),a=u(t);return o.config.axis_rotated&&(0<t.value&&a<n||t.value<0&&n<a)&&(a=n),[[r,i],[r,a-=n-i],[r+s,a],[r+s,i]]}},isWithinBar:function isWithinBar(t){var e=Object(l.mouse)(t),n=Object(d.getRectSegList)(t),i=t.getBBox(),r=n[0],a=n[1],o=Math.min(r.x,a.x),s=Math.min(r.y,a.y),c=i.width,u=i.height;return o-2<e[0]&&e[0]<o+c+2&&s-2<e[1]&&e[1]<s+u+2}})},function(t,e,n){"use strict";n.r(e);var a=n(70),i=n(3),o=n(15);Object(o.extend)(i["default"].prototype,{initBubble:function initBubble(){var t=this.config;this.hasType("bubble")&&(t.point_show=!0,t.point_type="circle",t.point_sensitivity=25)},getBaseLength:function getBaseLength(){var t="$baseLength",e=this.getCache(t);return e||this.addCache(t,e=Object(a.min)([this.axes.x.select("path").node().getTotalLength(),this.axes.y.select("path").node().getTotalLength()])),e},getBubbleR:function getBubbleR(t){var e=this.config.bubble_maxR;Object(o.isFunction)(e)?e=e(t):!Object(o.isNumber)(e)&&(e=this.getBaseLength()/(2*this.getMaxDataCount())+12);var n=Object(a.max)(this.getMinMaxData().max.map(function(t){return Object(o.isObject)(t.value)?t.value.mid:t.value})),i=e*e*Math.PI,r=t.value*(i/n);return Math.sqrt(r/Math.PI)}})},function(t,e,n){"use strict";n.r(e);var h=n(67),c=n(68),u=n(17),i=n(3),F=n(15);Object(F.extend)(i["default"].prototype,{initLine:function initLine(){this.main.select(".".concat(u["default"].chart)).append("g").attr("class",u["default"].chartLines)},updateTargetsForLine:function updateTargetsForLine(t){var n=this,e=n.config,i=n.classChartLine.bind(n),r=n.classLines.bind(n),a=n.classAreas.bind(n),o=n.classCircles.bind(n),s=n.classFocus.bind(n),c=n.main.select(".".concat(u["default"].chartLines)).selectAll(".".concat(u["default"].chartLine)).data(t).attr("class",function(t){return i(t)+s(t)}).enter().append("g").attr("class",i).style("opacity","0").style("pointer-events","none");c.append("g").attr("class",r),c.append("g").attr("class",a),e.point_show&&(e.data_selection_enabled&&c.append("g").attr("class",function(t){return n.generateClass(u["default"].selectedCircles,t.id)}),c.append("g").attr("class",o).style("cursor",function(t){return e.data_selection_isselectable(t)?"pointer":null})),t.forEach(function(e){n.main.selectAll(".".concat(u["default"].selectedCircles).concat(n.getTargetSelectorSuffix(e.id))).selectAll("".concat(u["default"].selectedCircle)).each(function(t){t.value=e.values[t.index].value})})},updateLine:function updateLine(t){var e=this;e.mainLine=e.main.selectAll(".".concat(u["default"].lines)).selectAll(".".concat(u["default"].line)).data(e.lineData.bind(e)),e.mainLine.exit().transition().duration(t).style("opacity","0").remove(),e.mainLine=e.mainLine.enter().append("path").attr("class",function(t){return"".concat(e.classLine.bind(e)(t)," ").concat(e.extraLineClasses(t)||"")}).style("stroke",e.color).merge(e.mainLine).style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null)},redrawLine:function redrawLine(t,e){return[(e?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity","1")]},getCurve:function getCurve(n){var i=this;return i.config.axis_rotated&&i.isStepType(n)?function(t){var e=i.getInterpolate(n)(t);return e.orgPoint=e.point,e.pointRotated=function(t,e){1===this._point&&(this._point=2);var n=this._y*(1-this._t)+e*this._t;this._context.lineTo(this._x,n),this._context.lineTo(t,n),this._x=t,this._y=e},e.point=function(t,e){0===this._point?this.orgPoint(t,e):this.pointRotated(t,e)},e}:i.getInterpolate(n)},generateDrawLine:function generateDrawLine(t,o){var s=this,c=s.config,u=c.line_connectNull,l=c.axis_rotated,n=s.generateGetLinePoints(t,o),d=o?s.getSubYScale:s.getYScale,e=function(t){return(o?s.subxx:s.xx).call(s,t)},i=function(t,e){return s.isGrouped(t.id)?n(t,e)[0][1]:d.call(s,t.id)(s.getBaseValue(t))},f=Object(h.line)();return f=l?f.x(i).y(e):f.x(e).y(i),u||(f=f.defined(function(t){return null!==s.getBaseValue(t)})),function(t){var e=o?s.x:s.subX,n=d.call(s,t.id),i=u?s.filterRemoveNull(t.values):t.values,r=0,a=0;return(s.isLineType(t)?c.data_regions[t.id]?s.lineWithRegions(i,e,n,c.data_regions[t.id]):(s.isStepType(t)&&(i=s.convertValuesToStep(i)),f.curve(s.getCurve(t))(i)):(i[0]&&(r=e(i[0].x),a=n(i[0].value)),l?"M ".concat(a," ").concat(r):"M ".concat(r," ").concat(a)))||"M 0 0"}},generateGetLinePoints:function generateGetLinePoints(t,e){var s=this,c=s.config,n=t.__max__+1,i=!!e,u=s.getShapeX(0,n,t,i),l=s.getShapeY(i),d=s.getShapeOffset(s.isLineType,t,i),f=i?s.getSubYScale:s.getYScale;return function(t,e){var n=f.call(s,t.id)(0),i=d(t,e)||n,r=u(t),a=l(t);c.axis_rotated&&(0<t.value&&a<n||t.value<0&&n<a)&&(a=n);var o=[r,a-(n-i)];return[o,o,o,o]}},lineWithRegions:function lineWithRegions(t,u,l,e){var a,d,f,n,i=this,h=i.config.axis_rotated,r=i.isTimeSeries(),o=i.isCategorized()?.5:0,s=[],c=function(t,e){for(var n,i=0;n=e[i];i++)if(n.start<t&&t<=n.end)return n.style;return!1};if(Object(F.isDefined)(e))for(var g,p=function(t,e){return Object(F.isUndefined)(t)?e:r?i.parseDate(t):t},m=0;g=e[m];m++){var x=p(g.start,t[0].x),_=p(g.end,t[t.length-1].x),v=g.style||{dasharray:"2 2"};s[m]={start:x,end:_,style:v}}for(var y,b=h?function(t){return l(t.value)}:function(t){return u(t.x)},T=h?function(t){return u(t.x)}:function(t){return l(t.value)},w=function(t){return"M".concat(t[0][0],",").concat(t[0][1],"L").concat(t[1][0],",").concat(t[1][1])},A=r?function(t,e,n,i){var r=t.x.getTime(),a=e.x-t.x,o=new Date(r+a*n),s=new Date(r+a*(n+i)),c=h?[[l(d(n)),u(o)],[l(d(n+f)),u(s)]]:[[u(o),l(d(n))],[u(s),l(d(n+f))]];return w(c)}:function(t,e,n,i){var r=h?[[l(d(n),!0),u(a(n))],[l(d(n+i),!0),u(a(n+i))]]:[[u(a(n),!0),l(d(n))],[u(a(n+i),!0),l(d(n+i))]];return w(r)},O="M",S=0;y=t[S];S++){var M=t[S-1];v=c(y.x,s);if(Object(F.isUndefined)(s)||!v)O+="".concat(S?"L":"").concat(b(y),",").concat(T(y));else{try{v=v.dasharray.split(" ")}catch(D){v="2 2".split(" ")}a=i.getScale(M.x+o,y.x+o,r),d=i.getScale(M.value,y.value);var k=u(y.x)-u(M.x),C=l(y.value)-l(M.value),L=Math.sqrt(Math.pow(k,2)+Math.pow(C,2));n=(f=v[0]/L)*v[1];for(var j=f;j<=1;j+=n)O+=A(M,y,j,f),1<=j+n&&(O+=A(M,y,1,0))}}return O},updateArea:function updateArea(t){var e=this;e.mainArea=e.main.selectAll(".".concat(u["default"].areas)).selectAll(".".concat(u["default"].area)).data(e.lineData.bind(e)),e.mainArea.exit().transition().duration(t).style("opacity","0").remove(),e.mainArea=e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=Object(c.select)(this).style("opacity"),"0"}).merge(e.mainArea),e.mainArea.style("opacity",e.orgAreaOpacity)},redrawArea:function redrawArea(t,e){var n=this;return[(e?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",function(t){return n.isAreaRangeType(t)?n.orgAreaOpacity/1.75:n.orgAreaOpacity})]},generateDrawArea:function generateDrawArea(t,e){var o=this,s=o.config,c=s.line_connectNull,u=s.axis_rotated,n=o.generateGetAreaPoints(t,e),i=e?o.getSubYScale:o.getYScale,l=function(t){return(e?o.subxx:o.xx).call(o,t)},d=function(t,e){return o.isGrouped(t.id)?n(t,e)[0][1]:i.call(o,t.id)(o.isAreaRangeType(t)?o.getAreaRangeData(t,"high"):o.getAreaBaseValue(t.id))},f=function(t,e){return o.isGrouped(t.id)?n(t,e)[1][1]:i.call(o,t.id)(o.isAreaRangeType(t)?o.getAreaRangeData(t,"low"):t.value)};return function(t){var e,n=c?o.filterRemoveNull(t.values):t.values,i=0,r=0;if(o.isAreaType(t)){var a=Object(h.area)();a=u?a.y(l).x0(d).x1(f):a.x(l).y0(s.area_above?0:d).y1(f),c||(a=a.defined(function(t){return null!==o.getBaseValue(t)})),o.isStepType(t)&&(n=o.convertValuesToStep(n)),e=a.curve(o.getCurve(t))(n)}else n[0]&&(i=o.x(n[0].x),r=o.getYScale(t.id)(n[0].value)),e=u?"M ".concat(r," ").concat(i):"M ".concat(i," ").concat(r);return e||"M 0 0"}},getAreaBaseValue:function getAreaBaseValue(){return 0},generateGetAreaPoints:function generateGetAreaPoints(t,e){var o=this,s=o.config,n=t.__max__+1,c=o.getShapeX(0,n,t,!!e),u=o.getShapeY(!!e),l=o.getShapeOffset(o.isAreaType,t,!!e),d=e?o.getSubYScale:o.getYScale;return function(t,e){var n=d.call(o,t.id)(0),i=l(t,e)||n,r=c(t),a=u(t);return s.axis_rotated&&(0<t.value&&a<n||t.value<0&&n<a)&&(a=n),[[r,i],[r,a-(n-i)],[r,a-(n-i)],[r,i]]}},updateCircle:function updateCircle(){var e=this;e.config.point_show&&(e.mainCircle=e.main.selectAll(".".concat(u["default"].circles)).selectAll(".".concat(u["default"].circle)).data(function(t){return!e.isBarType(t)&&(!e.isLineType(t)||e.shouldDrawPointsForLine(t))&&e.labelishData(t)}),e.mainCircle.exit().remove(),e.mainCircle=e.mainCircle.enter().append(e.point("create",this,e.classCircle.bind(e),e.pointR.bind(e),e.color)).merge(e.mainCircle).style("stroke",e.color).style("opacity",e.initialOpacityForCircle.bind(e)))},redrawCircle:function redrawCircle(n,i,r,a){var o=this,s=o.main.selectAll(".".concat(u["default"].selectedCircle));if(!o.config.point_show)return[];var c=[];o.mainCircle.each(function(t){var e=o.point("update",o,n,i,o.opacityForCircle.bind(o),o.color,r,a,s).bind(this)(t);c.push(e)});var t=o.isCirclePoint()?"c":"";return[c,s.attr("".concat(t,"x"),n).attr("".concat(t,"y"),i)]},circleX:function circleX(t){var e=Object(F.isValue)(t.x);return this.config.zoom_enabled&&this.zoomScale?e?this.zoomScale(t.x):null:e?this.x(t.x):null},updateCircleY:function updateCircleY(){var i=this;i.circleY=function(t,e){var n=t.id;return i.isGrouped(n)?i.generateGetLinePoints(i.getShapeIndices(i.isLineType))(t,e)[0][1]:i.getYScale(n)(i.getBaseValue(t))}},getCircles:function getCircles(t,e){var n=Object(F.isValue)(t)?"-".concat(t):"";return(e?this.main.selectAll(".".concat(u["default"].circles).concat(this.getTargetSelectorSuffix(e))):this.main).selectAll(".".concat(u["default"].circle).concat(n))},expandCircles:function expandCircles(t,e,n){var i=this,r=i.pointExpandedR.bind(i);n&&i.unexpandCircles();var a=i.getCircles(t,e).classed(u["default"].EXPANDED,!0),o=r(a)/i.config.point_r;i.isCirclePoint()?a.attr("r",r):a.each(function(){var t=Object(c.select)(this),e=this.getBBox(),n=e.x+.5*e.width,i=e.y+.5*e.height;"circle"===this.tagName?t.attr("r",r):t.style("transform","translate(".concat((1-o)*n,"px, ").concat((1-o)*i,"px) scale(").concat(o,")"))})},unexpandCircles:function unexpandCircles(t){var e=this,n=e.pointR.bind(e),i=e.getCircles(t).filter(function(){return Object(c.select)(this).classed(u["default"].EXPANDED)}).classed(u["default"].EXPANDED,!1);i.attr("r",n),e.isCirclePoint()||i.style("transform","scale(".concat(n(i)/e.config.point_r,")"))},pointR:function(t){var e=this.config.point_r,n=e;return this.isStepType(t)?n=0:this.isBubbleType(t)?n=this.getBubbleR(t):Object(F.isFunction)(e)&&(n=e(t)),n},pointExpandedR:function pointExpandedR(t){var e=this.config,n=this.isBubbleType(t)?1.15:1.75;return e.point_focus_expand_enabled?e.point_focus_expand_r||this.pointR(t)*n:this.pointR(t)},pointSelectR:function pointSelectR(t){var e=this.config.point_select_r;return Object(F.isFunction)(e)?e(t):e||4*this.pointR(t)},isWithinCircle:function isWithinCircle(t,e){var n=Object(c.mouse)(t),i=Object(c.select)(t),r=this.isCirclePoint()?"c":"",a=+i.attr("".concat(r,"x")),o=+i.attr("".concat(r,"y"));if(!a&&!o&&1===t.nodeType){var s=t.getBBox?t.getBBox():t.getBoundingClientRect();a=s.x,o=s.y}return Math.sqrt(Math.pow(a-n[0],2)+Math.pow(o-n[1],2))<e},isWithinStep:function isWithinStep(t,e){return Math.abs(e-Object(c.mouse)(t)[1])<30},shouldDrawPointsForLine:function shouldDrawPointsForLine(t){var e=this.config.line_point;return!0===e||Object(F.isArray)(e)&&-1!==e.indexOf(t.id)}})},function(t,e,n){"use strict";n.r(e);var d=n(68),i=n(3),o=n(15);Object(o.extend)(i["default"].prototype,{hasValidPointType:function hasValidPointType(t){return/^(circle|rect(angle)?|polygon|ellipse|use)$/i.test(t||this.config.point_type)},hasValidPointDrawMethods:function hasValidPointDrawMethods(t){var e=t||this.config.point_type;return Object(o.isObjectType)(e)&&Object(o.isFunction)(e.create)&&Object(o.isFunction)(e.update)},insertPointInfoDefs:function insertPointInfoDefs(t,e){var n=function(t,e){for(var n,i=t.attributes,r=0;n=i[r];r++)n=n.name,e.setAttribute(n,t.getAttribute(n))},i=(new DOMParser).parseFromString(t,"image/svg+xml").documentElement,r=document.createElementNS(d.namespaces.svg,i.nodeName.toLowerCase());if(r.id=e,r.style.fill="inherit",r.style.stroke="inherit",n(i,r),i.childNodes&&i.childNodes.length){var a=Object(d.select)(r);"innerHTML"in r?a.html(i.innerHTML):Object(o.toArray)(i.childNodes).forEach(function(t){n(t,a.append(t.tagName).node())})}this.defs.node().appendChild(r)},pointFromDefs:function pointFromDefs(t){return this.defs.select("#".concat(t))},generatePoint:function generatePoint(){var c=this,t=c.config,u=[],l=Object(o.notEmpty)(t.point_pattern)?t.point_pattern:[t.point_type];return function(a,o){for(var t=arguments.length,s=Array(2<t?t-2:0),e=2;e<t;e++)s[e-2]=arguments[e];return function(t){var e,n=t.id||t.data&&t.data.id||t,i=Object(d.select)(this);if(u.indexOf(n)<0&&u.push(n),e=l[u.indexOf(n)%l.length],c.hasValidPointType(e))e=c[e];else if(!c.hasValidPointDrawMethods(e)){var r="".concat(c.datetimeId,"-point-").concat(n);if(c.pointFromDefs(r).size()<1&&c.insertPointInfoDefs(e,r),"create"===a)return c.custom.create.bind(o).apply(void 0,[i,r].concat(s));if("update"===a)return c.custom.update.bind(o).apply(void 0,[i].concat(s))}return e[a].bind(o).apply(void 0,[i].concat(s))}}},getTransitionName:function getTransitionName(){return Math.random().toString()},custom:{create:function create(t,e,n,i,r){return t.append("use").attr("xlink:href","#".concat(e)).attr("class",n).style("fill",r).node()},update:function update(t,e,n,i,r,a,o,s){var c=t.node().getBBox(),u=function(t){return e(t)-c.width/2},l=function(t){return n(t)-c.height/2},d=t;if(a){var f=this.getTransitionName();o&&(d=t.attr("x",u)),d=t.transition(f).attr("x",u).attr("y",l).transition(f),s.transition(this.getTransitionName())}else d=t.attr("x",u).attr("y",l);return d.style("opacity",i).style("fill",r)}},circle:{create:function create(t,e,n,i){return t.append("circle").attr("class",e).attr("r",n).style("fill",i).node()},update:function update(t,e,n,i,r,a,o,s){var c=this,u=t;if(c.hasType("bubble")&&(u=u.attr("r",c.pointR.bind(c))),a){var l=c.getTransitionName();o&&(u=u.attr("cx",e)),u=u.transition(l).attr("cx",e).attr("cy",n).transition(l),s.transition(c.getTransitionName())}else u=u.attr("cx",e).attr("cy",n);return u.style("opacity",i).style("fill",r)}},rectangle:{create:function create(t,e,n,i){var r=function(t){return 2*n(t)};return t.append("rect").attr("class",e).attr("width",r).attr("height",r).style("fill",i).node()},update:function update(t,e,n,i,r,a,o,s){var c=this.config.point_r,u=function(t){return e(t)-c},l=function(t){return n(t)-c},d=t;if(a){var f=this.getTransitionName();o&&(d=d.attr("x",u)),d=d.transition(f).attr("x",u).attr("y",l).transition(f),s.transition(this.getTransitionName())}else d=d.attr("x",u).attr("y",l);return d.style("opacity",i).style("fill",r)}}})},function(t,e,n){"use strict";n.r(e);var i=n(4),x=n.n(i),r=n(68),_=n(70),a=n(3),v=n(17),y=n(15);var c="$radarPoints";Object(y.extend)(a["default"].prototype,{initRadar:function initRadar(){var t=this,e=t.config;t.hasType("radar")&&(t.radars=t.main.select(".".concat(v["default"].chart)).append("g").attr("class",v["default"].chartRadars),t.radars.levels=t.radars.append("g").attr("class",v["default"].levels),t.radars.axes=t.radars.append("g").attr("class",v["default"].axis),t.radars.shapes=t.radars.append("g").attr("class",v["default"].shapes),t.maxValue=e.radar_axis_max||t.getMinMaxData().max[0].value)},getRadarSize:function getRadarSize(){var t=this.config.axis_x_categories.length<4?-20:10,e=(Math.min(this.arcWidth,this.arcHeight)-t)/2;return[e,e]},updateTargetsForRadar:function updateTargetsForRadar(t){var e=this.config;Object(y.isEmpty)(e.axis_x_categories)&&(e.axis_x_categories=Object(_.range)(0,Object(_.max)(t).values.length)),this.generateRadarPoints()},getRadarPosition:function getRadarPosition(e,n,i,r){var a=this.config,t=this.getRadarSize(),o=x()(t,2),s=o[0],c=o[1],u=a.axis_x_categories.length,l=a.radar_direction_clockwise,d=Object(y.toArray)(e).map(function(t){return function getPosition(t,e,n,i,r,a){var o=t&&0<i?n-i:i,s=2*Math.PI;return r*(1-a*("x"===e?Math.sin:Math.cos)(o*s/n))}(l,t,u,n,Object(y.isDefined)(i)?i:"x"===e?s:c,r||a.radar_size_ratio)});return 1===d.length?d[0]:d},generateRadarPoints:function generateRadarPoints(){var n=this,t=n.data.targets,e=n.getRadarSize(),i=x()(e,2),r=i[0],a=i[1],o=n.getCache(c)||{},s=o._size;s&&(s.width===r||s.height===a)||(t.forEach(function(t){o[t.id]=t.values.map(function(t,e){return n.getRadarPosition(["x","y"],e,undefined,n.getRatio("radar",t))})}),o._size={width:r,height:a},n.addCache(c,o))},redrawRadar:function redrawRadar(t,e){var n=this,i=n.getTranslate("radar");i&&(n.radars.attr("transform",i),n.main.selectAll(".".concat(v["default"].circles)).attr("transform",i),n.main.select(".".concat(v["default"].chartTexts)).attr("transform",i),n.generateRadarPoints(),n.updateRadarLevel(),n.updateRadarAxes(),n.updateRadarShape(t,e))},generateGetRadarPoints:function generateGetRadarPoints(){var i=this.getCache(c);return function(t,e){var n=i[t.id][e];return[n,n,n,n]}},updateRadarLevel:function updateRadarLevel(){var n=this,t=n.config,e=n.getRadarSize(),i=x()(e,2),r=i[0],a=i[1],o=t.radar_level_depth,s=t.axis_x_categories.length,c=t.radar_level_text_show,u=n.radars.levels,l=Object(_.range)(0,o),d=t.radar_size_ratio*Math.min(r,a),f=l.map(function(t){return d*((t+1)/o)}),h=t.radar_level_text_format,g=l.map(function(t){var e=f[t];return Object(_.range)(0,s).map(function(t){return n.getRadarPosition(["x","y"],t,e,1).join(",")}).join(" ")}),p=u.selectAll(".".concat(v["default"].level)).data(l);p.exit().remove();var m=p.enter().append("g").attr("class",function(t,e){return"".concat(v["default"].level," ").concat(v["default"].level,"-").concat(e)});m.append("polygon").style("visibility",t.radar_level_show?null:"hidden"),c&&(u.select("text").empty()&&u.append("text").attr("dx","-.5em").attr("dy","-.7em").style("text-anchor","end").text(function(){return h(0)}),m.append("text").attr("dx","-.5em").style("text-anchor","end").text(function(t){return h(n.maxValue/l.length*(t+1))})),m.merge(p).attr("transform",function(t){return"translate(".concat(r-f[t],", ").concat(a-f[t],")")}).selectAll("polygon").attr("points",function(t){return g[t]}),c&&u.selectAll("text").attr("x",function(t){return Object(y.isUndefined)(t)?r:g[t].split(",")[0]}).attr("y",function(t){return Object(y.isUndefined)(t)?a:0})},updateRadarAxes:function updateRadarAxes(){var n=this,t=n.config,e=n.getRadarSize(),i=x()(e,2),r=i[0],a=i[1],o=t.axis_x_categories,s=n.radars.axes.selectAll("g").data(o);s.exit().remove();var c=s.enter().append("g").attr("class",function(t,e){return"".concat(v["default"].axis,"-").concat(e)});t.radar_axis_line_show&&c.append("line"),t.radar_axis_text_show&&c.append("text"),s=c.merge(s),t.radar_axis_line_show&&s.select("line").attr("x1",r).attr("y1",a).attr("x2",function(t,e){return n.getRadarPosition("x",e)}).attr("y2",function(t,e){return n.getRadarPosition("y",e)}),t.radar_axis_text_show&&s.select("text").style("text-anchor","middle").attr("dy",".5em").text(function(t){return t}).datum(function(t,e){return{index:e}}).attr("x",function(t,e){return n.getRadarPosition("x",e,undefined,1)}).attr("y",function(t,e){return n.getRadarPosition("y",e,undefined,1)}),n.bindEvent()},bindEvent:function bindEvent(){var t=this,e=this;if(e.config.interaction_enabled){var n="mouse"===e.inputType;e.radars.select(".".concat(v["default"].axis)).on("".concat(n?"mouseover ":"","click"),function(){if(!e.transiting){var t=Object(r.select)(r.event.target).datum().index;e.selectRectForSingle(e.svg.node(),null,t),e.setOver(t)}}).on("mouseout",n?function(){t.hideTooltip(),t.unexpandCircles()}:null)}},updateRadarShape:function updateRadarShape(t,e){var n=this,i=n.data.targets,r=n.getCache(c),a=n.radars.shapes.selectAll("polygon").data(i),o=a.enter().append("g").attr("class",n.classChartRadar.bind(n));a.exit().transition().duration(e).remove(),o.append("polygon").merge(a).transition().duration(t).style("fill",function(t){return n.color(t)}).style("stroke",function(t){return n.color(t)}).attr("points",function(t){return r[t.id].join(" ")})},radarCircleX:function radarCircleX(t){return this.getCache(c)[t.id][t.index][0]},radarCircleY:function radarCircleY(t){return this.getCache(c)[t.id][t.index][1]}})},function(t,e,n){"use strict";n.r(e);var u=n(68),i=n(3),o=n(17),l=n(15);Object(l.extend)(i["default"].prototype,{initText:function initText(){this.main.select(".".concat(o["default"].chart)).append("g").attr("class",o["default"].chartTexts),this.mainText=Object(u.selectAll)([])},updateTargetsForText:function updateTargetsForText(t){var e=this,n=e.classChartText.bind(e),i=e.classTexts.bind(e),r=e.classFocus.bind(e);e.main.select(".".concat(o["default"].chartTexts)).selectAll(".".concat(o["default"].chartText)).data(t).attr("class",function(t){return n(t)+r(t)}).enter().append("g").attr("class",n).style("opacity","0").style("pointer-events","none").append("g").attr("class",i)},updateText:function updateText(t){var e=this,i=this,n=i.config,r=i.labelishData.bind(i),a=i.classText.bind(i);i.mainText=i.main.selectAll(".".concat(o["default"].texts)).selectAll(".".concat(o["default"].text)).data(function(t){return e.isRadarType(t)?t.values:r(t)}),i.mainText.exit().transition().duration(t).style("fill-opacity","0").remove(),i.mainText=i.mainText.enter().append("text").merge(i.mainText).attr("class",a).attr("text-anchor",function(t){return n.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return i.color(t)}).style("fill-opacity","0").text(function(t,e,n){return i.dataLabelFormat(t.id)(t.value,t.id,e,n)})},redrawText:function redrawText(t,e,n,i){return[(i?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},getTextRect:function getTextRect(t,e,n){var i,r=(t.node?t.node():t).textContent,a=n.node?n.node():n,o=Object(u.select)("body").append("div").classed("bb",!0),s=o.append("svg").style("visibility","hidden").style("position","fixed").style("top","0px").style("left","0px"),c=Object(u.select)(a).style("font");return s.selectAll(".dummy").data([r]).enter().append("text").classed(e,!!e).style("font",c).text(r).each(function(){i=this.getBoundingClientRect()}),o.remove(),i},generateXYForText:function generateXYForText(t,e,n,i){var r=this,a=r.generateGetAreaPoints(t,!1),o=r.generateGetBarPoints(e,!1),s=r.generateGetLinePoints(n,!1),c=r.generateGetRadarPoints(),u=i?r.getXForText:r.getYForText;return function(t,e){var n=r.isAreaType(t)&&a||r.isBarType(t)&&o||r.isRadarType(t)&&c||s;return u.call(r,n(t,e),t,this)}},getXForText:function getXForText(t,e,n){var i,r,a=this,o=a.config;return i=o.axis_rotated?(r=a.isBarType(e)?4:6,t[2][1]+r*(e.value<0?-1:1)):a.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(i>a.width?i=a.width-n.getBoundingClientRect().width:i<0&&(i=4)),i+(o.data_labels_position.x||0)},getYForText:function getYForText(t,e,n){var i,r=this,a=r.config,o=a.point_r,s=3;if(a.axis_rotated)i=(t[0][0]+t[2][0]+.6*n.getBoundingClientRect().height)/2;else if(i=t[2][1],Object(l.isNumber)(o)&&5<o&&(r.isLineType(e)||r.isScatterType(e))&&(s+=a.point_r/2.3),e.value<0||0===e.value&&!r.hasPositiveValue)i+=n.getBoundingClientRect().height,r.isBarType(e)&&r.isSafari()?i-=s:!r.isBarType(e)&&r.isChrome()&&(i+=s);else{var c=2*-s;r.isBarType(e)?c=-s:r.isBubbleType(e)&&(c=s),i+=c}if(null===e.value&&!a.axis_rotated){var u=n.getBoundingClientRect().height;i<u?i=u:i>this.height&&(i=this.height-4)}return i+(a.data_labels_position.y||0)}})},function(t,e,n){"use strict";n.r(e);var i=n(3),r=n(15);Object(r.extend)(i["default"].prototype,{setTargetType:function setTargetType(t,e){var n=this,i=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===i.data_types[t],i.data_types[t]=e}),t||(i.data_type=e)},hasType:function hasType(n,t){var i=this.config.data_types,e=t||this.data.targets,r=!1;return e&&e.length?e.forEach(function(t){var e=i[t.id];(e&&0<=e.indexOf(n)||!e&&"line"===n)&&(r=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(t){i[t]===n&&(r=!0)}):r=this.config.data_type===n,r},hasArcType:function hasArcType(e){var n=this,i=1<arguments.length&&arguments[1]!==undefined?arguments[1]:[];return!["pie","donut","gauge","radar"].filter(function(t){return-1===i.indexOf(t)}).every(function(t){return!n.hasType(t,e)})},isLineType:function isLineType(t){var e=Object(r.isString)(t)?t:t.id;return!this.config.data_types[e]||this.isTypeOf(e,["line","spline","area","area-spline","area-spline-range","area-line-range","step","area-step"])},isTypeOf:function isTypeOf(t,e){var n=Object(r.isString)(t)?t:t.id,i=this.config.data_types[n];return Object(r.isArray)(e)?0<=e.indexOf(i):i===e},isStepType:function isStepType(t){return this.isTypeOf(t,["step","area-step"])},isSplineType:function isSplineType(t){return this.isTypeOf(t,["spline","area-spline","area-spline-range"])},isAreaType:function isAreaType(t){return this.isTypeOf(t,["area","area-spline","area-spline-range","area-line-range","area-step"])},isAreaRangeType:function isAreaRangeType(t){return this.isTypeOf(t,["area-spline-range","area-line-range"])},isBarType:function isBarType(t){return this.isTypeOf(t,"bar")},isBubbleType:function isBubbleType(t){return this.isTypeOf(t,"bubble")},isScatterType:function isScatterType(t){return this.isTypeOf(t,"scatter")},isPieType:function isPieType(t){return this.isTypeOf(t,"pie")},isGaugeType:function isGaugeType(t){return this.isTypeOf(t,"gauge")},isDonutType:function isDonutType(t){return this.isTypeOf(t,"donut")},isRadarType:function isRadarType(t){return this.isTypeOf(t,"radar")},isArcType:function isArcType(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)||this.isRadarType(t)},isCirclePoint:function isCirclePoint(){var t=this.config,e=t.point_pattern;return"circle"===t.point_type&&(!e||Object(r.isArray)(e)&&0===e.length)},lineData:function lineData(t){return this.isLineType(t)?[t]:[]},arcData:function arcData(t){return this.isArcType(t.data)?[t]:[]},barData:function barData(t){return this.isBarType(t)?t.values:[]},labelishData:function labelishData(t){return this.isBarType(t)||this.isLineType(t)||this.isScatterType(t)||this.isBubbleType(t)||this.isRadarType(t)?t.values:[]},barLineBubbleData:function barLineBubbleData(t){return this.isBarType(t)||this.isLineType(t)||this.isBubbleType(t)?t.values:[]},isInterpolationType:function isInterpolationType(t){return 0<=["basis","basis-closed","basis-open","bundle","cardinal","cardinal-closed","cardinal-open","catmull-rom","catmull-rom-closed","catmull-rom-open","linear","linear-closed","monotone-x","monotone-y","natural"].indexOf(t)}})},function(t,e,n){"use strict";n.r(e);var o=n(68),i=n(3),c=n(17),s=n(15),u=function(t){return Object(s.isValue)(t.position)||"end"},l=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},d=function(n,i,r){return function(t){var e=n?0:i;return"start"===t.position?e=n?-r:0:"middle"===t.position&&(e=(n?-r:i)/2),e}};Object(s.extend)(i["default"].prototype,{initGrid:function initGrid(){var t=this.config;this.xgrid=Object(o.selectAll)([]),t.grid_lines_front||this.initGridLines(),t.grid_front||this.initXYFocusGrid()},initGridLines:function initGridLines(){var t=this;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class","".concat(c["default"].grid," ").concat(c["default"].gridLines)),t.gridLines.append("g").attr("class",c["default"].xgridLines),t.gridLines.append("g").attr("class",c["default"].ygridLines),t.xgridLines=Object(o.selectAll)([])},updateXGrid:function updateXGrid(t){var n=this,e=n.config,i=e.axis_rotated,r=n.generateGridData(e.grid_x_type,n.x),a=n.isCategorized()?n.xAxis.tickOffset():0;n.xgridAttr=i?{x1:0,x2:n.width,y1:function y1(t){return n.x(t)-a},y2:function y2(t){return n.x(t)-a}}:{x1:function x1(t){return n.x(t)+a},x2:function x2(t){return n.x(t)+a},y1:0,y2:n.height},n.xgrid=n.main.select(".".concat(c["default"].xgrids)).selectAll(".".concat(c["default"].xgrid)).data(r),n.xgrid.exit().remove(),n.xgrid=n.xgrid.enter().append("line").attr("class",c["default"].xgrid).merge(n.xgrid),t||n.xgrid.each(function(){var e=Object(o.select)(this);Object.keys(n.xgridAttr).forEach(function(t){e.attr(t,n.xgridAttr[t]).style("opacity",function(){return e.attr(i?"y1":"x1")===(i?n.height:0)?"0":"1"})})})},updateYGrid:function updateYGrid(){var t=this,e=t.config,n=e.axis_rotated,i=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select(".".concat(c["default"].ygrids)).selectAll(".".concat(c["default"].ygrid)).data(i),t.ygrid.exit().remove(),t.ygrid=t.ygrid.enter().append("line").attr("class",c["default"].ygrid).merge(t.ygrid),t.ygrid.attr("x1",n?t.y:0).attr("x2",n?t.y:t.width).attr("y1",n?0:t.y).attr("y2",n?t.height:t.y),t.smoothLines(t.ygrid,"grid")},updateGrid:function updateGrid(t){var e=this;e.grid.style("visibility",e.hasArcType()?"hidden":"visible"),e.main.select("line.".concat(c["default"].xgridFocus)).style("visibility","hidden"),e.updateXGridLines(t),e.updateYGridLines(t)},updateXGridLines:function updateXGridLines(t){var e=this,n=e.main,i=e.config,r=i.axis_rotated;i.grid_x_show&&e.updateXGrid(),e.xgridLines=n.select(".".concat(c["default"].xgridLines)).selectAll(".".concat(c["default"].xgridLine)).data(i.grid_x_lines),e.xgridLines.exit().transition().duration(t).style("opacity","0").remove();var a=e.xgridLines.enter().append("g");a.append("line").style("opacity","0"),a.append("text").attr("transform",r?"":"rotate(-90)").attr("dy",-5).style("opacity","0"),e.xgridLines=a.merge(e.xgridLines),e.xgridLines.attr("class",function(t){return"".concat(c["default"].xgridLine," ").concat(t["class"]||"").trim()}).select("text").attr("text-anchor",u).attr("dx",l).transition().duration(t).text(function(t){return t.text}).transition().style("opacity","1")},updateYGridLines:function updateYGridLines(t){var e=this,n=e.main,i=e.config,r=i.axis_rotated;i.grid_y_show&&e.updateYGrid(),e.ygridLines=n.select(".".concat(c["default"].ygridLines)).selectAll(".".concat(c["default"].ygridLine)).data(i.grid_y_lines),e.ygridLines.exit().transition().duration(t).style("opacity","0").remove();var a=e.ygridLines.enter().append("g");a.append("line").style("opacity","0"),a.append("text").attr("transform",r?"rotate(-90)":"").style("opacity","0"),e.ygridLines=a.merge(e.ygridLines);var o=e.yv.bind(e);e.ygridLines.attr("class",function(t){return"".concat(c["default"].ygridLine," ").concat(t["class"]||"").trim()}).select("line").transition().duration(t).attr("x1",r?o:0).attr("x2",r?o:e.width).attr("y1",r?0:o).attr("y2",r?e.height:o).transition().style("opacity","1"),e.ygridLines.select("text").attr("text-anchor",u).attr("dx",l).transition().duration(t).attr("dy",-5).attr("x",d(r,e.width,e.height)).attr("y",o).text(function(t){return t.text}).transition().style("opacity","1")},redrawGrid:function redrawGrid(t){var e=this,n=e.config.axis_rotated,i=e.xv.bind(e),r=e.xgridLines.select("line"),a=e.xgridLines.select("text");return r=(t?r.transition():r).attr("x1",n?0:i).attr("x2",n?e.width:i).attr("y1",n?i:0).attr("y2",n?i:e.height),a=(t?a.transition():a).attr("x",d(!n,e.width,e.height)).attr("y",i).text(function(t){return t.text}),[(t?r.transition():r).style("opacity","1"),(t?a.transition():a).style("opacity","1")]},initXYFocusGrid:function initXYFocusGrid(){var t=this,e=t.config;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",c["default"].grid),e.grid_x_show&&t.grid.append("g").attr("class",c["default"].xgrids),e.grid_y_show&&t.grid.append("g").attr("class",c["default"].ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",c["default"].xgridFocus).append("line").attr("class",c["default"].xgridFocus)},showXGridFocus:function showXGridFocus(t){var e=this,n=e.config,i=n.axis_rotated,r=t.filter(function(t){return t&&Object(s.isValue)(e.getBaseValue(t))}),a=e.main.selectAll("line.".concat(c["default"].xgridFocus)),o=e.xx.bind(e);!n.tooltip_show||e.hasType("bubble")||e.hasType("scatter")||e.hasArcType()||(a.style("visibility","visible").data([r[0]]).attr(i?"y1":"x1",o).attr(i?"y2":"x2",o),e.smoothLines(a,"grid"))},hideXGridFocus:function hideXGridFocus(){this.main.select("line.".concat(c["default"].xgridFocus)).style("visibility","hidden")},updateXgridFocus:function updateXgridFocus(){var t=this.config.axis_rotated;this.main.select("line.".concat(c["default"].xgridFocus)).attr("x1",t?0:-10).attr("x2",t?this.width:-10).attr("y1",t?-10:0).attr("y2",t?-10:this.height)},generateGridData:function generateGridData(t,e){var n=this.main.select(".".concat(c["default"].axisX)).selectAll(".tick").size(),i=[];if("year"===t)for(var r=this.getXDomain(),a=r[0].getFullYear(),o=r[1].getFullYear(),s=a;s<=o;s++)i.push(new Date("".concat(s,"-01-01 00:00:00")));else(i=e.ticks(10)).length>n&&(i=i.filter(function(t){return(t+"").indexOf(".")<0}));return i},getGridFilterToRemove:function getGridFilterToRemove(t){return t?function(e){var n=!1;return(Object(s.isArray)(t)?t.concat():[t]).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e["class"]===t["class"])&&(n=!0)}),n}:function(){return!0}},removeGridLines:function removeGridLines(t,e){var n=this.config,i=this.getGridFilterToRemove(t),r=e?c["default"].xgridLines:c["default"].ygridLines,a=e?c["default"].xgridLine:c["default"].ygridLine;this.main.select(".".concat(r)).selectAll(".".concat(a)).filter(i).transition().duration(n.transition_duration).style("opacity","0").remove();var o="grid_".concat(e?"x":"y","_lines");n[o]=n[o].filter(function toShow(t){return!i(t)})}})},function(t,e,n){"use strict";n.r(e);var i=n(4),S=n.n(i),r=n(11),M=n.n(r),g=n(68),a=n(3),o=n(17),k=n(15);Object(k.extend)(a["default"].prototype,{initTooltip:function initTooltip(){var e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",o["default"].tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&Object(k.isString)(n.tooltip_init_x)){var t,i,r=e.data.targets[0];for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;(i=r.values[t])&&i.x-n.tooltip_init_x!=0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType(null,["radar"])),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},getTooltipContent:function getTooltipContent(t,e,n,i){var r,a,o,s,c=this,u=c.config,l=u.tooltip_format_title||e,d=u.tooltip_format_name||function(t){return t},f=u.tooltip_format_value||(c.isStackNormalized()?function(t,e){return"".concat((100*e).toFixed(2),"%")}:n),h=u.tooltip_order,g=function(t){return c.getBaseValue(t)},p=c.levelColor?function(t){return c.levelColor(t.value)}:function(t){return i(t.id)};if(null===h&&u.data_groups.length){var m=c.orderTargets(c.data.targets).map(function(t){return t.id}).reverse();t.sort(function(t,e){var n=t?t.value:null,i=e?e.value:null;return 0<n&&0<i&&(n=t.id?m.indexOf(t.id):null,i=e.id?m.indexOf(e.id):null),n-i})}else/^(asc|desc)$/.test(h)?t.sort(function(t,e){var n=t?g(t):null,i=e?g(e):null;return"asc"===h?n-i:i-n}):Object(k.isFunction)(h)&&t.sort(h);for(var x=0,_=t.length;x<_;x++)if((a=t[x])&&(g(a)||0===g(a))){if(!r){var v=Object(k.sanitise)(l?l(a.x):a.x);r='<table class="'.concat(c.CLASS.tooltip,'">').concat(Object(k.isValue)(v)?'<tr><th colspan="2">'.concat(v,"</th></tr>"):"")}if(o=[a.ratio,a.id,a.index,t],s=Object(k.sanitise)(f.apply(void 0,[g(a)].concat(M()(o)))),c.isAreaRangeType(a)){var y=["high","low"].map(function(t){return Object(k.sanitise)(f.apply(void 0,[c.getAreaRangeData(a,t)].concat(M()(o))))}),b=S()(y,2),T=b[0],w=b[1];s="<b>Mid:</b> ".concat(s," <b>High:</b> ").concat(T," <b>Low:</b> ").concat(w)}if(s!==undefined){if(null===a.name)continue;var A=Object(k.sanitise)(d.apply(void 0,[a.name].concat(M()(o)))),O=p(a);r+='<tr class="'.concat(c.CLASS.tooltipName).concat(c.getTargetSelectorSuffix(a.id),'"><td class="name">'),r+=c.patterns?'<svg><rect style="fill:'.concat(O,'" width="10" height="10"></rect></svg>'):'<span style="background-color:'.concat(O,'"></span>'),r+="".concat(A,'</td><td class="value">').concat(s,"</td></tr>")}}return"".concat(r,"</table>")},tooltipPosition:function tooltipPosition(t,e,n,i){var r=this,a=r.config,o=Object(g.mouse)(i),s=S()(o,2),c=s[0],u=s[1],l=r.getSvgLeft(!0),d=l+r.currentWidth-r.getCurrentPaddingRight();if(u+=20,r.hasArcType()){"touch"===r.inputType||r.hasType("radar")||(u+=r.height/2,c+=(r.width-(r.isLegendRight?r.getLegendWidth():0))/2)}else{var f=r.x(t[0].x);a.axis_rotated?(u=f+20,c+=l+100,d-=l):(u-=5,c=l+r.getCurrentPaddingLeft(!0)+20+(r.zoomScale?c:f))}var h=c+e;return d<h&&(c-=h-d+20),u+n>r.currentHeight&&(u-=n+30),u<0&&(u=0),{top:u,left:c}},showTooltip:function showTooltip(t,e){var n=this,i=n.config,r=n.hasArcType(null,["radar"]),a=t.filter(function(t){return t&&Object(k.isValue)(n.getBaseValue(t))}),o=i.tooltip_position||n.tooltipPosition;if(0!==a.length&&i.tooltip_show){var s=n.tooltip.datum(),c=JSON.stringify(t),u=s&&s.width||0,l=s&&s.height||0;if(!s||s.current!==c){var d=t[0].index,f=i.tooltip_contents.call(n,t,n.axis.getXAxisTickFormat(),n.getYFormat(r),n.color);Object(k.callFn)(i.tooltip_onshow,n),n.tooltip.html(f).style("display","block").datum({index:d,current:c,width:u=n.tooltip.property("offsetWidth"),height:l=n.tooltip.property("offsetHeight")}),Object(k.callFn)(i.tooltip_onshown,n),n._handleLinkedCharts(!0,d)}var h=o.call(this,a,u,l,e);n.tooltip.style("top","".concat(h.top,"px")).style("left","".concat(h.left,"px"))}},hideTooltip:function hideTooltip(){var t=this.config;Object(k.callFn)(t.tooltip_onhide,this),this.tooltip.style("display","none").datum(null),Object(k.callFn)(t.tooltip_onhidden,this)},_handleLinkedCharts:function _handleLinkedCharts(c,u){var l=this;if(l.config.tooltip_linked){var d=l.config.tooltip_linked_name;(l.api.internal.charts||[]).forEach(function(t){if(t!==l.api){var e=t.internal.config,n=e.tooltip_linked,i=e.tooltip_linked_name,r=document.body.contains(t.element);if(n&&d===i&&r){var a=t.internal.tooltip.data()[0],o=u!==(a&&a.index);try{c&&o?t.tooltip.show({index:u}):!c&&t.tooltip.hide()}catch(s){}}}})}}})},function(t,e,n){"use strict";n.r(e);var N=n(68),i=n(3),P=n(17),Y=n(15);Object(Y.extend)(i["default"].prototype,{initLegend:function initLegend(){var t=this,e=t.config;t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g"),e.legend_show?(t.legend.attr("transform",t.getTranslate("legend")),t.updateLegend()):(t.legend.style("visibility","hidden"),t.hiddenLegendIds=t.mapToIds(t.data.targets))},updateLegend:function updateLegend(t,e,n){var i=this,r=i.config;r.legend_contents_bindto&&r.legend_contents_template?i.updateLegendTemplate():i.updateLegendElement(t||i.mapToIds(i.data.targets),e||{withTransform:!1,withTransitionForTransform:!1,withTransition:!1},n)},updateLegendTemplate:function updateLegendTemplate(){var n=this,t=n.config,e=Object(N.select)(t.legend_contents_bindto),i=t.legend_contents_template;if(!e.empty()){var r=n.data.targets,a=[],o="";n.mapToIds(r).forEach(function(t){var e=Object(Y.isFunction)(i)?i.call(n,t,n.color(t),n.api.data(t)[0].values):i.replace(/{=COLOR}/g,n.color(t)).replace(/{=TITLE}/g,t);e&&(a.push(t),o+=e)});var s=e.html(o).selectAll(function(){return this.childNodes}).data(a);n.setLegendItem(s)}},updateSizeForLegend:function updateSizeForLegend(t,e){var n=this,i=n.config,r={top:n.isLegendTop?n.getCurrentPaddingTop()+i.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-i.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+i.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-i.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?r.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?r.left:0}},transformLegend:function transformLegend(t){(t?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},updateLegendStep:function updateLegendStep(t){this.legendStep=t},updateLegendItemWidth:function updateLegendItemWidth(t){this.legendItemWidth=t},updateLegendItemHeight:function updateLegendItemHeight(t){this.legendItemHeight=t},getLegendWidth:function getLegendWidth(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},getLegendHeight:function getLegendHeight(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},opacityForLegend:function opacityForLegend(t){return t.classed(P["default"].legendItemHidden)?null:"1"},opacityForUnfocusedLegend:function opacityForUnfocusedLegend(t){return t.classed(P["default"].legendItemHidden)?null:"0.3"},toggleFocusLegend:function toggleFocusLegend(t,e){var n=this,i=n.mapToTargetIds(t);n.legend.selectAll(".".concat(P["default"].legendItem)).filter(function(t){return 0<=i.indexOf(t)}).classed(P["default"].legendItemFocused,e).transition().duration(100).style("opacity",function(){return(e?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,Object(N.select)(this))})},revertLegend:function revertLegend(){var t=this;t.legend.selectAll(".".concat(P["default"].legendItem)).classed(P["default"].legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(Object(N.select)(this))})},showLegend:function showLegend(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),!e.legendHasRendered&&e.updateLegend()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(Object(N.select)(this))})},hideLegend:function hideLegend(t){var e=this,n=e.config;n.legend_show&&Object(Y.isEmpty)(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity","0").style("visibility","hidden")},clearLegendItemTextBoxCache:function clearLegendItemTextBoxCache(){this.legendItemTextBox={}},setLegendItem:function setLegendItem(t){var n=this,e=n.config,i="touch"===n.inputType;t.attr("class",function(t){var e=Object(N.select)(this);return(!e.empty()&&e.attr("class")||"")+n.generateClass(P["default"].legendItem,t)}).style("visibility",function(t){return n.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){Object(Y.callFn)(e.legend_item_onclick,n,t)||(N.event.altKey?(n.api.hide(),n.api.show(t)):(n.api.toggle(t),!i&&n.isTargetToShow(t)?n.api.focus(t):n.api.revert())),i&&n.hideTooltip()}),i||t.on("mouseout",function(t){Object(Y.callFn)(e.legend_item_onout,n,t)||(Object(N.select)(this).classed(P["default"].legendItemFocused,!1),n.api.revert())}).on("mouseover",function(t){Object(Y.callFn)(e.legend_item_onover,n,t)||(Object(N.select)(this).classed(P["default"].legendItemFocused,!0),!n.transiting&&n.isTargetToShow(t)&&n.api.focus(t))})},updateLegendElement:function updateLegendElement(t,e,n){var i,r,a,g=this,p=g.config,m=p.legend_item_tile_width+5,x=0,_=0,v=0,y={},b={},T={},w=[0],A={},O=0,S=g.isLegendRight||g.isLegendInset,M=t.filter(function(t){return!Object(Y.isDefined)(p.data_names[t])||null!==p.data_names[t]}),o=e||{},s=Object(Y.getOption)(o,"withTransition",!0),c=Object(Y.getOption)(o,"withTransitionForTransform",!0),u=function(t,e,n){var i,r,a,o=n===M.length-1,s=(r=t,a=e,g.legendItemTextBox[a]||(g.legendItemTextBox[a]=g.getTextRect(r,P["default"].legendItem,r)),g.legendItemTextBox[a]),c=s.width+m+(o&&!S?0:10)+p.legend_padding,u=s.height+4,l=S?u:c,d=S?g.getLegendHeight():g.getLegendWidth(),f=function(t,e){e||(i=(d-v-l)/2)<10&&(i=(d-l)/2,v=0,O++),A[t]=O,w[O]=g.isLegendInset?10:i,y[t]=v,v+=l};if(0===n&&(_=x=O=v=0),p.legend_show&&!g.isLegendToShow(e))return b[e]=0,T[e]=0,A[e]=0,void(y[e]=0);b[e]=c,T[e]=u,(!x||x<=c)&&(x=c),(!_||_<=u)&&(_=u);var h=S?_:x;p.legend_equally?(Object.keys(b).forEach(function(t){return b[t]=x}),Object.keys(T).forEach(function(t){return T[t]=_}),(i=(d-h*M.length)/2)<10?(O=v=0,M.forEach(function(t){return f(t)})):f(e,!0)):f(e)};g.isLegendInset&&(O=p.legend_inset_step?p.legend_inset_step:M.length,g.updateLegendStep(O)),r=g.isLegendRight?(i=function(t){return x*A[t]},function(t){return w[A[t]]+y[t]}):g.isLegendInset?(i=function(t){return x*A[t]+10},function(t){return w[A[t]]+y[t]}):(i=function(t){return w[A[t]]+y[t]},function(t){return _*A[t]});var l=function(t,e){return i(t,e)+4+p.legend_item_tile_width},d=function(t,e){return i(t,e)},f=function(t,e){return i(t,e)-2},h=function(t,e){return i(t,e)-2+p.legend_item_tile_width},k=function(t,e){return r(t,e)+9},C=function(t,e){return r(t,e)-5},L=function(t,e){return r(t,e)+4},j=-200,D=g.legend.selectAll(".".concat(P["default"].legendItem)).data(M).enter().append("g");g.setLegendItem(D),D.append("text").text(function(t){return Object(Y.isDefined)(p.data_names[t])?p.data_names[t]:t}).each(function(t,e){u(this,t,e)}).style("pointer-events","none").attr("x",S?l:j).attr("y",S?j:k),D.append("rect").attr("class",P["default"].legendItemEvent).style("fill-opacity","0").attr("x",S?d:j).attr("y",S?j:C);var F=g.config.legend_usePoint;if(F){var R=[];D.append(function(t){var e=Object(Y.notEmpty)(p.point_pattern)?p.point_pattern:[p.point_type];-1===R.indexOf(t)&&R.push(t);var n=e[R.indexOf(t)%e.length];return"rectangle"===n&&(n="rect"),document.createElementNS(N.namespaces.svg,g.hasValidPointType(n)?n:"use")}).attr("class",P["default"].legendItemPoint).style("fill",function(t){return g.color(t)}).style("pointer-events","none").attr("href",function(t,e,n){return"use"===n[e].nodeName.toLowerCase()?"#".concat(g.datetimeId,"-point-").concat(t):undefined})}else D.append("line").attr("class",P["default"].legendItemTile).style("stroke",g.color).style("pointer-events","none").attr("x1",S?f:j).attr("y1",S?j:L).attr("x2",S?h:j).attr("y2",S?j:L).attr("stroke-width",p.legend_item_tile_height);a=g.legend.select(".".concat(P["default"].legendBackground," rect")),g.isLegendInset&&0<x&&0===a.size()&&(a=g.legend.insert("g",".".concat(P["default"].legendItem)).attr("class",P["default"].legendBackground).append("rect"));var I=g.legend.selectAll("text").data(M).text(function(t){return Object(Y.isDefined)(p.data_names[t])?p.data_names[t]:t}).each(function(t,e){u(this,t,e)});(s?I.transition():I).attr("x",l).attr("y",k);var E=g.legend.selectAll("rect.".concat(P["default"].legendItemEvent)).data(M);if((s?E.transition():E).attr("width",function(t){return b[t]}).attr("height",function(t){return T[t]}).attr("x",d).attr("y",C),F){var X=g.legend.selectAll(".".concat(P["default"].legendItemPoint)).data(M);(s?X.transition():X).each(function(){var t,e,n,i=this.nodeName.toLowerCase(),r=g.config.point_r,a="x",o="y",s=2,c=2.5;if("circle"===i){var u=.2*r;a="cx",o="cy",t=r+u,s=2*r,c=-u}else if("rect"===i){var l=2.5*r;n=e=l,c=3}Object(N.select)(this).attr(a,function(t){return f(t)+s}).attr(o,function(t){return L(t)-c}).attr("r",t).attr("width",e).attr("height",n)})}else{var z=g.legend.selectAll("line.".concat(P["default"].legendItemTile)).data(M);(s?z.transition():z).style("stroke",g.color).attr("x1",f).attr("y1",L).attr("x2",h).attr("y2",L)}a&&(s?a.transition():a).attr("height",g.getLegendHeight()-12).attr("width",x*(O+1)+10),g.legend.selectAll(".".concat(P["default"].legendItem)).classed(P["default"].legendItemHidden,function(t){return!g.isTargetToShow(t)}),g.updateLegendItemWidth(x),g.updateLegendItemHeight(_),g.updateLegendStep(O),g.updateSizes(),g.updateScales(!s),g.updateSvgSize(),g.transformAll(c,n),g.legendHasRendered=!0}})},function(t,e,n){"use strict";n.r(e);var i=n(3),r=n(15);Object(r.extend)(i["default"].prototype,{initTitle:function initTitle(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},redrawTitle:function redrawTitle(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},xForTitle:function xForTitle(){var t=this,e=t.config,n=e.title_position||"left";return 0<=n.indexOf("right")?t.currentWidth-t.getTextRect(t.title,t.CLASS.title,t.title).width-e.title_padding.right:0<=n.indexOf("center")?(t.currentWidth-t.getTextRect(t.title,t.CLASS.title,t.title).width)/2:e.title_padding.left},yForTitle:function yForTitle(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title,t.CLASS.title,t.title).height},getTitlePadding:function getTitlePadding(){return this.yForTitle()+this.config.title_padding.bottom}})},function(t,e,n){"use strict";n.r(e);var i=n(3),r=n(15);Object(r.extend)(i["default"].prototype,{getClipPath:function getClipPath(t){var e=this.config;if(!e.clipPath&&/-clip$/.test(t)||!e.axis_x_clipPath&&/-clip-xaxis$/.test(t)||!e.axis_y_clipPath&&/-clip-yaxis$/.test(t))return null;var n=0<=window.navigator.appVersion.toLowerCase().indexOf("msie 9.");return"url(".concat(n?"":document.URL.split("#")[0],"#").concat(t,")")},appendClip:function appendClip(t,e){return t.append("clipPath").attr("id",e).append("rect")},getAxisClipX:function getAxisClipX(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},getAxisClipY:function getAxisClipY(t){return t?-20:-this.margin.top},getXAxisClipX:function getXAxisClipX(){return this.getAxisClipX(!this.config.axis_rotated)},getXAxisClipY:function getXAxisClipY(){return this.getAxisClipY(!this.config.axis_rotated)},getYAxisClipX:function getYAxisClipX(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},getYAxisClipY:function getYAxisClipY(){return this.getAxisClipY(this.config.axis_rotated)},getAxisClipWidth:function getAxisClipWidth(t){var e=Math.max(30,this.margin.left),n=Math.max(30,this.margin.right);return t?this.width+2+e+n:this.margin.left+20},getAxisClipHeight:function getAxisClipHeight(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},getXAxisClipWidth:function getXAxisClipWidth(){return this.getAxisClipWidth(!this.config.axis_rotated)},getXAxisClipHeight:function getXAxisClipHeight(){return this.getAxisClipHeight(!this.config.axis_rotated)},getYAxisClipWidth:function getYAxisClipWidth(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},getYAxisClipHeight:function getYAxisClipHeight(){return this.getAxisClipHeight(this.config.axis_rotated)}})},function(t,e,n){"use strict";n.r(e);var i=n(68),r=n(3),a=n(17),o=n(15);Object(o.extend)(r["default"].prototype,{initRegion:function initRegion(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",a["default"].regions)},updateRegion:function updateRegion(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select(".".concat(a["default"].regions)).selectAll(".".concat(a["default"].region)).data(n.regions),e.mainRegion.exit().transition().duration(t).style("opacity","0").remove(),e.mainRegion=e.mainRegion.enter().append("g").merge(e.mainRegion).attr("class",e.classRegion.bind(e)),e.mainRegion.append("rect").style("fill-opacity","0")},redrawRegion:function redrawRegion(t){var e=this,n=e.mainRegion.select("rect");return n=(t?n.transition():n).attr("x",e.regionX.bind(e)).attr("y",e.regionY.bind(e)).attr("width",e.regionWidth.bind(e)).attr("height",e.regionHeight.bind(e)),[(t?n.transition():n).style("fill-opacity",function(t){return Object(o.isValue)(t.opacity)?t.opacity:"0.1"}).on("end",function(){Object(i.select)(this.parentNode).selectAll("rect:not([x])").remove()})]},getRegionXY:function getRegionXY(t,e){var n=this,i=n.config.axis_rotated,r="x"===t,a="start",o=0;return"y"===e.axis||"y2"===e.axis?(!r&&(a="end"),(r?i:!i)&&a in e&&(o=(0,n[e.axis])(e[a]))):(r?!i:i)&&a in e&&(o=(n.zoomScale||n.x)(n.isTimeSeries()?n.parseDate(e[a]):e[a])),o},regionX:function regionX(t){return this.getRegionXY("x",t)},regionY:function regionY(t){return this.getRegionXY("y",t)},getRegionSize:function getRegionSize(t,e){var n=this,i=n.config.axis_rotated,r="width"===t,a=n[r?"regionX":"regionY"](e),o="end",s=n[t];return"y"===e.axis||"y2"===e.axis?(!r&&(o="start"),(r?i:!i)&&o in e&&(s=(0,n[e.axis])(e[o]))):(r?!i:i)&&o in e&&(s=(n.zoomScale||n.x)(n.isTimeSeries()?n.parseDate(e[o]):e[o])),s<a?0:s-a},regionWidth:function regionWidth(t){return this.getRegionSize("width",t)},regionHeight:function regionHeight(t){return this.getRegionSize("height",t)},isRegionOnX:function isRegionOnX(t){return!t.axis||"x"===t.axis}})},function(t,e,n){"use strict";n.r(e);var i=n(4),u=n.n(i),x=n(68),r=n(3),_=n(17),v=n(15);Object(v.extend)(r["default"].prototype,{drag:function drag(t){var f=this,e=f.config,n=f.main;if(!f.hasArcType()&&e.data_selection_enabled&&(!e.zoom_enabled||f.zoom.altDomain)&&e.data_selection_multiple){var i=u()(f.dragStart,2),r=i[0],a=i[1],o=u()(t,2),s=o[0],c=o[1],h=Math.min(r,s),g=Math.max(r,s),p=e.data_selection_grouped?f.margin.top:Math.min(a,c),m=e.data_selection_grouped?f.height:Math.max(a,c);n.select(".".concat(_["default"].dragarea)).attr("x",h).attr("y",p).attr("width",g-h).attr("height",m-p),n.selectAll(".".concat(_["default"].shapes)).selectAll(".".concat(_["default"].shape)).filter(function(t){return e.data_selection_isselectable(t)}).each(function(t,e){var n,i,r,a,o,s,c=Object(x.select)(this),u=c.classed(_["default"].SELECTED),l=c.classed(_["default"].INCLUDED),d=!1;if(c.classed(_["default"].circle))n=1*c.attr("cx"),i=1*c.attr("cy"),o=f.togglePoint,d=h<n&&n<g&&p<i&&i<m;else{if(!c.classed(_["default"].bar))return;n=(s=Object(v.getPathBox)(this)).x,i=s.y,r=s.width,a=s.height,o=f.togglePath,d=!(g<n||n+r<h||m<i||i+a<p)}d^l&&(c.classed(_["default"].INCLUDED,!l),c.classed(_["default"].SELECTED,!u),o.call(f,!u,c,t,e))})}},dragstart:function dragstart(t){var e=this,n=e.config;e.hasArcType()||!n.data_selection_enabled||(e.dragStart=t,e.main.select(".".concat(_["default"].chart)).append("rect").attr("class",_["default"].dragarea).style("opacity","0.1"),e.setDragStatus(!0))},dragend:function dragend(){var t=this,e=t.config;t.hasArcType()||!e.data_selection_enabled||(t.main.select(".".concat(_["default"].dragarea)).transition().duration(100).style("opacity","0").remove(),t.main.selectAll(".".concat(_["default"].shape)).classed(_["default"].INCLUDED,!1),t.setDragStatus(!1))},setDragStatus:function setDragStatus(t){this.dragging=t}})},function(t,e,n){"use strict";n.r(e);var l=n(68),r=n(76),i=n(3),d=n(17),u=n(15);Object(u.extend)(i["default"].prototype,{selectPoint:function selectPoint(t,e,n){var i=this,r=i.config,a=r.axis_rotated,o=(a?i.circleY:i.circleX).bind(i),s=(a?i.circleX:i.circleY).bind(i),c=i.pointSelectR.bind(i);Object(u.callFn)(r.data_onselected,i.api,e,t.node()),i.main.select(".".concat(d["default"].selectedCircles).concat(i.getTargetSelectorSuffix(e.id))).selectAll(".".concat(d["default"].selectedCircle,"-").concat(n)).data([e]).enter().append("circle").attr("class",function(){return i.generateClass(d["default"].selectedCircle,n)}).attr("cx",o).attr("cy",s).attr("stroke",function(){return i.color(e)}).attr("r",function(t){return 1.4*i.pointSelectR(t)}).transition().duration(100).attr("r",c)},unselectPoint:function unselectPoint(t,e,n){Object(u.callFn)(this.config.data_onunselected,this.api,e,t.node()),this.main.select(".".concat(d["default"].selectedCircles).concat(this.getTargetSelectorSuffix(e.id))).selectAll(".".concat(d["default"].selectedCircle,"-").concat(n)).transition().duration(100).attr("r",0).remove()},togglePoint:function togglePoint(t,e,n,i){this["".concat(t?"":"un","selectPoint")](e,n,i)},selectPath:function selectPath(t,e){var n=this,i=n.config;Object(u.callFn)(i.data_onselected,n,e,t.node()),i.interaction_brighten&&t.transition().duration(100).style("fill",function(){return Object(r.rgb)(n.color(e)).brighter(.75)})},unselectPath:function unselectPath(t,e){var n=this,i=n.config;Object(u.callFn)(i.data_onunselected,n,e,t.node()),i.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.color(e)})},togglePath:function togglePath(t,e,n,i){this["".concat(t?"":"un","selectPath")](e,n,i)},getToggle:function getToggle(t,e){return"path"===t.nodeName?this.togglePath:this.isStepType(e)?function(){}:this.togglePoint},toggleShape:function toggleShape(t,e,n){var i,r=this,a=r.config,o=Object(l.select)(t),s=o.classed(d["default"].SELECTED),c=r.getToggle(t,e).bind(r);if(a.data_selection_enabled&&a.data_selection_isselectable(e)){if(!a.data_selection_multiple){var u=".".concat(d["default"].shapes);a.data_selection_grouped&&(u+=r.getTargetSelectorSuffix(e.id)),r.main.selectAll(u).selectAll(".".concat(d["default"].shape)).each(function(t,e){var n=Object(l.select)(this);n.classed(d["default"].SELECTED)&&c(!1,(i=n).classed(d["default"].SELECTED,!1),t,e)})}i&&i.node()===o.node()||(o.classed(d["default"].SELECTED,!s),c(!s,o,e,n))}}})},function(t,e,n){"use strict";n.r(e);var f=n(68),i=n(81),r=n(3),h=n(17),g=n(15);Object(g.extend)(r["default"].prototype,{initBrush:function initBrush(){var r=this;r.brush=r.config.axis_rotated?Object(i.brushY)():Object(i.brushX)();var t=function(){r.redrawForBrush()};r.brush.on("start",function(){"touch"===r.inputType&&r.hideTooltip(),t()}).on("brush",t),r.brush.update=function(){return 0===this.extent()()[1].filter(function(t){return isNaN(t)}).length&&r.context&&r.context.select(".".concat(h["default"].brush)).call(this),this},r.brush.scale=function(t,e){var n=r.svg.select(".bb-brush .overlay"),i=[[0,0]];t.range?i.push([t.range()[1],(e||!n.empty())&&~~n.attr("height")||60]):t.constructor===Array&&i.push(t),r.config.axis_rotated&&i.reverse(),this.extent(r.config.axis_x_extent||i),this.update()},r.brush.getSelection=function(){return r.context?r.context.select(".".concat(h["default"].brush)):Object(f.select)([])}},initSubchart:function initSubchart(){var t=this,e=t.config,n=e.subchart_show?"visible":"hidden";t.context=t.svg.append("g").attr("transform",t.getTranslate("context"));var i=t.context;i.style("visibility",n),i.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",h["default"].chart),i.select(".".concat(h["default"].chart)).append("g").attr("class",h["default"].chartBars),i.select(".".concat(h["default"].chart)).append("g").attr("class",h["default"].chartLines),i.append("g").attr("clip-path",t.clipPath).attr("class",h["default"].brush).call(t.brush),t.axes.subx=i.append("g").attr("class",h["default"].axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?n:"hidden")},updateTargetsForSubchart:function updateTargetsForSubchart(t){var e=this,n=e.context,i=e.config,r=e.classChartBar.bind(e),a=e.classBars.bind(e),o=e.classChartLine.bind(e),s=e.classLines.bind(e),c=e.classAreas.bind(e);if(i.subchart_show){var u=n.select(".".concat(h["default"].chartBars)).selectAll(".".concat(h["default"].chartBar)).data(t).attr("class",r);u.enter().append("g").style("opacity","0").attr("class",r).merge(u).append("g").attr("class",a);var l=n.select(".".concat(h["default"].chartLines)).selectAll(".".concat(h["default"].chartLine)).data(t).attr("class",o),d=l.enter().append("g").style("opacity","0").attr("class",o).merge(l);d.append("g").attr("class",s),d.append("g").attr("class",c),n.selectAll(".".concat(h["default"].brush," rect")).attr(i.axis_rotated?"width":"height",i.axis_rotated?e.width2:e.height2)}},updateBarForSubchart:function updateBarForSubchart(t){var e=this;e.contextBar=e.context.selectAll(".".concat(h["default"].bars)).selectAll(".".concat(h["default"].bar)).data(e.barData.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity","0").remove(),e.contextBar=e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color).merge(e.contextBar).style("opacity",e.initialOpacity.bind(e))},redrawBarForSubchart:function redrawBarForSubchart(t,e,n){(e?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",t).style("opacity","1")},updateLineForSubchart:function updateLineForSubchart(t){var e=this;e.contextLine=e.context.selectAll(".".concat(h["default"].lines)).selectAll(".".concat(h["default"].line)).data(e.lineData.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity","0").remove(),e.contextLine=e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color).merge(e.contextLine).style("opacity",e.initialOpacity.bind(e))},redrawLineForSubchart:function redrawLineForSubchart(t,e,n){(e?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",t).style("opacity","1")},updateAreaForSubchart:function updateAreaForSubchart(t){var e=this;e.contextArea=e.context.selectAll(".".concat(h["default"].areas)).selectAll(".".concat(h["default"].area)).data(e.lineData.bind(e)),e.contextArea.exit().transition().duration(t).style("opacity","0").remove(),e.contextArea=e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=Object(f.select)(this).style("opacity"),"0"}).merge(e.contextArea).style("opacity","0")},redrawAreaForSubchart:function redrawAreaForSubchart(t,e,n){(e?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},redrawSubchart:function redrawSubchart(t,e,n,i,r,a,o){var s=this,c=s.config;if(s.context.style("visibility",c.subchart_show?"visible":"hidden"),c.subchart_show&&(f.event&&"zoom"===f.event.type&&s.brush.update(),t)){Object(g.brushEmpty)(s)||s.brush.update();var u=s.generateDrawArea(r,!0),l=s.generateDrawBar(a,!0),d=s.generateDrawLine(o,!0);s.updateBarForSubchart(n),s.updateLineForSubchart(n),s.updateAreaForSubchart(n),s.redrawBarForSubchart(l,n,n),s.redrawLineForSubchart(d,n,n),s.redrawAreaForSubchart(u,n,n)}},redrawForBrush:function redrawForBrush(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},transformContext:function transformContext(t,e){var n;e&&e.axisSubX?n=e.axisSubX:(n=this.context.select(".".concat(h["default"].axisX)),t&&(n=n.transition())),this.context.attr("transform",this.getTranslate("context")),n.attr("transform",this.getTranslate("subx"))},getDefaultExtent:function getDefaultExtent(){var t=this,e=t.config,n=Object(g.isFunction)(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n}})},function(t,e,n){"use strict";n.r(e);var i=n(4),f=n.n(i),r=n(70),h=n(68),a=n(78),o=n(77),s=n(3),g=n(17),c=n(15);Object(c.extend)(s["default"].prototype,{initZoom:function initZoom(){this.zoomScale=null,this.generateZoom()},bindZoomEvent:function bindZoomEvent(){var t=!(0<arguments.length&&arguments[0]!==undefined)||arguments[0],e=this,n=e.config.zoom_enabled;e.redrawEventRect(),n&&t?e.bindZoomOnEventRect(n.type):!1===t&&(e.api.unzoom(),e.main.select(".".concat(g["default"].eventRects)).on(".zoom",null).on(".drag",null))},generateZoom:function generateZoom(){var r=this,a=r.config,t=Object(o.zoom)().duration(0).on("start",r.onZoomStart.bind(r)).on("zoom",r.onZoom.bind(r)).on("end",r.onZoomEnd.bind(r));t.orgScaleExtent=function(){var t=a.zoom_extent||[1,10];return[t[0],Math.max(r.getMaxDataCount()/t[1],t[1])]},t.updateScaleExtent=function(){var t=Object(c.diffDomain)(r.x.orgDomain())/Object(c.diffDomain)(r.getZoomDomain()),e=this.orgScaleExtent();return this.scaleExtent([e[0]*t,e[1]*t]),this},t.updateTransformScale=function(t){var e=t.rescaleX(r.subX.orgScale()),n=r.trimXDomain(e.domain()),i=a.zoom_rescale;e.domain(n,r.orgXDomain),r.zoomScale=r.getCustomizedScale(e),r.xAxis.scale(r.zoomScale),i&&r.x.domain(r.zoomScale.orgDomain())},r.zoom=t},onZoomStart:function onZoomStart(){var t=this,e=h.event.sourceEvent;t.zoom.altDomain=e.altKey?t.x.orgDomain():null,t.zoom.startEvent=e,Object(c.callFn)(t.config.zoom_onzoomstart,t.api,e)},onZoom:function onZoom(){var t=this,e=t.config,n=h.event;if(e.zoom_enabled){var i="mousemove"===n.sourceEvent.type,r=n.transform;return t.zoom.updateTransformScale(r),0===t.filterTargetsToShow(t.data.targets).length?void 0:i&&t.zoom.altDomain?(t.x.domain(t.zoom.altDomain),void r.scale(t.zoomScale).updateScaleExtent()):(t.isCategorized()&&t.x.orgDomain()[0]===t.orgXDomain[0]&&t.x.domain([t.orgXDomain[0]-1e-10,t.x.orgDomain()[1]]),t.redraw({withTransition:!1,withY:e.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),t.cancelClick=i,void Object(c.callFn)(e.zoom_onzoom,t.api,t.subX.domain()))}},onZoomEnd:function onZoomEnd(){var t=this,e=t.zoom.startEvent;event&&e.clientX===event.clientX&&e.clientY===event.clientY||(t.redrawEventRect(),t.updateZoom(),Object(c.callFn)(t.config.zoom_onzoomend,t.api,t.subX.domain()))},getZoomDomain:function getZoomDomain(){var t=this.config;return[Object(r.min)([this.orgXDomain[0],t.zoom_x_min]),Object(r.max)([this.orgXDomain[1],t.zoom_x_max])]},updateZoom:function updateZoom(){var t=this;if(t.zoomScale){var e=t.zoomScale.domain(),n=t.subX.domain();(e[0]<=n[0]||e[0]-.015<=n[0])&&(n[1]<=e[1]||n[1]<=e[1]-.015)&&(t.xAxis.scale(t.subX),t.x.domain(t.subX.orgDomain()),t.zoomScale=null)}},bindZoomOnEventRect:function bindZoomOnEventRect(t){var e="drag"===t?this.zoomBehaviour:this.zoom;this.main.select(".".concat(g["default"].eventRects)).call(e).on("dblclick.zoom",null)},initZoomBehaviour:function initZoomBehaviour(){var c=this,t=c.config.axis_rotated,u=0,l=0,d=null;c.zoomBehaviour=Object(a.drag)().clickDistance(4).on("start",function(){c.setDragStatus(!0),d||(d=c.main.append("rect").attr("clip-path",c.clipPath).attr("class",g["default"].zoomBrush).attr("width",t?c.width:0).attr("height",t?0:c.height)),u=Object(h.mouse)(this)[0],l=u,d.attr("x",u).attr("width",0),c.onZoomStart()}).on("drag",function(){l=Object(h.mouse)(this)[0],d.attr("x",Math.min(u,l)).attr("width",Math.abs(l-u))}).on("end",function(){var t,e=c.zoomScale||c.x;if(c.setDragStatus(!1),d.attr("x",0).attr("width",0),l<u&&(u=(t=[l,u])[0],l=t[1]),u<0&&(l+=Math.abs(u),u=0),u!==l)c.api.zoom([u,l].map(function(t){return e.invert(t)})),c.onZoomEnd();else if(c.isMultipleX())c.clickHandlerForMultipleXS.bind(this)(c);else{var n=h.event.sourceEvent||h.event,i="clientX"in n?[n.clientX,n.clientY]:[n.x,n.y],r=f()(i,2),a=r[0],o=r[1],s=document.elementFromPoint(a,o);c.clickHandlerForSingleX.bind(s)(Object(h.select)(s).datum(),c)}})},setZoomResetButton:function setZoomResetButton(){var t=this,e=t.config,n=e.zoom_resetButton;n&&"drag"===e.zoom_enabled.type&&(t.zoom.resetBtn?t.zoom.resetBtn.style("display",null):t.zoom.resetBtn=t.selectChart.append("div").classed(g["default"].button,!0).append("span").on("click",t.api.unzoom.bind(t)).classed(g["default"].buttonZoomReset,!0).text(n.text||"Reset Zoom"))}})},function(t,e,n){"use strict";n.r(e);var d=n(68),i=n(69),r=n(3),a=n(17),f=n(15),h=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];Object(f.extend)(r["default"].prototype,{getColorFromCss:function getColorFromCss(){var t=document.body,e=t.__colorPattern__;if(!e){var n=document.createElement("span");n.className=a["default"].colorPattern,n.style.display="none",t.appendChild(n);var i=window.getComputedStyle(n).backgroundImage;n.parentNode.removeChild(n),-1<i.indexOf(";")&&(e=i.replace(/url[^#]*|["'()]|(\s|%20)/g,"").split(";").map(function(t){return t.trim().replace(/[\"'\s]/g,"")}).filter(Boolean),t.__colorPattern__=e)}return e},generateColor:function generateColor(){var c=this,t=c.config,r=t.data_colors,a=t.data_color,o=[],s=Object(f.notEmpty)(t.color_pattern)?t.color_pattern:Object(i.scaleOrdinal)(c.getColorFromCss()||h).range(),u=s;if(Object(f.isFunction)(t.color_tiles)){var l=t.color_tiles(),e=s.map(function(t,e){var n,i,r,a,o=t.replace(/[#\(\)\s,]/g,""),s="".concat(c.datetimeId,"-pattern-").concat(o,"-").concat(e);return n=l[e%l.length],i=t,r=s,(a=Object(d.select)(n.cloneNode(!0))).attr("id",r).insert("rect",":first-child").attr("width",a.attr("width")).attr("height",a.attr("height")).style("fill",i),{id:r,node:a.node()}});s=e.map(function(t){return"url(#".concat(t.id,")")}),c.patterns=e}return function(t){var e,n=t.id||t.data&&t.data.id||t,i=c.isTypeOf(n,["line","spline","step"])||!c.config.data_types[n];return Object(f.isFunction)(r[n])?e=r[n](t):r[n]?e=r[n]:(o.indexOf(n)<0&&o.push(n),e=i?u[o.indexOf(n)%u.length]:s[o.indexOf(n)%s.length],r[n]=e),Object(f.isFunction)(a)?a(e,t):e}},generateLevelColor:function generateLevelColor(){var t=this.config,i=t.color_pattern,e=t.color_threshold,r="value"===e.unit,a=e.max||100,o=e.values&&e.values.length?e.values:[];return Object(f.notEmpty)(e)?function(t){for(var e=i[i.length-1],n=0;n<o.length;n++)if((r?t:100*t/a)<o[n]){e=i[n];break}return e}:null}})},function(t,e,n){"use strict";n.r(e);var i=n(3),r=n(15),a=function(t,e,n){var i=t.config,r="axis_".concat(e,"_tick_format");return(i[r]?i[r]:t.defaultValueFormat)(n)};Object(r.extend)(i["default"].prototype,{getYFormat:function getYFormat(t){var i=this,r=i.yFormat,a=i.y2Format;return t&&!i.hasType("gauge")&&(r=i.defaultArcValueFormat,a=i.defaultArcValueFormat),function(t,e,n){return("y2"===i.axis.getId(n)?a:r).call(i,t,e)}},yFormat:function yFormat(t){return a(this,"y",t)},y2Format:function y2Format(t){return a(this,"y2",t)},defaultValueFormat:function defaultValueFormat(t){return Object(r.isValue)(t)?+t:""},defaultArcValueFormat:function defaultArcValueFormat(t,e){return"".concat((100*e).toFixed(1),"%")},dataLabelFormat:function dataLabelFormat(t){var e=this.config.data_labels,n=function(t){return Object(r.isValue)(t)?+t:""},i=n;return Object(r.isFunction)(e.format)?i=e.format:Object(r.isObjectType)(e.format)&&(i=e.format[t]?!0===e.format[t]?n:e.format[t]:function(){return""}),i}})},function(t,e,n){"use strict";n.r(e);var i=n(3),r=n(15);Object(r.extend)(i["default"].prototype,{addCache:function addCache(t,e){var n=!!(2<arguments.length&&arguments[2]!==undefined)&&arguments[2];this.cache[t]=n?this.cloneTarget(e):e},removeCache:function removeCache(t){var e=this;Object(r.toArray)(t).forEach(function(t){return delete e.cache[t]})},getCache:function getCache(t){if(!(1<arguments.length&&arguments[1]!==undefined&&arguments[1]))return this.cache[t]||null;for(var e,n=[],i=0;e=t[i];i++)e in this.cache&&n.push(this.cloneTarget(this.cache[e]));return n},resetCache:function resetCache(t){for(var e in this.cache)(t||/^\$/.test(e))&&(this.cache[e]=null)}})},function(t,e,n){"use strict";n.r(e);var i=n(3),r=n(17),a=n(15);Object(a.extend)(i["default"].prototype,{CLASS:r["default"],generateClass:function generateClass(t,e){return" ".concat(t," ").concat(t+this.getTargetSelectorSuffix(e))},classText:function classText(t){return this.generateClass(r["default"].text,t.index)},classTexts:function classTexts(t){return this.generateClass(r["default"].texts,t.id)},classShape:function classShape(t){return this.generateClass(r["default"].shape,t.index)},classShapes:function classShapes(t){return this.generateClass(r["default"].shapes,t.id)},generateExtraLineClass:function generateExtraLineClass(){var n=this.config.line_classes||[],i=[];return function(t){var e=t.id||t.data&&t.data.id||t;return i.indexOf(e)<0&&i.push(e),n[i.indexOf(e)%n.length]}},classLine:function classLine(t){return this.classShape(t)+this.generateClass(r["default"].line,t.id)},classLines:function classLines(t){return this.classShapes(t)+this.generateClass(r["default"].lines,t.id)},classCircle:function classCircle(t){return this.classShape(t)+this.generateClass(r["default"].circle,t.index)},classCircles:function classCircles(t){return this.classShapes(t)+this.generateClass(r["default"].circles,t.id)},classBar:function classBar(t){return this.classShape(t)+this.generateClass(r["default"].bar,t.index)},classBars:function classBars(t){return this.classShapes(t)+this.generateClass(r["default"].bars,t.id)},classArc:function classArc(t){return this.classShape(t.data)+this.generateClass(r["default"].arc,t.data.id)},classArcs:function classArcs(t){return this.classShapes(t.data)+this.generateClass(r["default"].arcs,t.data.id)},classArea:function classArea(t){return this.classShape(t)+this.generateClass(r["default"].area,t.id)},classAreas:function classAreas(t){return this.classShapes(t)+this.generateClass(r["default"].areas,t.id)},classRegion:function classRegion(t,e){return"".concat(this.generateClass(r["default"].region,e)," ").concat("class"in t?t["class"]:"")},classEvent:function classEvent(t){return this.generateClass(r["default"].eventRect,t.index)},classTarget:function classTarget(t){var e=this.config.data_classes[t],n="";return e&&(n=" ".concat(r["default"].target,"-").concat(e)),this.generateClass(r["default"].target,t)+n},classFocus:function classFocus(t){return this.classFocused(t)+this.classDefocused(t)},classFocused:function classFocused(t){return" ".concat(0<=this.focusedTargetIds.indexOf(t.id)?r["default"].focused:"")},classDefocused:function classDefocused(t){return" ".concat(0<=this.defocusedTargetIds.indexOf(t.id)?r["default"].defocused:"")},classChartText:function classChartText(t){return r["default"].chartText+this.classTarget(t.id)},classChartLine:function classChartLine(t){return r["default"].chartLine+this.classTarget(t.id)},classChartBar:function classChartBar(t){return r["default"].chartBar+this.classTarget(t.id)},classChartArc:function classChartArc(t){return r["default"].chartArc+this.classTarget(t.data.id)},classChartRadar:function classChartRadar(t){return r["default"].chartRadar+this.classTarget(t.id)},getTargetSelectorSuffix:function getTargetSelectorSuffix(t){return t||0===t?"-".concat(t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},selectorTarget:function selectorTarget(t,e){return"".concat(e||"",".").concat(r["default"].target+this.getTargetSelectorSuffix(t))},selectorTargets:function selectorTargets(t,e){var n=this,i=t||[];return i.length?i.map(function(t){return n.selectorTarget(t,e)}):null},selectorLegend:function selectorLegend(t){return".".concat(r["default"].legendItem+this.getTargetSelectorSuffix(t))},selectorLegends:function selectorLegends(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null}})},function(t,e,n){"use strict";n.r(e);var i=n(68),r=n(1),a=n(17),o=n(15);Object(o.extend)(r["default"].prototype,{focus:function focus(t){var e=this.internal,n=e.mapToTargetIds(t),i=e.svg.selectAll(e.selectorTargets(n.filter(e.isTargetToShow,e)));this.revert(),this.defocus(),i.classed(a["default"].focused,!0).classed(a["default"].defocused,!1),e.hasArcType()&&e.expandArc(n),e.toggleFocusLegend(n,!0),e.focusedTargetIds=n,e.defocusedTargetIds=e.defocusedTargetIds.filter(function(t){return n.indexOf(t)<0})},defocus:function defocus(t){var e=this.internal,n=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(n.filter(e.isTargetToShow,e))).classed(a["default"].focused,!1).classed(a["default"].defocused,!0),e.hasArcType()&&e.unexpandArc(n),e.toggleFocusLegend(n,!1),e.focusedTargetIds=e.focusedTargetIds.filter(function(t){return n.indexOf(t)<0}),e.defocusedTargetIds=n},revert:function revert(t){var e=this.internal,n=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(n)).classed(a["default"].focused,!1).classed(a["default"].defocused,!1),e.hasArcType()&&e.unexpandArc(n),e.config.legend_show&&(e.showLegend(n.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(n)).filter(function(){return Object(i.select)(this).classed(a["default"].legendItemFocused)}).classed(a["default"].legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]}})},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(15);Object(r.extend)(i["default"].prototype,{show:function show(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},n=this.internal,i=n.mapToTargetIds(t);n.removeHiddenTargetIds(i);var r=n.svg.selectAll(n.selectorTargets(i));r.transition().style("opacity","1","important").call(n.endall,function(){r.style("opacity",null).style("opacity","1")}),e.withLegend&&n.showLegend(i),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},hide:function hide(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},n=this.internal,i=n.mapToTargetIds(t);n.addHiddenTargetIds(i);var r=n.svg.selectAll(n.selectorTargets(i));r.transition().style("opacity","0","important").call(n.endall,function(){r.style("opacity",null).style("opacity","0")}),e.withLegend&&n.hideLegend(i),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},toggle:function toggle(t){var e=this,n=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},i=this.internal,r={show:[],hide:[]};i.mapToTargetIds(t).forEach(function(t){return r[i.isTargetToShow(t)?"hide":"show"].push(t)}),r.show.length&&this.show(r.show,n),r.hide.length&&setTimeout(function(){return e.hide(r.hide,n)},0)}})},function(t,e,n){"use strict";n.r(e);var i=n(70),r=n(77),a=n(1),o=n(15),s=function(t){var e,n=this.internal,i=t;if(n.config.zoom_enabled&&i){if(n.isTimeSeries()&&(i=i.map(function(t){return n.parseDate(t)})),n.config.subchart_show){var r=n.zoomScale||n.x;n.brush.getSelection().call(n.brush.move,[r(i[0]),r(i[1])]),e=i}else n.x.domain(i),n.zoomScale=n.x,n.xAxis.scale(n.zoomScale),e=n.zoomScale.orgDomain();n.redraw({withTransition:!0,withY:n.config.zoom_rescale,withDimension:!1}),n.setZoomResetButton(),Object(o.callFn)(n.config.zoom_onzoom,this,n.x.orgDomain())}else e=n.zoomScale?n.zoomScale.domain():n.x.orgDomain();return e};Object(o.extend)(s,{enable:function enable(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:"wheel",e=this.internal,n=e.config,i=t;t&&(i=Object(o.isString)(t)&&/^(drag|wheel)$/.test(t)?{type:t}:t),n.zoom_enabled=i,e.zoom?!1===t&&e.bindZoomEvent(!1):(e.initZoom(),e.initZoomBehaviour(),e.bindZoomEvent()),e.updateAndRedraw()},max:function max(t){var e=this.internal,n=e.config;return(0===t||t)&&(n.zoom_x_max=Object(i.max)([e.orgXDomain[1],t])),n.zoom_x_max},min:function min(t){var e=this.internal,n=e.config;return(0===t||t)&&(n.zoom_x_min=Object(i.min)([e.orgXDomain[0],t])),n.zoom_x_min},range:function range(t){var e=this.zoom;return Object(o.isObject)(t)&&(Object(o.isDefined)(t.min)&&e.min(t.min),Object(o.isDefined)(t.max)&&e.max(t.max)),{min:e.min(),max:e.max()}}}),Object(o.extend)(a["default"].prototype,{zoom:s,unzoom:function unzoom(){var t=this.internal,e=t.config;t.zoomScale&&(e.subchart_show?t.brush.getSelection().call(t.brush.move,null):t.zoom.updateTransformScale(r.zoomIdentity),t.updateZoom(),t.zoom.resetBtn&&t.zoom.resetBtn.style("display","none"),t.redraw({withTransition:!0,withY:e.zoom_rescale}))}})},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(15);Object(r.extend)(i["default"].prototype,{load:function load(e){var t=this.internal,n=t.config;e.xs&&t.addXs(e.xs),"names"in e&&this.data.names(e.names),"classes"in e&&Object.keys(e.classes).forEach(function(t){n.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(n.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){n.data_axes[t]=e.axes[t]}),"colors"in e&&Object.keys(e.colors).forEach(function(t){n.data_colors[t]=e.colors[t]}),"unload"in e&&!1!==e.unload?t.unload(t.mapToTargetIds(!0===e.unload?null:e.unload),function(){return t.loadFromArgs(e)}):t.loadFromArgs(e)},unload:function unload(t){var e=this.internal,n=t||{};Object(r.isArray)(n)?n={ids:n}:Object(r.isString)(n)&&(n={ids:[n]});var i=e.mapToTargetIds(n.ids);e.unload(i,function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.removeCache(i),n.done&&n.done()})}})},function(t,e,n){"use strict";n.r(e);var I=n(68),E=n(74),X=n(71),i=n(1),r=n(3),z=n(15),N=n(17);Object(z.extend)(i["default"].prototype,{flow:function flow(t){var e,n,i,r,a=this.internal,o=[],s=a.getMaxDataCount(),c=0,u=0;if(t.json)e=a.convertJsonToData(t.json,t.keys);else if(t.rows)e=a.convertRowsToData(t.rows);else{if(!t.columns)return;e=a.convertColumnsToData(t.columns)}var l=a.convertDataToTargets(e,!0);a.data.targets.forEach(function(t){for(var e=!1,n=0;n<l.length;n++)if(t.id===l[n].id){e=!0,t.values[t.values.length-1]&&(u=t.values[t.values.length-1].index+1),c=l[n].values.length;for(var i=0;i<c;i++)l[n].values[i].index=u+i,a.isTimeSeries()||(l[n].values[i].x=u+i);t.values=t.values.concat(l[n].values),l.splice(n,1);break}e||o.push(t.id)}),a.data.targets.forEach(function(t){for(var e=0;e<o.length;e++)if(t.id===o[e]){u=t.values[t.values.length-1].index+1;for(var n=0;n<c;n++)t.values.push({id:t.id,index:u+n,x:a.isTimeSeries()?a.getOtherTargetX(u+n):u+n,value:null})}}),a.data.targets.length&&l.forEach(function(t){for(var e=[],n=a.data.targets[0].values[0].index;n<u;n++)e.push({id:t.id,index:n,x:a.isTimeSeries()?a.getOtherTargetX(n):n,value:null});t.values.forEach(function(t){t.index+=u,a.isTimeSeries()||(t.x+=u)}),t.values=e.concat(t.values)}),a.data.targets=a.data.targets.concat(l);var d=a.data.targets[0],f=d.values[0];Object(z.isDefined)(t.to)?(c=0,r=a.isTimeSeries()?a.parseDate(t.to):t.to,d.values.forEach(function(t){t.x<r&&c++})):Object(z.isDefined)(t.length)&&(c=t.length),s?1===s&&a.isTimeSeries()&&(i=(d.values[d.values.length-1].x-f.x)/2,n=[new Date(+f.x-i),new Date(+f.x+i)],a.updateXDomain(null,!0,!0,!1,n)):(i=a.isTimeSeries()?1<d.values.length?d.values[d.values.length-1].x-f.x:f.x-a.getXDomain(a.data.targets)[0]:1,n=[f.x-i,f.x],a.updateXDomain(null,!0,!0,!1,n)),a.updateTargets(a.data.targets),a.redraw({flow:{index:f.index,length:c,duration:Object(z.isValue)(t.duration)?t.duration:a.config.transition_duration,done:t.done,orgDataCount:s},withLegend:!0,withTransition:1<s,withTrimXDomain:!1,withUpdateXAxis:!0})}}),Object(z.extend)(r["default"].prototype,{generateFlow:function generateFlow(D){var F=this,R=F.config;return function(){var t,e,n=D.targets,i=D.flow,a=D.drawBar,o=D.drawLine,s=D.drawArea,c=D.cx,u=D.cy,l=D.xv,d=D.xForText,f=D.yForText,r=D.duration,h=i.index,g=i.length,p=F.getValueOnIndex(F.data.targets[0].values,h),m=F.getValueOnIndex(F.data.targets[0].values,h+g),x=F.x.domain(),_=i.duration||r,v=i.done||function(){},y=F.generateWait(),b=F.xgrid||Object(I.selectAll)([]),T=F.xgridLines||Object(I.selectAll)([]),w=F.mainRegion||Object(I.selectAll)([]),A=F.mainText||Object(I.selectAll)([]),O=F.mainBar||Object(I.selectAll)([]),S=F.mainLine||Object(I.selectAll)([]),M=F.mainArea||Object(I.selectAll)([]),k=F.mainCircle||Object(I.selectAll)([]);F.flowing=!0,F.data.targets.forEach(function(t){t.values.splice(0,g)});var C=F.updateXDomain(n,!0,!0);F.updateXGrid&&F.updateXGrid(!0),t=i.orgDataCount?1===i.orgDataCount||(p&&p.x)===(m&&m.x)?F.x(x[0])-F.x(C[0]):F.isTimeSeries()?F.x(x[0])-F.x(C[0]):F.x(p.x)-F.x(m.x):1===F.data.targets[0].values.length?F.isTimeSeries()?(p=F.getValueOnIndex(F.data.targets[0].values,0),m=F.getValueOnIndex(F.data.targets[0].values,F.data.targets[0].values.length-1),F.x(p.x)-F.x(m.x)):Object(z.diffDomain)(C)/2:F.x(x[0])-F.x(C[0]),e=Object(z.diffDomain)(x)/Object(z.diffDomain)(C);var L="translate(".concat(t,",0) scale(").concat(e,",1)");F.hideXGridFocus();var j=Object(X.transition)().ease(E.easeLinear).duration(_);y.add([F.axes.x.transition(j).call(F.xAxis.setTransition(j)),O.transition(j).attr("transform",L),S.transition(j).attr("transform",L),M.transition(j).attr("transform",L),k.transition(j).attr("transform",L),A.transition(j).attr("transform",L),w.filter(F.isRegionOnX).transition(j).attr("transform",L),b.transition(j).attr("transform",L),T.transition(j).attr("transform",L)]),j.call(y,function(){var t=[],e=[],n=[];if(g){for(var i,r=0;r<g;r++)i=h+r,t.push(".".concat(N["default"].shape,"-").concat(i)),e.push(".".concat(N["default"].text,"-").concat(i)),n.push(".".concat(N["default"].eventRect,"-").concat(i));F.svg.selectAll(".".concat(N["default"].shapes)).selectAll(t).remove(),F.svg.selectAll(".".concat(N["default"].texts)).selectAll(e).remove(),F.svg.selectAll(".".concat(N["default"].eventRects)).selectAll(n).remove(),F.svg.select(".".concat(N["default"].xgrid)).remove()}if(b.size()&&b.attr("transform",null).attr(F.xgridAttr),T.attr("transform",null),T.select("line").attr("x1",R.axis_rotated?0:l).attr("x2",R.axis_rotated?F.width:l),T.select("text").attr("x",R.axis_rotated?F.width:0).attr("y",l),O.attr("transform",null).attr("d",a),S.attr("transform",null).attr("d",o),M.attr("transform",null).attr("d",s),k.attr("transform",null),F.isCirclePoint())k.attr("cx",c).attr("cy",u);else{k.attr("x",function(t){return c(t)-R.point_r}).attr("y",function(t){return u(t)-R.point_r}).attr("cx",c).attr("cy",u)}A.attr("transform",null).attr("x",d).attr("y",f).style("fill-opacity",F.opacityForText.bind(F)),w.attr("transform",null),w.select("rect").filter(F.isRegionOnX).attr("x",F.regionX.bind(F)).attr("width",F.regionWidth.bind(F)),R.interaction_enabled&&F.redrawEventRect(),v(),F.flowing=!1})}}})},function(t,e,n){"use strict";n.r(e);var h=n(68),i=n(1),g=n(15),p=n(17);Object(g.extend)(i["default"].prototype,{selected:function selected(t){var e=this.internal,n=[];return e.main.selectAll(".".concat(p["default"].shapes+e.getTargetSelectorSuffix(t))).selectAll(".".concat(p["default"].shape)).filter(function(){return Object(h.select)(this).classed(p["default"].SELECTED)}).each(function(t){return n.push(t)}),n},select:function select(c,u,l){var d=this.internal,f=d.config;f.data_selection_enabled&&d.main.selectAll(".".concat(p["default"].shapes)).selectAll(".".concat(p["default"].shape)).each(function(t,e){var n=Object(h.select)(this),i=t.data?t.data.id:t.id,r=d.getToggle(this,t).bind(d),a=f.data_selection_grouped||!c||0<=c.indexOf(i),o=!u||0<=u.indexOf(e),s=n.classed(p["default"].SELECTED);n.classed(p["default"].line)||n.classed(p["default"].area)||(a&&o?f.data_selection_isselectable(t)&&!s&&r(!0,n.classed(p["default"].SELECTED,!0),t,e):Object(g.isDefined)(l)&&l&&s&&r(!1,n.classed(p["default"].SELECTED,!1),t,e))})},unselect:function unselect(c,u){var l=this.internal,d=l.config;d.data_selection_enabled&&l.main.selectAll(".".concat(p["default"].shapes)).selectAll(".".concat(p["default"].shape)).each(function(t,e){var n=Object(h.select)(this),i=t.data?t.data.id:t.id,r=l.getToggle(this,t).bind(l),a=d.data_selection_grouped||!c||0<=c.indexOf(i),o=!u||0<=u.indexOf(e),s=n.classed(p["default"].SELECTED);n.classed(p["default"].line)||n.classed(p["default"].area)||a&&o&&d.data_selection_isselectable(t)&&s&&r(!1,n.classed(p["default"].SELECTED,!1),t,e)})}})},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(3),a=n(15);Object(a.extend)(i["default"].prototype,{transform:function transform(t,e){var n=this.internal,i=0<=["pie","donut"].indexOf(t)?{withTransform:!0}:null;n.transformTo(e,t,i)}}),Object(a.extend)(r["default"].prototype,{transformTo:function transformTo(t,e,n){var i=this,r=!i.hasArcType(),a=n||{withTransitionForAxis:r};a.withTransitionForTransform=!1,i.transiting=!1,i.setTargetType(t,e),i.updateTargets(i.data.targets),i.updateAndRedraw(a)}})},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(15);Object(r.extend)(i["default"].prototype,{groups:function groups(t){var e=this.internal,n=e.config;return Object(r.isUndefined)(t)||(n.data_groups=t,e.redraw()),n.data_groups}})},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(15),a=function(t){var e=this.internal,n=e.config;return t&&(n.grid_x_lines=t,e.redrawWithoutRescale()),n.grid_x_lines};Object(r.extend)(a,{add:function add(t){return this.xgrids(this.internal.config.grid_x_lines.concat(t||[]))},remove:function remove(t){this.internal.removeGridLines(t,!0)}});var o=function(t){var e=this.internal,n=e.config;return t&&(n.grid_y_lines=t,e.redrawWithoutRescale()),n.grid_y_lines};Object(r.extend)(o,{add:function add(t){return this.ygrids(this.internal.config.grid_y_lines.concat(t||[]))},remove:function remove(t){this.internal.removeGridLines(t,!1)}}),Object(r.extend)(i["default"].prototype,{xgrids:a,ygrids:o})},function(t,e,n){"use strict";n.r(e);var i=n(1),s=n(17),c=n(15),r=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),t):n.regions};Object(c.extend)(r,{add:function add(t){var e=this.internal,n=e.config;return t&&(n.regions=n.regions.concat(t),e.redrawWithoutRescale()),n.regions},remove:function remove(t){var e=this.internal,n=e.config,i=t||{},r=Object(c.getOption)(i,"duration",n.transition_duration),a=Object(c.getOption)(i,"classes",[s["default"].region]),o=e.main.select(".".concat(s["default"].regions)).selectAll(a.map(function(t){return".".concat(t)}));return(r?o.transition().duration(r):o).style("opacity","0").remove(),o=n.regions,Object.keys(i).length?(o=o.filter(function(t){var e=!1;return!t["class"]||(t["class"].split(" ").forEach(function(t){0<=a.indexOf(t)&&(e=!0)}),!e)}),n.regions=o):n.regions=[],o}}),Object(c.extend)(i["default"].prototype,{regions:r})},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(15),a=function(e){var t=this.internal.data.targets;return Object(r.isUndefined)(e)?t:t.filter(function(t){return 0<=e.indexOf(t.id)})};Object(r.extend)(a,{shown:function shown(t){return this.internal.filterTargetsToShow(this.data(t))},values:function(t){var n=!(1<arguments.length&&arguments[1]!==undefined)||arguments[1],i=null;if(t){var e=this.data(t);e&&Object(r.isArray)(e)&&(i=[],e.forEach(function(t){var e=t.values.map(function(t){return t.value});n?i=i.concat(e):i.push(e)}))}return i},names:function names(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},colors:function colors(t){return this.internal.updateDataAttributes("colors",t)},axes:function axes(t){return this.internal.updateDataAttributes("axes",t)},min:function min(){return this.internal.getMinMaxData().min},max:function max(){return this.internal.getMinMaxData().max}}),Object(r.extend)(i["default"].prototype,{data:a})},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(15);Object(r.extend)(i["default"].prototype,{category:function category(t,e){var n=this.internal,i=n.config;return 1<arguments.length&&(i.axis_x_categories[t]=e,n.redraw()),i.axis_x_categories[t]},categories:function categories(t){var e=this.internal,n=e.config;return arguments.length&&(n.axis_x_categories=t,e.redraw()),n.axis_x_categories}})},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(15);Object(r.extend)(i["default"].prototype,{color:function color(t){return this.internal.color(t)}})},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(15);Object(r.extend)(i["default"].prototype,{x:function x(t){var e=this.internal,n=e.isCustomX()&&e.isCategorized();return Object(r.isArray)(t)&&(n?e.api.categories(t):(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}))),n?e.api.categories():e.data.xs},xs:function xs(t){var e=this.internal;return Object(r.isObject)(t)&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs}})},function(t,e,n){"use strict";n.r(e);var i=n(1),s=n(15),r=function(t,e,n){var i=t.config,r="axis_x_".concat(e),a="axis_y_".concat(e),o="axis_y2_".concat(e);return Object(s.isDefined)(n)&&(Object(s.isObjectType)(n)?(Object(s.isValue)(n.x)&&(i[r]=n.x),Object(s.isValue)(n.y)&&(i[a]=n.y),Object(s.isValue)(n.y2)&&(i[o]=n.y2)):(i[a]=n,i[o]=n),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),undefined},a=function(t,e){var n=t.config,i="axis_x_".concat(e),r="axis_y_".concat(e),a="axis_y2_".concat(e);return{x:n[i],y:n[r],y2:n[a]}},o=Object(s.extend)(function(){},{labels:function labels(e){var n=this.internal;arguments.length&&(Object.keys(e).forEach(function(t){n.axis.setLabelText(t,e[t])}),n.axis.updateLabels())},min:function min(t){var e=this.internal;return arguments.length?r(e,"min",t):a(e,"min")},max:function max(t){var e=this.internal;return arguments.length?r(e,"max",t):a(e,"max")},range:function range(t){var e=this.axis;return arguments.length?(Object(s.isDefined)(t.max)&&e.max(t.max),Object(s.isDefined)(t.min)&&e.min(t.min),undefined):{max:e.max(),min:e.min()}}});Object(s.extend)(i["default"].prototype,{axis:o})},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(15),a=Object(r.extend)(function(){},{show:function show(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},hide:function hide(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})}});Object(r.extend)(i["default"].prototype,{legend:a})},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(15),a=Object(r.extend)(function(){},{show:function show(){var e,n,t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{},i=this.internal;t.mouse&&(n=t.mouse),t.data?e=i.isMultipleX()?(n=[i.x(t.data.x),i.getYScale(t.data.id)(t.data.value)],null):Object(r.isValue)(t.data.index)?t.data.index:i.getIndexByX(t.data.x):Object(r.isDefined)(t.x)?e=i.getIndexByX(t.x):Object(r.isDefined)(t.index)&&(e=t.index),("mouse"===i.inputType?["mouseover","mousemove"]:["touchstart"]).forEach(function(t){i.dispatchEvent(t,e,n)})},hide:function hide(){var t=this.internal;t.hideTooltip(),t.hideXGridFocus(),t.unexpandCircles(),t.unexpandBars()}});Object(r.extend)(i["default"].prototype,{tooltip:a})},function(t,e,n){"use strict";n.r(e);var i=n(3),r=n(15),a=window.navigator.userAgent;Object(r.extend)(i["default"].prototype,{isSafari:function isSafari(){return-1<a.indexOf("Safari")&&!this.isChrome()},isChrome:function isChrome(){return-1<a.indexOf("Chrome")},isMobile:function isMobile(){return-1<a.indexOf("Mobi")}})},function(t,e,n){"use strict";n.r(e);var s=n(68),i=n(1),c=n(15),a=function(t){var e=t.getBoundingClientRect(),n=t.cloneNode(!0),i=Object(c.toArray)(document.styleSheets),r=Object(c.getCssRules)(i).filter(function(t){return t.cssText}).map(function(t){return t.cssText});n.setAttribute("xmlns",s.namespaces.xhtml);var a=(new XMLSerializer).serializeToString(n),o='<svg xmlns="'.concat(s.namespaces.svg,'" width="').concat(e.width,'" height="').concat(e.height,'">\n\t\t\t<foreignObject width="100%" height="100%">\n\t\t\t\t<style>').concat(r.join("\n"),"</style>\n\t\t\t\t").concat(a,"\n\t\t\t</foreignObject></svg>").replace(/#/g,"%23").replace("/\n/g","%0A");return"data:image/svg+xml;base64,".concat(btoa(encodeURIComponent(o).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode("0x".concat(e))})))};Object(c.extend)(i["default"].prototype,{"export":function _export(){var n=0<arguments.length&&arguments[0]!==undefined?arguments[0]:"image/png",i=1<arguments.length?arguments[1]:undefined,t=a(this.element);if(Object(c.isFunction)(i)){var r=new Image;r.crosssOrigin="Anonymous",r.onload=function(){var t=document.createElement("canvas"),e=t.getContext("2d");t.width=r.width,t.height=r.height,e.drawImage(r,0,0),t.toBlob(function(t){i(window.URL.createObjectURL(t))},n)},r.src=t}return t}})},function(t,e,n){"use strict";var b=Math.PI,f=2*b,h=f-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}Path.prototype=path.prototype={constructor:Path,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var a=this._x1,o=this._y1,s=n-t,c=i-e,u=a-t,l=o-e,d=u*u+l*l;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(1e-6<d)if(1e-6<Math.abs(l*s-c*u)&&r){var f=n-a,h=i-o,g=s*s+c*c,p=f*f+h*h,m=Math.sqrt(g),x=Math.sqrt(d),_=r*Math.tan((b-Math.acos((g+d-p)/(2*m*x)))/2),v=_/x,y=_/m;1e-6<Math.abs(v-1)&&(this._+="L"+(t+v*u)+","+(e+v*l)),this._+="A"+r+","+r+",0,0,"+ +(u*h<l*f)+","+(this._x1=t+y*s)+","+(this._y1=e+y*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,a){t=+t,e=+e;var o=(n=+n)*Math.cos(i),s=n*Math.sin(i),c=t+o,u=e+s,l=1^a,d=a?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+u:(1e-6<Math.abs(this._x1-c)||1e-6<Math.abs(this._y1-u))&&(this._+="L"+c+","+u),n&&(d<0&&(d=d%f+f),h<d?this._+="A"+n+","+n+",0,1,"+l+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=c)+","+(this._y1=u):1e-6<d&&(this._+="A"+n+","+n+",0,"+ +(b<=d)+","+l+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var W=path,y=function(t){return function y(){return t}},G=Math.abs,q=Math.atan2,Z=Math.cos,D=Math.max,$=Math.min,K=Math.sin,J=Math.sqrt,Q=1e-12,tt=Math.PI,et=tt/2,nt=2*tt;function asin(t){return 1<=t?et:t<=-1?-et:Math.asin(t)}function arcInnerRadius(t){return t.innerRadius}function arcOuterRadius(t){return t.outerRadius}function arcStartAngle(t){return t.startAngle}function arcEndAngle(t){return t.endAngle}function arcPadAngle(t){return t&&t.padAngle}function cornerTangents(t,e,n,i,r,a,o){var s=t-n,c=e-i,u=(o?a:-a)/J(s*s+c*c),l=u*c,d=-u*s,f=t+l,h=e+d,g=n+l,p=i+d,m=(f+g)/2,x=(h+p)/2,_=g-f,v=p-h,y=_*_+v*v,b=r-a,T=f*p-g*h,w=(v<0?-1:1)*J(D(0,b*b*y-T*T)),A=(T*v-_*w)/y,O=(-T*_-v*w)/y,S=(T*v+_*w)/y,M=(-T*_+v*w)/y,k=A-m,C=O-x,L=S-m,j=M-x;return L*L+j*j<k*k+C*C&&(A=S,O=M),{cx:A,cy:O,x01:-l,y01:-d,x11:A*(r/b-1),y11:O*(r/b-1)}}var i=function(){var z=arcInnerRadius,N=arcOuterRadius,P=y(0),Y=null,B=arcStartAngle,V=arcEndAngle,U=arcPadAngle,H=null;function arc(){var t,e,n=+z.apply(this,arguments),i=+N.apply(this,arguments),r=B.apply(this,arguments)-et,a=V.apply(this,arguments)-et,o=G(a-r),s=r<a;if(H||(H=t=W()),i<n&&(e=i,i=n,n=e),Q<i)if(nt-Q<o)H.moveTo(i*Z(r),i*K(r)),H.arc(0,0,i,r,a,!s),Q<n&&(H.moveTo(n*Z(a),n*K(a)),H.arc(0,0,n,a,r,s));else{var c,u,l=r,d=a,f=r,h=a,g=o,p=o,m=U.apply(this,arguments)/2,x=Q<m&&(Y?+Y.apply(this,arguments):J(n*n+i*i)),_=$(G(i-n)/2,+P.apply(this,arguments)),v=_,y=_;if(Q<x){var b=asin(x/n*K(m)),T=asin(x/i*K(m));(g-=2*b)>Q?(f+=b*=s?1:-1,h-=b):(g=0,f=h=(r+a)/2),(p-=2*T)>Q?(l+=T*=s?1:-1,d-=T):(p=0,l=d=(r+a)/2)}var w=i*Z(l),A=i*K(l),O=n*Z(h),S=n*K(h);if(Q<_){var M=i*Z(d),k=i*K(d),C=n*Z(f),L=n*K(f);if(o<tt){var j=Q<g?function intersect(t,e,n,i,r,a,o,s){var c=n-t,u=i-e,l=o-r,d=s-a,f=(l*(e-a)-d*(t-r))/(d*c-l*u);return[t+f*c,e+f*u]}(w,A,C,L,M,k,O,S):[O,S],D=w-j[0],F=A-j[1],R=M-j[0],I=k-j[1],E=1/K(function acos(t){return 1<t?0:t<-1?tt:Math.acos(t)}((D*R+F*I)/(J(D*D+F*F)*J(R*R+I*I)))/2),X=J(j[0]*j[0]+j[1]*j[1]);v=$(_,(n-X)/(E-1)),y=$(_,(i-X)/(E+1))}}Q<p?Q<y?(c=cornerTangents(C,L,w,A,i,y,s),u=cornerTangents(M,k,O,S,i,y,s),H.moveTo(c.cx+c.x01,c.cy+c.y01),y<_?H.arc(c.cx,c.cy,y,q(c.y01,c.x01),q(u.y01,u.x01),!s):(H.arc(c.cx,c.cy,y,q(c.y01,c.x01),q(c.y11,c.x11),!s),H.arc(0,0,i,q(c.cy+c.y11,c.cx+c.x11),q(u.cy+u.y11,u.cx+u.x11),!s),H.arc(u.cx,u.cy,y,q(u.y11,u.x11),q(u.y01,u.x01),!s))):(H.moveTo(w,A),H.arc(0,0,i,l,d,!s)):H.moveTo(w,A),Q<n&&Q<g?Q<v?(c=cornerTangents(O,S,M,k,n,-v,s),u=cornerTangents(w,A,C,L,n,-v,s),H.lineTo(c.cx+c.x01,c.cy+c.y01),v<_?H.arc(c.cx,c.cy,v,q(c.y01,c.x01),q(u.y01,u.x01),!s):(H.arc(c.cx,c.cy,v,q(c.y01,c.x01),q(c.y11,c.x11),!s),H.arc(0,0,n,q(c.cy+c.y11,c.cx+c.x11),q(u.cy+u.y11,u.cx+u.x11),s),H.arc(u.cx,u.cy,v,q(u.y11,u.x11),q(u.y01,u.x01),!s))):H.arc(0,0,n,h,f,s):H.lineTo(O,S)}else H.moveTo(0,0);if(H.closePath(),t)return H=null,t+""||null}return arc.centroid=function(){var t=(+z.apply(this,arguments)+ +N.apply(this,arguments))/2,e=(+B.apply(this,arguments)+ +V.apply(this,arguments))/2-tt/2;return[Z(e)*t,K(e)*t]},arc.innerRadius=function(t){return arguments.length?(z="function"==typeof t?t:y(+t),arc):z},arc.outerRadius=function(t){return arguments.length?(N="function"==typeof t?t:y(+t),arc):N},arc.cornerRadius=function(t){return arguments.length?(P="function"==typeof t?t:y(+t),arc):P},arc.padRadius=function(t){return arguments.length?(Y=null==t?null:"function"==typeof t?t:y(+t),arc):Y},arc.startAngle=function(t){return arguments.length?(B="function"==typeof t?t:y(+t),arc):B},arc.endAngle=function(t){return arguments.length?(V="function"==typeof t?t:y(+t),arc):V},arc.padAngle=function(t){return arguments.length?(U="function"==typeof t?t:y(+t),arc):U},arc.context=function(t){return arguments.length?(H=null==t?null:t,arc):H},arc};function Linear(t){this._context=t}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var r=function(t){return new Linear(t)};function point_x(t){return t[0]}function point_y(t){return t[1]}var a=function(){var o=point_x,s=point_y,c=y(!0),u=null,l=r,d=null;function line(t){var e,n,i,r=t.length,a=!1;for(null==u&&(d=l(i=W())),e=0;e<=r;++e)!(e<r&&c(n=t[e],e,t))===a&&((a=!a)?d.lineStart():d.lineEnd()),a&&d.point(+o(n,e,t),+s(n,e,t));if(i)return d=null,i+""||null}return line.x=function(t){return arguments.length?(o="function"==typeof t?t:y(+t),line):o},line.y=function(t){return arguments.length?(s="function"==typeof t?t:y(+t),line):s},line.defined=function(t){return arguments.length?(c="function"==typeof t?t:y(!!t),line):c},line.curve=function(t){return arguments.length?(l=t,null!=u&&(d=l(u)),line):l},line.context=function(t){return arguments.length?(null==t?u=d=null:d=l(u=t),line):u},line},o=function(){var l=point_x,d=null,f=y(0),h=point_y,g=y(!0),p=null,m=r,x=null;function area(t){var e,n,i,r,a,o=t.length,s=!1,c=new Array(o),u=new Array(o);for(null==p&&(x=m(a=W())),e=0;e<=o;++e){if(!(e<o&&g(r=t[e],e,t))===s)if(s=!s)n=e,x.areaStart(),x.lineStart();else{for(x.lineEnd(),x.lineStart(),i=e-1;n<=i;--i)x.point(c[i],u[i]);x.lineEnd(),x.areaEnd()}s&&(c[e]=+l(r,e,t),u[e]=+f(r,e,t),x.point(d?+d(r,e,t):c[e],h?+h(r,e,t):u[e]))}if(a)return x=null,a+""||null}function arealine(){return a().defined(g).curve(m).context(p)}return area.x=function(t){return arguments.length?(l="function"==typeof t?t:y(+t),d=null,area):l},area.x0=function(t){return arguments.length?(l="function"==typeof t?t:y(+t),area):l},area.x1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:y(+t),area):d},area.y=function(t){return arguments.length?(f="function"==typeof t?t:y(+t),h=null,area):f},area.y0=function(t){return arguments.length?(f="function"==typeof t?t:y(+t),area):f},area.y1=function(t){return arguments.length?(h=null==t?null:"function"==typeof t?t:y(+t),area):h},area.lineX0=area.lineY0=function(){return arealine().x(l).y(f)},area.lineY1=function(){return arealine().x(l).y(h)},area.lineX1=function(){return arealine().x(d).y(f)},area.defined=function(t){return arguments.length?(g="function"==typeof t?t:y(!!t),area):g},area.curve=function(t){return arguments.length?(m=t,null!=p&&(x=m(p)),area):m},area.context=function(t){return arguments.length?(null==t?p=x=null:x=m(p=t),area):p},area},s=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},c=function(t){return t},u=function(){var g=c,p=s,m=null,x=y(0),_=y(nt),v=y(0);function pie(n){var t,e,i,r,a,o=n.length,s=0,c=new Array(o),u=new Array(o),l=+x.apply(this,arguments),d=Math.min(nt,Math.max(-nt,_.apply(this,arguments)-l)),f=Math.min(Math.abs(d)/o,v.apply(this,arguments)),h=f*(d<0?-1:1);for(t=0;t<o;++t)0<(a=u[c[t]=t]=+g(n[t],t,n))&&(s+=a);for(null!=p?c.sort(function(t,e){return p(u[t],u[e])}):null!=m&&c.sort(function(t,e){return m(n[t],n[e])}),t=0,i=s?(d-o*h)/s:0;t<o;++t,l=r)e=c[t],r=l+(0<(a=u[e])?a*i:0)+h,u[e]={data:n[e],index:t,value:a,startAngle:l,endAngle:r,padAngle:f};return u}return pie.value=function(t){return arguments.length?(g="function"==typeof t?t:y(+t),pie):g},pie.sortValues=function(t){return arguments.length?(p=t,m=null,pie):p},pie.sort=function(t){return arguments.length?(m=t,p=null,pie):m},pie.startAngle=function(t){return arguments.length?(x="function"==typeof t?t:y(+t),pie):x},pie.endAngle=function(t){return arguments.length?(_="function"==typeof t?t:y(+t),pie):_},pie.padAngle=function(t){return arguments.length?(v="function"==typeof t?t:y(+t),pie):v},pie},l=curveRadial(r);function Radial(t){this._curve=t}function curveRadial(e){function radial(t){return new Radial(e(t))}return radial._curve=e,radial}function lineRadial(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(curveRadial(t)):e()._curve},t}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var d=function(){return lineRadial(a().curve(l))},g=function(){var t=o().curve(l),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return lineRadial(n())},delete t.lineX0,t.lineEndAngle=function(){return lineRadial(i())},delete t.lineX1,t.lineInnerRadius=function(){return lineRadial(r())},delete t.lineY0,t.lineOuterRadius=function(){return lineRadial(a())},delete t.lineY1,t.curve=function(t){return arguments.length?e(curveRadial(t)):e()._curve},t},p=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},m=Array.prototype.slice;function linkSource(t){return t.source}function linkTarget(t){return t.target}function link_link(r){var a=linkSource,o=linkTarget,s=point_x,c=point_y,u=null;function link(){var t,e=m.call(arguments),n=a.apply(this,e),i=o.apply(this,e);if(u||(u=t=W()),r(u,+s.apply(this,(e[0]=n,e)),+c.apply(this,e),+s.apply(this,(e[0]=i,e)),+c.apply(this,e)),t)return u=null,t+""||null}return link.source=function(t){return arguments.length?(a=t,link):a},link.target=function(t){return arguments.length?(o=t,link):o},link.x=function(t){return arguments.length?(s="function"==typeof t?t:y(+t),link):s},link.y=function(t){return arguments.length?(c="function"==typeof t?t:y(+t),link):c},link.context=function(t){return arguments.length?(u=null==t?null:t,link):u},link}function curveHorizontal(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function curveVertical(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function link_curveRadial(t,e,n,i,r){var a=p(e,n),o=p(e,n=(n+r)/2),s=p(i,n),c=p(i,r);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],s[0],s[1],c[0],c[1])}function linkHorizontal(){return link_link(curveHorizontal)}function linkVertical(){return link_link(curveVertical)}function linkRadial(){var t=link_link(link_curveRadial);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var x={draw:function(t,e){var n=Math.sqrt(e/tt);t.moveTo(n,0),t.arc(0,0,n,0,nt)}},_={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},v=Math.sqrt(1/3),T=2*v,w={draw:function(t,e){var n=Math.sqrt(e/T),i=n*v;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},A=Math.sin(tt/10)/Math.sin(7*tt/10),O=Math.sin(nt/10)*A,S=-Math.cos(nt/10)*A,M={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=O*n,r=S*n;t.moveTo(0,-n),t.lineTo(i,r);for(var a=1;a<5;++a){var o=nt*a/5,s=Math.cos(o),c=Math.sin(o);t.lineTo(c*n,-s*n),t.lineTo(s*i-c*r,c*i+s*r)}t.closePath()}},k={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},C=Math.sqrt(3),L={draw:function(t,e){var n=-Math.sqrt(e/(3*C));t.moveTo(0,2*n),t.lineTo(-C*n,-n),t.lineTo(C*n,-n),t.closePath()}},j=Math.sqrt(3)/2,F=1/Math.sqrt(12),R=3*(F/2+1),I={draw:function(t,e){var n=Math.sqrt(e/R),i=n/2,r=n*F,a=i,o=n*F+n,s=-a,c=o;t.moveTo(i,r),t.lineTo(a,o),t.lineTo(s,c),t.lineTo(-.5*i-j*r,j*i+-.5*r),t.lineTo(-.5*a-j*o,j*a+-.5*o),t.lineTo(-.5*s-j*c,j*s+-.5*c),t.lineTo(-.5*i+j*r,-.5*r-j*i),t.lineTo(-.5*a+j*o,-.5*o-j*a),t.lineTo(-.5*s+j*c,-.5*c-j*s),t.closePath()}},E=[x,_,w,k,M,L,I],X=function(){var e=y(x),n=y(64),i=null;function symbol(){var t;if(i||(i=t=W()),e.apply(this,arguments).draw(i,+n.apply(this,arguments)),t)return i=null,t+""||null}return symbol.type=function(t){return arguments.length?(e="function"==typeof t?t:y(t),symbol):e},symbol.size=function(t){return arguments.length?(n="function"==typeof t?t:y(+t),symbol):n},symbol.context=function(t){return arguments.length?(i=null==t?null:t,symbol):i},symbol},z=function(){};function point(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Basis(t){this._context=t}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var N=function(t){return new Basis(t)};function BasisClosed(t){this._context=t}BasisClosed.prototype={areaStart:z,areaEnd:z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:point(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var P=function(t){return new BasisClosed(t)};function BasisOpen(t){this._context=t}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:point(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Y=function(t){return new BasisOpen(t)};function Bundle(t,e){this._basis=new Basis(t),this._beta=e}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var i,r=t[0],a=e[0],o=t[n]-r,s=e[n]-a,c=-1;++c<=n;)i=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(r+i*o),this._beta*e[c]+(1-this._beta)*(a+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var B=function custom(e){function bundle(t){return 1===e?new Basis(t):new Bundle(t,e)}return bundle.beta=function(t){return custom(+t)},bundle}(.85);function cardinal_point(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Cardinal(t,e){this._context=t,this._k=(1-e)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cardinal_point(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:cardinal_point(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var V=function custom(e){function cardinal(t){return new Cardinal(t,e)}return cardinal.tension=function(t){return custom(+t)},cardinal}(0);function CardinalClosed(t,e){this._context=t,this._k=(1-e)/6}CardinalClosed.prototype={areaStart:z,areaEnd:z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:cardinal_point(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var U=function custom(e){function cardinal(t){return new CardinalClosed(t,e)}return cardinal.tension=function(t){return custom(+t)},cardinal}(0);function CardinalOpen(t,e){this._context=t,this._k=(1-e)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cardinal_point(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var H=function custom(e){function cardinal(t){return new CardinalOpen(t,e)}return cardinal.tension=function(t){return custom(+t)},cardinal}(0);function catmullRom_point(t,e,n){var i=t._x1,r=t._y1,a=t._x2,o=t._y2;if(t._l01_a>Q){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Q){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-e*t._l12_2a)/l,o=(o*u+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(i,r,a,o,t._x2,t._y2)}function CatmullRom(t,e){this._context=t,this._alpha=e}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:catmullRom_point(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var it=function custom(e){function catmullRom(t){return e?new CatmullRom(t,e):new Cardinal(t,0)}return catmullRom.alpha=function(t){return custom(+t)},catmullRom}(.5);function CatmullRomClosed(t,e){this._context=t,this._alpha=e}CatmullRomClosed.prototype={areaStart:z,areaEnd:z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:catmullRom_point(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var rt=function custom(e){function catmullRom(t){return e?new CatmullRomClosed(t,e):new CardinalClosed(t,0)}return catmullRom.alpha=function(t){return custom(+t)},catmullRom}(.5);function CatmullRomOpen(t,e){this._context=t,this._alpha=e}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:catmullRom_point(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var at=function custom(e){function catmullRom(t){return e?new CatmullRomOpen(t,e):new CardinalOpen(t,0)}return catmullRom.alpha=function(t){return custom(+t)},catmullRom}(.5);function LinearClosed(t){this._context=t}LinearClosed.prototype={areaStart:z,areaEnd:z,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var ot=function(t){return new LinearClosed(t)};function sign(t){return t<0?-1:1}function slope3(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),o=(n-t._y1)/(r||i<0&&-0),s=(a*r+o*i)/(i+r);return(sign(a)+sign(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function slope2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function monotone_point(t,e,n){var i=t._x0,r=t._y0,a=t._x1,o=t._y1,s=(a-i)/3;t._context.bezierCurveTo(i+s,r+s*e,a-s,o-s*n,a,o)}function MonotoneX(t){this._context=t}function MonotoneY(t){this._context=new ReflectContext(t)}function ReflectContext(t){this._context=t}function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}function controlPoints(t){var e,n,i=t.length-1,r=new Array(i),a=new Array(i),o=new Array(i);for(a[r[0]=0]=2,o[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,a[i-1]=7,o[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(r[i-1]=o[i-1]/a[i-1],e=i-2;0<=e;--e)r[e]=(o[e]-r[e+1])/a[e];for(a[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:monotone_point(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,monotone_point(this,slope2(this,n=slope3(this,t,e)),n);break;default:monotone_point(this,this._t0,n=slope3(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)},ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,a){this._context.bezierCurveTo(e,t,i,n,a,r)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=controlPoints(t),r=controlPoints(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var st=function(t){return new Natural(t)};function Step(t,e){this._context=t,this._t=e}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var ct=function(t){return new Step(t,.5)};function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}var ut=function(t,e){if(1<(r=t.length))for(var n,i,r,a=1,o=t[e[0]],s=o.length;a<r;++a)for(i=o,o=t[e[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]},lt=function(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n};function stackValue(t,e){return t[e]}var dt=function(){var d=y([]),f=lt,h=ut,g=stackValue;function stack(t){var e,n,i=d.apply(this,arguments),r=t.length,a=i.length,o=new Array(a);for(e=0;e<a;++e){for(var s,c=i[e],u=o[e]=new Array(r),l=0;l<r;++l)u[l]=s=[0,+g(t[l],c,l,t)],s.data=t[l];u.key=c}for(e=0,n=f(o);e<a;++e)o[n[e]].index=e;return h(o,n),o}return stack.keys=function(t){return arguments.length?(d="function"==typeof t?t:y(m.call(t)),stack):d},stack.value=function(t){return arguments.length?(g="function"==typeof t?t:y(+t),stack):g},stack.order=function(t){return arguments.length?(f=null==t?lt:"function"==typeof t?t:y(m.call(t)),stack):f},stack.offset=function(t){return arguments.length?(h=null==t?ut:t,stack):h},stack},ft=function(t,e){if(0<(i=t.length)){for(var n,i,r,a=0,o=t[0].length;a<o;++a){for(r=n=0;n<i;++n)r+=t[n][a][1]||0;if(r)for(n=0;n<i;++n)t[n][a][1]/=r}ut(t,e)}},ht=function(t,e){if(1<(s=t.length))for(var n,i,r,a,o,s,c=0,u=t[e[0]].length;c<u;++c)for(a=o=0,n=0;n<s;++n)0<=(r=(i=t[e[n]][c])[1]-i[0])?(i[0]=a,i[1]=a+=r):i[0]=r<0?(i[1]=o,o+=r):a},gt=function(t,e){if(0<(n=t.length)){for(var n,i=0,r=t[e[0]],a=r.length;i<a;++i){for(var o=0,s=0;o<n;++o)s+=t[o][i][1]||0;r[i][1]+=r[i][0]=-s/2}ut(t,e)}},pt=function(t,e){if(0<(r=t.length)&&0<(i=(n=t[e[0]]).length)){for(var n,i,r,a=0,o=1;o<i;++o){for(var s=0,c=0,u=0;s<r;++s){for(var l=t[e[s]],d=l[o][1]||0,f=(d-(l[o-1][1]||0))/2,h=0;h<s;++h){var g=t[e[h]];f+=(g[o][1]||0)-(g[o-1][1]||0)}c+=d,u+=f*d}n[o-1][1]+=n[o-1][0]=a,c&&(a-=u/c)}n[o-1][1]+=n[o-1][0]=a,ut(t,e)}},mt=function(t){var n=t.map(ascending_sum);return lt(t).sort(function(t,e){return n[t]-n[e]})};function ascending_sum(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}var xt=function(t){return mt(t).reverse()},_t=function(t){var e,n,i=t.length,r=t.map(ascending_sum),a=lt(t).sort(function(t,e){return r[e]-r[t]}),o=0,s=0,c=[],u=[];for(e=0;e<i;++e)n=a[e],o<s?(o+=r[n],c.push(n)):(s+=r[n],u.push(n));return u.reverse().concat(c)},vt=function(t){return lt(t).reverse()};n.d(e,"arc",function(){return i}),n.d(e,"area",function(){return o}),n.d(e,"line",function(){return a}),n.d(e,"pie",function(){return u}),n.d(e,"areaRadial",function(){return g}),n.d(e,"radialArea",function(){return g}),n.d(e,"lineRadial",function(){return d}),n.d(e,"radialLine",function(){return d}),n.d(e,"pointRadial",function(){return p}),n.d(e,"linkHorizontal",function(){return linkHorizontal}),n.d(e,"linkVertical",function(){return linkVertical}),n.d(e,"linkRadial",function(){return linkRadial}),n.d(e,"symbol",function(){return X}),n.d(e,"symbols",function(){return E}),n.d(e,"symbolCircle",function(){return x}),n.d(e,"symbolCross",function(){return _}),n.d(e,"symbolDiamond",function(){return w}),n.d(e,"symbolSquare",function(){return k}),n.d(e,"symbolStar",function(){return M}),n.d(e,"symbolTriangle",function(){return L}),n.d(e,"symbolWye",function(){return I}),n.d(e,"curveBasisClosed",function(){return P}),n.d(e,"curveBasisOpen",function(){return Y}),n.d(e,"curveBasis",function(){return N}),n.d(e,"curveBundle",function(){return B}),n.d(e,"curveCardinalClosed",function(){return U}),n.d(e,"curveCardinalOpen",function(){return H}),n.d(e,"curveCardinal",function(){return V}),n.d(e,"curveCatmullRomClosed",function(){return rt}),n.d(e,"curveCatmullRomOpen",function(){return at}),n.d(e,"curveCatmullRom",function(){return it}),n.d(e,"curveLinearClosed",function(){return ot}),n.d(e,"curveLinear",function(){return r}),n.d(e,"curveMonotoneX",function(){return monotoneX}),n.d(e,"curveMonotoneY",function(){return monotoneY}),n.d(e,"curveNatural",function(){return st}),n.d(e,"curveStep",function(){return ct}),n.d(e,"curveStepAfter",function(){return stepAfter}),n.d(e,"curveStepBefore",function(){return stepBefore}),n.d(e,"stack",function(){return dt}),n.d(e,"stackOffsetExpand",function(){return ft}),n.d(e,"stackOffsetDiverging",function(){return ht}),n.d(e,"stackOffsetNone",function(){return ut}),n.d(e,"stackOffsetSilhouette",function(){return gt}),n.d(e,"stackOffsetWiggle",function(){return pt}),n.d(e,"stackOrderAscending",function(){return mt}),n.d(e,"stackOrderDescending",function(){return xt}),n.d(e,"stackOrderInsideOut",function(){return _t}),n.d(e,"stackOrderNone",function(){return lt}),n.d(e,"stackOrderReverse",function(){return vt})},function(t,e,n){"use strict";var i="http://www.w3.org/1999/xhtml",r={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},a=function(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.hasOwnProperty(e)?{space:r[e],local:t}:t};var o=function(t){var e=a(t);return(e.local?function creatorFixed(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function creatorInherit(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===i&&t.documentElement.namespaceURI===i?t.createElement(n):t.createElementNS(e,n)}})(e)};function none(){}var d=function(t){return null==t?none:function(){return this.querySelector(t)}};function empty(){return[]}var l=function(t){return null==t?empty:function(){return this.querySelectorAll(t)}},s=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var c=document.documentElement;if(!c.matches){var u=c.webkitMatchesSelector||c.msMatchesSelector||c.mozMatchesSelector||c.oMatchesSelector;s=function(t){return function(){return u.call(this,t)}}}}var f=s,h=function(t){return new Array(t.length)};function EnterNode(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}EnterNode.prototype={constructor:EnterNode,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function bindIndex(t,e,n,i,r,a){for(var o,s=0,c=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],i[s]=o):n[s]=new EnterNode(t,a[s]);for(;s<c;++s)(o=e[s])&&(r[s]=o)}function bindKey(t,e,n,i,r,a,o){var s,c,u,l={},d=e.length,f=a.length,h=new Array(d);for(s=0;s<d;++s)(c=e[s])&&(h[s]=u="$"+o.call(c,c.__data__,s,e),u in l?r[s]=c:l[u]=c);for(s=0;s<f;++s)(c=l[u="$"+o.call(t,a[s],s,a)])?((i[s]=c).__data__=a[s],l[u]=null):n[s]=new EnterNode(t,a[s]);for(s=0;s<d;++s)(c=e[s])&&l[h[s]]===c&&(r[s]=c)}function ascending(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}var g=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function styleValue(t,e){return t.style.getPropertyValue(e)||g(t).getComputedStyle(t,null).getPropertyValue(e)}function classArray(t){return t.trim().split(/^|\s+/)}function classList(t){return t.classList||new ClassList(t)}function ClassList(t){this._node=t,this._names=classArray(t.getAttribute("class")||"")}function classedAdd(t,e){for(var n=classList(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function classedRemove(t,e){for(var n=classList(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}ClassList.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};function textRemove(){this.textContent=""}function htmlRemove(){this.innerHTML=""}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function constantNull(){return null}function remove(){var t=this.parentNode;t&&t.removeChild(this)}function selection_cloneShallow(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function selection_cloneDeep(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var p={},m=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(p={mouseenter:"mouseover",mouseleave:"mouseout"}));function filterContextListener(n,t,e){return n=contextListener(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function contextListener(n,i,r){return function(t){var e=m;m=t;try{n.call(this,this.__data__,i,r)}finally{m=e}}}function onRemove(a){return function(){var t=this.__on;if(t){for(var e,n=0,i=-1,r=t.length;n<r;++n)e=t[n],a.type&&e.type!==a.type||e.name!==a.name?t[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?t.length=i:delete this.__on}}}function onAdd(c,u,l){var d=p.hasOwnProperty(c.type)?filterContextListener:contextListener;return function(t,e,n){var i,r=this.__on,a=d(u,e,n);if(r)for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===c.type&&i.name===c.name)return this.removeEventListener(i.type,i.listener,i.capture),this.addEventListener(i.type,i.listener=a,i.capture=l),void(i.value=u);this.addEventListener(c.type,a,l),i={type:c.type,name:c.name,value:u,listener:a,capture:l},r?r.push(i):this.__on=[i]}}function customEvent(t,e,n,i){var r=m;t.sourceEvent=m,m=t;try{return e.apply(n,i)}finally{m=r}}function dispatchEvent(t,e,n){var i=g(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}var x=[null];function Selection(t,e){this._groups=t,this._parents=e}function selection_selection(){return new Selection([[document.documentElement]],x)}Selection.prototype=selection_selection.prototype={constructor:Selection,select:function(t){"function"!=typeof t&&(t=d(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o,s=e[r],c=s.length,u=i[r]=new Array(c),l=0;l<c;++l)(a=s[l])&&(o=t.call(a,a.__data__,l,s))&&("__data__"in a&&(o.__data__=a.__data__),u[l]=o);return new Selection(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=l(t));for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var o,s=e[a],c=s.length,u=0;u<c;++u)(o=s[u])&&(i.push(t.call(o,o.__data__,u,s)),r.push(o));return new Selection(i,r)},filter:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o=e[r],s=o.length,c=i[r]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&c.push(a);return new Selection(i,this._parents)},data:function(t,e){if(!t)return g=new Array(this.size()),l=-1,this.each(function(t){g[++l]=t}),g;var n,i=e?bindKey:bindIndex,r=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,s=new Array(o),c=new Array(o),u=new Array(o),l=0;l<o;++l){var d=r[l],f=a[l],h=f.length,g=t.call(d,d&&d.__data__,l,r),p=g.length,m=c[l]=new Array(p),x=s[l]=new Array(p);i(d,f,m,x,u[l]=new Array(h),g,e);for(var _,v,y=0,b=0;y<p;++y)if(_=m[y]){for(b<=y&&(b=y+1);!(v=x[b])&&++b<p;);_._next=v||null}}return(s=new Selection(s,r))._enter=c,s._exit=u,s},enter:function(){return new Selection(this._enter||this._groups.map(h),this._parents)},exit:function(){return new Selection(this._exit||this._groups.map(h),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var c,u=e[s],l=n[s],d=u.length,f=o[s]=new Array(d),h=0;h<d;++h)(c=u[h]||l[h])&&(f[h]=c);for(;s<i;++s)o[s]=e[s];return new Selection(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],a=r.length-1,o=r[a];0<=--a;)(i=r[a])&&(o&&o!==i.nextSibling&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(n){function compareNode(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=ascending);for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r){for(var a,o=t[r],s=o.length,c=i[r]=new Array(s),u=0;u<s;++u)(a=o[u])&&(c[u]=a);c.sort(compareNode)}return new Selection(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,a=e[n],o=0,s=a.length;o<s;++o)(r=a[o])&&t.call(r,r.__data__,o,a);return this},attr:function(t,e){var n=a(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function attrRemove(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function attrFunctionNS(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function attrFunction(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function attrConstantNS(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function attrConstant(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function styleRemove(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function styleFunction(e,n,i){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}}:function styleConstant(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):styleValue(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function propertyRemove(t){return function(){delete this[t]}}:"function"==typeof e?function propertyFunction(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function propertyConstant(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=classArray(t+"");if(arguments.length<2){for(var i=classList(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?function classedFunction(t,e){return function(){(e.apply(this,arguments)?classedAdd:classedRemove)(this,t)}}:e?function classedTrue(t){return function(){classedAdd(this,t)}}:function classedFalse(t){return function(){classedRemove(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?textRemove:("function"==typeof t?function textFunction(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function textConstant(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?htmlRemove:("function"==typeof t?function htmlFunction(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function htmlConstant(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(raise)},lower:function(){return this.each(lower)},append:function(t){var e="function"==typeof t?t:o(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:o(t),i=null==e?constantNull:"function"==typeof e?e:d(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(remove)},clone:function(t){return this.select(t?selection_cloneDeep:selection_cloneShallow)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,a=function parseTypenames(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?onAdd:onRemove,null==n&&(n=!1),i=0;i<o;++i)this.each(s(a[i],e,n));return this}var s=this.node().__on;if(s)for(var c,u=0,l=s.length;u<l;++u)for(i=0,c=s[u];i<o;++i)if((r=a[i]).type===c.type&&r.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?function dispatchFunction(t,e){return function(){return dispatchEvent(this,t,e.apply(this,arguments))}}:function dispatchConstant(t,e){return function(){return dispatchEvent(this,t,e)}})(t,e))}};var _=selection_selection,v=function(t){return"string"==typeof t?new Selection([[document.querySelector(t)]],[document.documentElement]):new Selection([[t]],x)},y=function(t){return v(o(t).call(document.documentElement))},b=0;function local(){return new Local}function Local(){this._="@"+(++b).toString(36)}Local.prototype=local.prototype={constructor:Local,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var T=function(){for(var t,e=m;t=e.sourceEvent;)e=t;return e},w=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},A=function(t){var e=T();return e.changedTouches&&(e=e.changedTouches[0]),w(t,e)},O=function(t){return"string"==typeof t?new Selection([document.querySelectorAll(t)],[document.documentElement]):new Selection([null==t?[]:t],x)},S=function(t,e,n){arguments.length<3&&(n=e,e=T().changedTouches);for(var i,r=0,a=e?e.length:0;r<a;++r)if((i=e[r]).identifier===n)return w(t,i);return null},M=function(t,e){null==e&&(e=T().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=w(t,e[n]);return r};n.d(e,"create",function(){return y}),n.d(e,"creator",function(){return o}),n.d(e,"local",function(){return local}),n.d(e,"matcher",function(){return f}),n.d(e,"mouse",function(){return A}),n.d(e,"namespace",function(){return a}),n.d(e,"namespaces",function(){return r}),n.d(e,"clientPoint",function(){return w}),n.d(e,"select",function(){return v}),n.d(e,"selectAll",function(){return O}),n.d(e,"selection",function(){return _}),n.d(e,"selector",function(){return d}),n.d(e,"selectorAll",function(){return l}),n.d(e,"style",function(){return styleValue}),n.d(e,"touch",function(){return S}),n.d(e,"touches",function(){return M}),n.d(e,"window",function(){return g}),n.d(e,"event",function(){return m}),n.d(e,"customEvent",function(){return customEvent})},function(t,e,n){"use strict";var T=n(70),s=n(75),i=Array.prototype,w=i.map,l=i.slice,c={name:"implicit"};function ordinal(i){var a=Object(s.map)(),o=[],r=c;function scale(t){var e=t+"",n=a.get(e);if(!n){if(r!==c)return r;a.set(e,n=o.push(t))}return i[(n-1)%i.length]}return i=null==i?[]:l.call(i),scale.domain=function(t){if(!arguments.length)return o.slice();o=[],a=Object(s.map)();for(var e,n,i=-1,r=t.length;++i<r;)a.has(n=(e=t[i])+"")||a.set(n,o.push(e));return scale},scale.range=function(t){return arguments.length?(i=l.call(t),scale):i.slice()},scale.unknown=function(t){return arguments.length?(r=t,scale):r},scale.copy=function(){return ordinal().domain(o).range(i).unknown(r)},scale}function band(){var a,o,t=ordinal().unknown(undefined),s=t.domain,c=t.range,u=[0,1],l=!1,d=0,f=0,h=.5;function rescale(){var t=s().length,e=u[1]<u[0],n=u[e-0],i=u[1-e];a=(i-n)/Math.max(1,t-d+2*f),l&&(a=Math.floor(a)),n+=(i-n-a*(t-d))*h,o=a*(1-d),l&&(n=Math.round(n),o=Math.round(o));var r=Object(T.range)(t).map(function(t){return n+a*t});return c(e?r.reverse():r)}return delete t.unknown,t.domain=function(t){return arguments.length?(s(t),rescale()):s()},t.range=function(t){return arguments.length?(u=[+t[0],+t[1]],rescale()):u.slice()},t.rangeRound=function(t){return u=[+t[0],+t[1]],l=!0,rescale()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(t){return arguments.length?(l=!!t,rescale()):l},t.padding=function(t){return arguments.length?(d=f=Math.max(0,Math.min(1,t)),rescale()):d},t.paddingInner=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),rescale()):d},t.paddingOuter=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),rescale()):f},t.align=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),rescale()):h},t.copy=function(){return band().domain(s()).range(u).round(l).paddingInner(d).paddingOuter(f).align(h)},rescale()}function point(){return function pointish(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(e())},t}(band().paddingInner(1))}var A=n(72),r=function(t){return function(){return t}},d=function(t){return+t},f=[0,1];function deinterpolateLinear(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:r(n)}function bimap(t,e,n,i){var r=t[0],a=t[1],o=e[0],s=e[1];return o=a<r?(r=n(a,r),i(s,o)):(r=n(r,a),i(o,s)),function(t){return o(r(t))}}function polymap(n,t,e,i){var r=Math.min(n.length,t.length)-1,a=new Array(r),o=new Array(r),s=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<r;)a[s]=e(n[s],n[s+1]),o[s]=i(t[s],t[s+1]);return function(t){var e=Object(T.bisect)(n,t,1,r)-1;return o[e](a[e](t))}}function copy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function continuous(e,n){var i,r,a,o=f,s=f,c=A.interpolate,u=!1;function rescale(){return i=2<Math.min(o.length,s.length)?polymap:bimap,r=a=null,scale}function scale(t){return(r||(r=i(o,s,u?function deinterpolateClamp(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:i(t)}}}(e):e,c)))(+t)}return scale.invert=function(t){return(a||(a=i(s,o,deinterpolateLinear,u?function reinterpolateClamp(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:i(t)}}}(n):n)))(+t)},scale.domain=function(t){return arguments.length?(o=w.call(t,d),rescale()):o.slice()},scale.range=function(t){return arguments.length?(s=l.call(t),rescale()):s.slice()},scale.rangeRound=function(t){return s=l.call(t),c=A.interpolateRound,rescale()},scale.clamp=function(t){return arguments.length?(u=!!t,rescale()):u},scale.interpolate=function(t){return arguments.length?(c=t,rescale()):c},rescale()}var u=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[1<i.length?i[0]+i.slice(2):i,+t.slice(n+1)]},h=function(t){return(t=u(Math.abs(t)))?t[1]:NaN},a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){return new FormatSpecifier(t)}function FormatSpecifier(t){if(!(e=a.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var O,o,m,g,p=function(t,e){var n=u(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},S={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return p(100*t,e)},r:p,s:function(t,e){var n=u(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(O=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return a===o?i:o<a?i+new Array(a-o+1).join("0"):0<a?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+u(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},x=function(t){return t},M=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],_=function(t){var e,s,c,T=t.grouping&&t.thousands?(s=t.grouping,c=t.thousands,function(t,e){for(var n=t.length,i=[],r=0,a=s[0],o=0;0<n&&0<a&&(e<o+a+1&&(a=Math.max(1,e-o)),i.push(t.substring(n-=a,n+a)),!((o+=a+1)>e));)a=s[r=(r+1)%s.length];return i.reverse().join(c)}):x,n=t.currency,w=t.decimal,A=t.numerals?(e=t.numerals,function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}):x,i=t.percent||"%";function newFormat(t){var u=(t=formatSpecifier(t)).fill,l=t.align,d=t.sign,e=t.symbol,f=t.zero,h=t.width,g=t.comma,p=t.precision,m=t.trim,x=t.type;"n"===x?(g=!0,x="g"):S[x]||(null==p&&(p=12),m=!0,x="g"),(f||"0"===u&&"="===l)&&(f=!0,u="0",l="=");var _="$"===e?n[0]:"#"===e&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",v="$"===e?n[1]:/[%p]/.test(x)?i:"",y=S[x],b=/[defgprs%]/.test(x);function format(t){var e,n,i,r=_,a=v;if("c"===x)a=y(t)+a,t="";else{var o=(t=+t)<0;if(t=y(Math.abs(t),p),m&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(0<r){if(!+t[i])break t;r=0}}return 0<r?t.slice(0,r)+t.slice(e+1):t}(t)),o&&0==+t&&(o=!1),r=(o?"("===d?d:"-":"-"===d||"("===d?"":d)+r,a=("s"===x?M[8+O/3]:"")+a+(o&&"("===d?")":""),b)for(e=-1,n=t.length;++e<n;)if((i=t.charCodeAt(e))<48||57<i){a=(46===i?w+t.slice(e+1):t.slice(e))+a,t=t.slice(0,e);break}}g&&!f&&(t=T(t,Infinity));var s=r.length+t.length+a.length,c=s<h?new Array(h-s+1).join(u):"";switch(g&&f&&(t=T(c+t,c.length?h-a.length:Infinity),c=""),l){case"<":t=r+t+a+c;break;case"=":t=r+c+t+a;break;case"^":t=c.slice(0,s=c.length>>1)+r+t+a+c.slice(s);break;default:t=c+r+t+a}return A(t)}return p=null==p?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),format.toString=function(){return t+""},format}return{format:newFormat,formatPrefix:function formatPrefix(t,e){var n=newFormat(((t=formatSpecifier(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(h(e)/3))),r=Math.pow(10,-i),a=M[8+i/3];return function(t){return n(r*t)+a}}}};!function defaultLocale(t){return o=_(t),m=o.format,g=o.formatPrefix,o}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var v=function(t,e,n){var i,r,a,o,s,c,u=t[0],l=t[t.length-1],d=Object(T.tickStep)(u,l,null==e?10:e);switch((n=formatSpecifier(null==n?",f":n)).type){case"s":var f=Math.max(Math.abs(u),Math.abs(l));return null!=n.precision||isNaN((s=d,c=f,i=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(h(c)/3)))-h(Math.abs(s)))))||(n.precision=i),g(n,f);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN((a=d,o=Math.max(Math.abs(u),Math.abs(l)),a=Math.abs(a),o=Math.abs(o)-a,i=Math.max(0,h(o)-h(a))+1))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN((r=d,i=Math.max(0,-h(Math.abs(r)))))||(n.precision=i-2*("%"===n.type))}return m(n)};function linearish(s){var c=s.domain;return s.ticks=function(t){var e=c();return Object(T.ticks)(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){return v(c(),t,e)},s.nice=function(t){null==t&&(t=10);var e,n=c(),i=0,r=n.length-1,a=n[i],o=n[r];return o<a&&(e=a,a=o,o=e,e=i,i=r,r=e),0<(e=Object(T.tickIncrement)(a,o,t))?(a=Math.floor(a/e)*e,o=Math.ceil(o/e)*e,e=Object(T.tickIncrement)(a,o,t)):e<0&&(a=Math.ceil(a*e)/e,o=Math.floor(o*e)/e,e=Object(T.tickIncrement)(a,o,t)),0<e?(n[i]=Math.floor(a/e)*e,n[r]=Math.ceil(o/e)*e,c(n)):e<0&&(n[i]=Math.ceil(a*e)/e,n[r]=Math.floor(o*e)/e,c(n)),s},s}function linear(){var t=continuous(deinterpolateLinear,A.interpolateNumber);return t.copy=function(){return copy(t,linear())},linearish(t)}function identity_identity(){var e=[0,1];function scale(t){return+t}return(scale.invert=scale).domain=scale.range=function(t){return arguments.length?(e=w.call(t,d),scale):e.slice()},scale.copy=function(){return identity_identity().domain(e)},linearish(scale)}var k=function(t,e){var n,i=0,r=(t=t.slice()).length-1,a=t[i],o=t[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t};function log_deinterpolate(e,n){return(n=Math.log(n/e))?function(t){return Math.log(t/e)/n}:r(n)}function log_reinterpolate(e,n){return e<0?function(t){return-Math.pow(-n,t)*Math.pow(-e,1-t)}:function(t){return Math.pow(n,t)*Math.pow(e,1-t)}}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(e){return 10===e?pow10:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function logp(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function reflect(e){return function(t){return-e(-t)}}function log(){var e=continuous(log_deinterpolate,log_reinterpolate).domain([1,10]),f=e.domain,h=10,g=logp(10),p=powp(10);function rescale(){return g=logp(h),p=powp(h),f()[0]<0&&(g=reflect(g),p=reflect(p)),e}return e.base=function(t){return arguments.length?(h=+t,rescale()):h},e.domain=function(t){return arguments.length?(f(t),rescale()):f()},e.ticks=function(t){var e,n=f(),i=n[0],r=n[n.length-1];(e=r<i)&&(c=i,i=r,r=c);var a,o,s,c=g(i),u=g(r),l=null==t?10:+t,d=[];if(!(h%1)&&u-c<l){if(c=Math.round(c)-1,u=Math.round(u)+1,0<i){for(;c<u;++c)for(o=1,a=p(c);o<h;++o)if(!((s=a*o)<i)){if(r<s)break;d.push(s)}}else for(;c<u;++c)for(o=h-1,a=p(c);1<=o;--o)if(!((s=a*o)<i)){if(r<s)break;d.push(s)}}else d=Object(T.ticks)(c,u,Math.min(u-c,l)).map(p);return e?d.reverse():d},e.tickFormat=function(t,n){if(null==n&&(n=10===h?".0e":","),"function"!=typeof n&&(n=m(n)),t===Infinity)return n;null==t&&(t=10);var i=Math.max(1,h*t/e.ticks().length);return function(t){var e=t/p(Math.round(g(t)));return e*h<h-.5&&(e*=h),e<=i?n(t):""}},e.nice=function(){return f(k(f(),{floor:function(t){return p(Math.floor(g(t)))},ceil:function(t){return p(Math.ceil(g(t)))}}))},e.copy=function(){return copy(e,log().base(h))},e}function raise(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function pow(){var i=1,t=continuous(function deinterpolate(e,n){return(n=raise(n,i)-(e=raise(e,i)))?function(t){return(raise(t,i)-e)/n}:r(n)},function reinterpolate(e,n){return n=raise(n,i)-(e=raise(e,i)),function(t){return raise(e+n*t,1/i)}}),e=t.domain;return t.exponent=function(t){return arguments.length?(i=+t,e(e())):i},t.copy=function(){return copy(t,pow().exponent(i))},linearish(t)}function sqrt(){return pow().exponent(.5)}function quantile(){var r=[],n=[],i=[];function rescale(){var t=0,e=Math.max(1,n.length);for(i=new Array(e-1);++t<e;)i[t-1]=Object(T.quantile)(r,t/e);return scale}function scale(t){if(!isNaN(t=+t))return n[Object(T.bisect)(i,t)]}return scale.invertExtent=function(t){var e=n.indexOf(t);return e<0?[NaN,NaN]:[0<e?i[e-1]:r[0],e<i.length?i[e]:r[r.length-1]]},scale.domain=function(t){if(!arguments.length)return r.slice();r=[];for(var e,n=0,i=t.length;n<i;++n)null==(e=t[n])||isNaN(e=+e)||r.push(e);return r.sort(T.ascending),rescale()},scale.range=function(t){return arguments.length?(n=l.call(t),rescale()):n.slice()},scale.quantiles=function(){return i.slice()},scale.copy=function(){return quantile().domain(r).range(n)},scale}function quantize(){var n=0,i=1,r=1,a=[.5],o=[0,1];function scale(t){if(t<=t)return o[Object(T.bisect)(a,t,0,r)]}function rescale(){var t=-1;for(a=new Array(r);++t<r;)a[t]=((t+1)*i-(t-r)*n)/(r+1);return scale}return scale.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],rescale()):[n,i]},scale.range=function(t){return arguments.length?(r=(o=l.call(t)).length-1,rescale()):o.slice()},scale.invertExtent=function(t){var e=o.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,a[0]]:r<=e?[a[r-1],i]:[a[e-1],a[e]]},scale.copy=function(){return quantize().domain([n,i]).range(o)},linearish(scale)}function threshold(){var n=[.5],i=[0,1],e=1;function scale(t){if(t<=t)return i[Object(T.bisect)(n,t,0,e)]}return scale.domain=function(t){return arguments.length?(n=l.call(t),e=Math.min(n.length,i.length-1),scale):n.slice()},scale.range=function(t){return arguments.length?(i=l.call(t),e=Math.min(n.length,i.length-1),scale):i.slice()},scale.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},scale.copy=function(){return threshold().domain(n).range(i)},scale}var y=n(73),b=n(80),C=1e3,L=60*C,j=60*L,D=24*j,F=7*D,R=30*D,I=365*D;function date(t){return new Date(t)}function time_number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(o,e,n,i,r,a,s,c,u){var l=continuous(deinterpolateLinear,A.interpolateNumber),d=l.invert,f=l.domain,h=u(".%L"),g=u(":%S"),p=u("%I:%M"),m=u("%I %p"),x=u("%a %d"),_=u("%b %d"),v=u("%B"),y=u("%Y"),b=[[s,1,C],[s,5,5*C],[s,15,15*C],[s,30,30*C],[a,1,L],[a,5,5*L],[a,15,15*L],[a,30,30*L],[r,1,j],[r,3,3*j],[r,6,6*j],[r,12,12*j],[i,1,D],[i,2,2*D],[n,1,F],[e,1,R],[e,3,3*R],[o,1,I]];function tickFormat(t){return(s(t)<t?h:a(t)<t?g:r(t)<t?p:i(t)<t?m:e(t)<t?n(t)<t?x:_:o(t)<t?v:y)(t)}function tickInterval(t,e,n,i){if(null==t&&(t=10),"number"==typeof t){var r=Math.abs(n-e)/t,a=Object(T.bisector)(function(t){return t[2]}).right(b,r);t=a===b.length?(i=Object(T.tickStep)(e/I,n/I,t),o):a?(i=(a=b[r/b[a-1][2]<b[a][2]/r?a-1:a])[1],a[0]):(i=Math.max(Object(T.tickStep)(e,n,t),1),c)}return null==i?t:t.every(i)}return l.invert=function(t){return new Date(d(t))},l.domain=function(t){return arguments.length?f(w.call(t,time_number)):f().map(date)},l.ticks=function(t,e){var n,i=f(),r=i[0],a=i[i.length-1],o=a<r;return o&&(n=r,r=a,a=n),n=(n=tickInterval(t,r,a,e))?n.range(r,a+1):[],o?n.reverse():n},l.tickFormat=function(t,e){return null==e?tickFormat:u(e)},l.nice=function(t,e){var n=f();return(t=tickInterval(t,n[0],n[n.length-1],e))?f(k(n,t)):l},l.copy=function(){return copy(l,calendar(o,e,n,i,r,a,s,c,u))},l}var E=function(){return calendar(y.timeYear,y.timeMonth,y.timeWeek,y.timeDay,y.timeHour,y.timeMinute,y.timeSecond,y.timeMillisecond,b.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},X=function(){return calendar(y.utcYear,y.utcMonth,y.utcWeek,y.utcDay,y.utcHour,y.utcMinute,y.utcSecond,y.utcMillisecond,b.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])};function sequential(n){var i=0,e=1,r=1,a=!1;function scale(t){var e=(t-i)*r;return n(a?Math.max(0,Math.min(1,e)):e)}return scale.domain=function(t){return arguments.length?(i=+t[0],e=+t[1],r=i===e?0:1/(e-i),scale):[i,e]},scale.clamp=function(t){return arguments.length?(a=!!t,scale):a},scale.interpolator=function(t){return arguments.length?(n=t,scale):n},scale.copy=function(){return sequential(n).domain([i,e]).clamp(a)},linearish(scale)}function diverging(n){var e=0,i=.5,r=1,a=1,o=1,s=!1;function scale(t){var e=.5+((t=+t)-i)*(t<i?a:o);return n(s?Math.max(0,Math.min(1,e)):e)}return scale.domain=function(t){return arguments.length?(e=+t[0],i=+t[1],r=+t[2],a=e===i?0:.5/(i-e),o=i===r?0:.5/(r-i),scale):[e,i,r]},scale.clamp=function(t){return arguments.length?(s=!!t,scale):s},scale.interpolator=function(t){return arguments.length?(n=t,scale):n},scale.copy=function(){return diverging(n).domain([e,i,r]).clamp(s)},linearish(scale)}n.d(e,"scaleBand",function(){return band}),n.d(e,"scalePoint",function(){return point}),n.d(e,"scaleIdentity",function(){return identity_identity}),n.d(e,"scaleLinear",function(){return linear}),n.d(e,"scaleLog",function(){return log}),n.d(e,"scaleOrdinal",function(){return ordinal}),n.d(e,"scaleImplicit",function(){return c}),n.d(e,"scalePow",function(){return pow}),n.d(e,"scaleSqrt",function(){return sqrt}),n.d(e,"scaleQuantile",function(){return quantile}),n.d(e,"scaleQuantize",function(){return quantize}),n.d(e,"scaleThreshold",function(){return threshold}),n.d(e,"scaleTime",function(){return E}),n.d(e,"scaleUtc",function(){return X}),n.d(e,"scaleSequential",function(){return sequential}),n.d(e,"scaleDiverging",function(){return diverging})},function(t,e,n){"use strict";var s=function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN},i=function(a){return 1===a.length&&(a=function ascendingComparator(n){return function(t,e){return s(n(t),e)}}(a)),{left:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;a(t[r],e)<0?n=r+1:i=r}return n},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;0<a(t[r],e)?i=r:n=r+1}return n}}};var r=i(s),a=r.right,o=r.left,p=a,c=function(t,e){null==e&&(e=pair);for(var n=0,i=t.length-1,r=t[0],a=new Array(i<0?0:i);n<i;)a[n]=e(r,r=t[++n]);return a};function pair(t,e){return[t,e]}var u=function(t,e,n){var i,r,a,o,s=t.length,c=e.length,u=new Array(s*c);for(null==n&&(n=pair),i=a=0;i<s;++i)for(o=t[i],r=0;r<c;++r,++a)u[a]=n(o,e[r]);return u},l=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},d=function(t){return null===t?NaN:+t},f=function(t,e){var n,i,r=t.length,a=0,o=-1,s=0,c=0;if(null==e)for(;++o<r;)isNaN(n=d(t[o]))||(c+=(i=n-s)*(n-(s+=i/++a)));else for(;++o<r;)isNaN(n=d(e(t[o],o,t)))||(c+=(i=n-s)*(n-(s+=i/++a)));if(1<a)return c/(a-1)},h=function(t,e){var n=f(t,e);return n?Math.sqrt(n):n},m=function(t,e){var n,i,r,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n<=n)for(i=r=n;++o<a;)null!=(n=t[o])&&(n<i&&(i=n),r<n&&(r=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n<=n)for(i=r=n;++o<a;)null!=(n=e(t[o],o,t))&&(n<i&&(i=n),r<n&&(r=n));return[i,r]},g=Array.prototype,x=g.slice,_=g.map,v=function(t){return function(){return t}},y=function(t){return t},b=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(r);++i<r;)a[i]=t+i*n;return a},T=Math.sqrt(50),w=Math.sqrt(10),A=Math.sqrt(2),O=function(t,e,n){var i,r,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(o=tickIncrement(t,e,n))||!isFinite(o))return[];if(0<o)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(r=Math.ceil(e-t+1));++s<r;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(r=Math.ceil(t-e+1));++s<r;)a[s]=(t-s)/o;return i&&a.reverse(),a};function tickIncrement(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,r);return 0<=r?(T<=a?10:w<=a?5:A<=a?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(T<=a?10:w<=a?5:A<=a?2:1)}function tickStep(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/r;return T<=a?r*=10:w<=a?r*=5:A<=a&&(r*=2),e<t?-r:r}var S=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},M=function(){var f=y,h=m,g=S;function histogram(t){var e,n,i=t.length,r=new Array(i);for(e=0;e<i;++e)r[e]=f(t[e],e,t);var a=h(r),o=a[0],s=a[1],c=g(r,o,s);Array.isArray(c)||(c=tickStep(o,s,c),c=b(Math.ceil(o/c)*c,s,c));for(var u=c.length;c[0]<=o;)c.shift(),--u;for(;c[u-1]>s;)c.pop(),--u;var l,d=new Array(u+1);for(e=0;e<=u;++e)(l=d[e]=[]).x0=0<e?c[e-1]:o,l.x1=e<u?c[e]:s;for(e=0;e<i;++e)o<=(n=r[e])&&n<=s&&d[p(c,n,0,u)].push(t[e]);return d}return histogram.value=function(t){return arguments.length?(f="function"==typeof t?t:v(t),histogram):f},histogram.domain=function(t){return arguments.length?(h="function"==typeof t?t:v([t[0],t[1]]),histogram):h},histogram.thresholds=function(t){return arguments.length?(g="function"==typeof t?t:Array.isArray(t)?v(x.call(t)):v(t),histogram):g},histogram},k=function(t,e,n){if(null==n&&(n=d),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(1<=e)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,a=Math.floor(r),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(r-a)}},C=function(t,e,n){return t=_.call(t,d).sort(s),Math.ceil((n-e)/(2*(k(t,.75)-k(t,.25))*Math.pow(t.length,-1/3)))},L=function(t,e,n){return Math.ceil((n-e)/(3.5*h(t)*Math.pow(t.length,-1/3)))},j=function(t,e){var n,i,r=t.length,a=-1;if(null==e){for(;++a<r;)if(null!=(n=t[a])&&n<=n)for(i=n;++a<r;)null!=(n=t[a])&&i<n&&(i=n)}else for(;++a<r;)if(null!=(n=e(t[a],a,t))&&n<=n)for(i=n;++a<r;)null!=(n=e(t[a],a,t))&&i<n&&(i=n);return i},D=function(t,e){var n,i=t.length,r=i,a=-1,o=0;if(null==e)for(;++a<i;)isNaN(n=d(t[a]))?--r:o+=n;else for(;++a<i;)isNaN(n=d(e(t[a],a,t)))?--r:o+=n;if(r)return o/r},F=function(t,e){var n,i=t.length,r=-1,a=[];if(null==e)for(;++r<i;)isNaN(n=d(t[r]))||a.push(n);else for(;++r<i;)isNaN(n=d(e(t[r],r,t)))||a.push(n);return k(a.sort(s),.5)},R=function(t){for(var e,n,i,r=t.length,a=-1,o=0;++a<r;)o+=t[a].length;for(n=new Array(o);0<=--r;)for(e=(i=t[r]).length;0<=--e;)n[--o]=i[e];return n},I=function(t,e){var n,i,r=t.length,a=-1;if(null==e){for(;++a<r;)if(null!=(n=t[a])&&n<=n)for(i=n;++a<r;)null!=(n=t[a])&&n<i&&(i=n)}else for(;++a<r;)if(null!=(n=e(t[a],a,t))&&n<=n)for(i=n;++a<r;)null!=(n=e(t[a],a,t))&&n<i&&(i=n);return i},E=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},X=function(t,e){if(n=t.length){var n,i,r=0,a=0,o=t[a];for(null==e&&(e=s);++r<n;)(e(i=t[r],o)<0||0!==e(o,o))&&(o=i,a=r);return 0===e(o,o)?a:void 0}},z=function(t,e,n){for(var i,r,a=(null==n?t.length:n)-(e=null==e?0:+e);a;)r=Math.random()*a--|0,i=t[a+e],t[a+e]=t[r+e],t[r+e]=i;return t},N=function(t,e){var n,i=t.length,r=-1,a=0;if(null==e)for(;++r<i;)(n=+t[r])&&(a+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(a+=n);return a},P=function(t){if(!(r=t.length))return[];for(var e=-1,n=I(t,transpose_length),i=new Array(n);++e<n;)for(var r,a=-1,o=i[e]=new Array(r);++a<r;)o[a]=t[a][e];return i};function transpose_length(t){return t.length}var Y=function(){return P(arguments)};n.d(e,"bisect",function(){return p}),n.d(e,"bisectRight",function(){return a}),n.d(e,"bisectLeft",function(){return o}),n.d(e,"ascending",function(){return s}),n.d(e,"bisector",function(){return i}),n.d(e,"cross",function(){return u}),n.d(e,"descending",function(){return l}),n.d(e,"deviation",function(){return h}),n.d(e,"extent",function(){return m}),n.d(e,"histogram",function(){return M}),n.d(e,"thresholdFreedmanDiaconis",function(){return C}),n.d(e,"thresholdScott",function(){return L}),n.d(e,"thresholdSturges",function(){return S}),n.d(e,"max",function(){return j}),n.d(e,"mean",function(){return D}),n.d(e,"median",function(){return F}),n.d(e,"merge",function(){return R}),n.d(e,"min",function(){return I}),n.d(e,"pairs",function(){return c}),n.d(e,"permute",function(){return E}),n.d(e,"quantile",function(){return k}),n.d(e,"range",function(){return b}),n.d(e,"scan",function(){return X}),n.d(e,"shuffle",function(){return z}),n.d(e,"sum",function(){return N}),n.d(e,"ticks",function(){return O}),n.d(e,"tickIncrement",function(){return tickIncrement}),n.d(e,"tickStep",function(){return tickStep}),n.d(e,"transpose",function(){return P}),n.d(e,"variance",function(){return f}),n.d(e,"zip",function(){return Y})},function(t,e,n){"use strict";var r,a,x=n(68),i=n(83),o=0,s=0,c=0,u=1e3,l=0,d=0,f=0,h="object"==typeof performance&&performance.now?performance:Date,g="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function now(){return d||(g(clearNow),d=h.now()+f)}function clearNow(){d=0}function Timer(){this._call=this._time=this._next=null}function timer(t,e,n){var i=new Timer;return i.restart(t,e,n),i}function wake(){d=(l=h.now())+f,o=s=0;try{!function timerFlush(){now(),++o;for(var t,e=r;e;)0<=(t=d-e._time)&&e._call.call(null,t),e=e._next;--o}()}finally{o=0,function nap(){var t,e,n=r,i=Infinity;for(;n;)n=n._call?(i>n._time&&(i=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:r=e);a=t,sleep(i)}(),d=0}}function poke(){var t=h.now(),e=t-l;u<e&&(f-=e,l=t)}function sleep(t){o||(s&&(s=clearTimeout(s)),24<t-d?(t<Infinity&&(s=setTimeout(wake,t-h.now()-f)),c&&(c=clearInterval(c))):(c||(l=h.now(),c=setInterval(poke,u)),o=1,g(wake)))}Timer.prototype=timer.prototype={constructor:Timer,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?now():+n)+(null==e?0:+e),this._next||a===this||(a?a._next=this:r=this,a=this),this._call=t,this._time=n,sleep()},stop:function(){this._call&&(this._call=null,this._time=Infinity,sleep())}};var p=function(e,n,t){var i=new Timer;return n=null==n?0:+n,i.restart(function(t){i.stop(),e(t+n)},n,t),i},m=Object(i.dispatch)("start","end","interrupt"),_=[],v=0,y=2,b=function(t,e,n,i,r,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function create(a,o,s){var c,u=a.__transition;function start(t){var e,n,i,r;if(1!==s.state)return stop();for(e in u)if((r=u[e]).name===s.name){if(3===r.state)return p(start);4===r.state?(r.state=6,r.timer.stop(),r.on.call("interrupt",a,a.__data__,r.index,r.group),delete u[e]):+e<o&&(r.state=6,r.timer.stop(),delete u[e])}if(p(function(){3===s.state&&(s.state=4,s.timer.restart(tick,s.delay,s.time),tick(t))}),s.state=y,s.on.call("start",a,a.__data__,s.index,s.group),s.state===y){for(s.state=3,c=new Array(i=s.tween.length),e=0,n=-1;e<i;++e)(r=s.tween[e].value.call(a,a.__data__,s.index,s.group))&&(c[++n]=r);c.length=n+1}}function tick(t){for(var e=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(stop),s.state=5,1),n=-1,i=c.length;++n<i;)c[n].call(null,e);5===s.state&&(s.on.call("end",a,a.__data__,s.index,s.group),stop())}function stop(){for(var t in s.state=6,s.timer.stop(),delete u[o],u)return;delete a.__transition}(u[o]=s).timer=timer(function schedule(t){s.state=1,s.timer.restart(start,s.delay,s.time),s.delay<=t&&start(t-s.delay)},0,s.time)}(t,n,{name:e,index:i,group:r,on:m,tween:_,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:v})};function init(t,e){var n=get(t,e);if(n.state>v)throw new Error("too late; already scheduled");return n}function set(t,e){var n=get(t,e);if(n.state>y)throw new Error("too late; already started");return n}function get(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var T=function(t,e){var n,i,r,a=t.__transition,o=!0;if(a){for(r in e=null==e?null:e+"",a)(n=a[r]).name===e?(i=n.state>y&&n.state<5,n.state=6,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete a[r]):o=!1;o&&delete t.__transition}},w=n(72);function tweenValue(t,e,n){var i=t._id;return t.each(function(){var t=set(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return get(t,i).value[e]}}var A=n(76),O=function(t,e){var n;return("number"==typeof e?w.interpolateNumber:e instanceof A.color?w.interpolateRgb:(n=Object(A.color)(e))?(e=n,w.interpolateRgb):w.interpolateString)(t,e)};var S=x.selection.prototype.constructor;var M=0;function Transition(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function src_transition_transition(t){return Object(x.selection)().transition(t)}function newId(){return++M}var k=x.selection.prototype;Transition.prototype=src_transition_transition.prototype={constructor:Transition,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(x.selector)(t));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var s,c,u=i[o],l=u.length,d=a[o]=new Array(l),f=0;f<l;++f)(s=u[f])&&(c=t.call(s,s.__data__,f,u))&&("__data__"in s&&(c.__data__=s.__data__),d[f]=c,b(d[f],e,n,f,d,get(s,n)));return new Transition(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(x.selectorAll)(t));for(var i=this._groups,r=i.length,a=[],o=[],s=0;s<r;++s)for(var c,u=i[s],l=u.length,d=0;d<l;++d)if(c=u[d]){for(var f,h=t.call(c,c.__data__,d,u),g=get(c,n),p=0,m=h.length;p<m;++p)(f=h[p])&&b(f,e,n,p,h,g);a.push(h),o.push(c)}return new Transition(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=Object(x.matcher)(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o=e[r],s=o.length,c=i[r]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&c.push(a);return new Transition(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var c,u=e[s],l=n[s],d=u.length,f=o[s]=new Array(d),h=0;h<d;++h)(c=u[h]||l[h])&&(f[h]=c);for(;s<i;++s)o[s]=e[s];return new Transition(o,this._parents,this._name,this._id)},selection:function(){return new S(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=newId(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],c=s.length,u=0;u<c;++u)if(o=s[u]){var l=get(o,e);b(o,t,n,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Transition(i,this._parents,t,n)},call:k.call,nodes:k.nodes,node:k.node,size:k.size,empty:k.empty,each:k.each,on:function(t,e){var n=this._id;return arguments.length<2?get(this.node(),n).on.on(t):this.each(function onFunction(n,i,r){var a,o,s=function on_start(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})}(i)?init:set;return function(){var t=s(this,n),e=t.on;e!==a&&(o=(a=e).copy()).on(i,r),t.on=o}}(n,t,e))},attr:function(t,e){var n=Object(x.namespace)(t),i="transform"===n?w.interpolateTransformSvg:O;return this.attrTween(t,"function"==typeof e?(n.local?function attrFunctionNS(n,i,r){var a,o,s;return function(){var t,e=r(this);if(null!=e)return(t=this.getAttributeNS(n.space,n.local))===e?null:t===a&&e===o?s:s=i(a=t,o=e);this.removeAttributeNS(n.space,n.local)}}:function attrFunction(n,i,r){var a,o,s;return function(){var t,e=r(this);if(null!=e)return(t=this.getAttribute(n))===e?null:t===a&&e===o?s:s=i(a=t,o=e);this.removeAttribute(n)}})(n,i,tweenValue(this,"attr."+t,e)):null==e?(n.local?function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function attrRemove(t){return function(){this.removeAttribute(t)}})(n):(n.local?function attrConstantNS(e,n,i){var r,a;return function(){var t=this.getAttributeNS(e.space,e.local);return t===i?null:t===r?a:a=n(r=t,i)}}:function attrConstant(e,n,i){var r,a;return function(){var t=this.getAttribute(e);return t===i?null:t===r?a:a=n(r=t,i)}})(n,i,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Object(x.namespace)(t);return this.tween(n,(i.local?function attrTweenNS(i,t){function tween(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttributeNS(i.space,i.local,n(t))}}return tween._value=t,tween}:function attrTween(i,t){function tween(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttribute(i,n(t))}}return tween._value=t,tween})(i,e))},style:function(t,e,n){var i="transform"==(t+="")?w.interpolateTransformCss:O;return null==e?this.styleTween(t,function styleRemove(n,i){var r,a,o;return function(){var t=Object(x.style)(this,n),e=(this.style.removeProperty(n),Object(x.style)(this,n));return t===e?null:t===r&&e===a?o:o=i(r=t,a=e)}}(t,i)).on("end.style."+t,function styleRemoveEnd(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function styleFunction(n,i,r){var a,o,s;return function(){var t=Object(x.style)(this,n),e=r(this);return null==e&&(this.style.removeProperty(n),e=Object(x.style)(this,n)),t===e?null:t===a&&e===o?s:s=i(a=t,o=e)}}(t,i,tweenValue(this,"style."+t,e)):function styleConstant(e,n,i){var r,a;return function(){var t=Object(x.style)(this,e);return t===i?null:t===r?a:a=n(r=t,i)}}(t,i,e+""),n)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function styleTween(i,t,r){function tween(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.style.setProperty(i,n(t),r)}}return tween._value=t,tween}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function textFunction(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(tweenValue(this,"text",t)):function textConstant(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function removeFunction(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=get(this.node(),n).tween,a=0,o=r.length;a<o;++a)if((i=r[a]).name===t)return i.value;return null}return this.each((null==e?function tweenRemove(r,a){var o,s;return function(){var t=set(this,r),e=t.tween;if(e!==o)for(var n=0,i=(s=o=e).length;n<i;++n)if(s[n].name===a){(s=s.slice()).splice(n,1);break}t.tween=s}}:function tweenFunction(a,o,s){var c,u;if("function"!=typeof s)throw new Error;return function(){var t=set(this,a),e=t.tween;if(e!==c){u=(c=e).slice();for(var n={name:o,value:s},i=0,r=u.length;i<r;++i)if(u[i].name===o){u[i]=n;break}i===r&&u.push(n)}t.tween=u}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function delayFunction(t,e){return function(){init(this,t).delay=+e.apply(this,arguments)}}:function delayConstant(t,e){return e=+e,function(){init(this,t).delay=e}})(e,t)):get(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function durationFunction(t,e){return function(){set(this,t).duration=+e.apply(this,arguments)}}:function durationConstant(t,e){return e=+e,function(){set(this,t).duration=e}})(e,t)):get(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function easeConstant(t,e){if("function"!=typeof e)throw new Error;return function(){set(this,t).ease=e}}(e,t)):get(this.node(),e).ease}};var C={time:null,delay:0,duration:250,ease:n(74).easeCubicInOut};function transition_inherit(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return C.time=now(),C;return n}x.selection.prototype.interrupt=function(t){return this.each(function(){T(this,t)})},x.selection.prototype.transition=function(t){var e,n;t=t instanceof Transition?(e=t._id,t._name):(e=newId(),(n=C).time=now(),null==t?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],c=s.length,u=0;u<c;++u)(o=s[u])&&b(o,t,e,u,s,n||transition_inherit(o,e));return new Transition(i,this._parents,t,e)};var L=[null],j=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if(1<(n=r[i]).state&&n.name===e)return new Transition([[t]],L,e,+i);return null};n.d(e,"transition",function(){return src_transition_transition}),n.d(e,"active",function(){return j}),n.d(e,"interrupt",function(){return T})},function(t,e,n){"use strict";var c=n(76);function basis(t,e,n,i,r){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*i+o*r)/6}var i=function(o){var s=o.length-1;return function(t){var e=t<=0?t=0:1<=t?s-(t=1):Math.floor(t*s),n=o[e],i=o[e+1],r=0<e?o[e-1]:2*n-i,a=e<s-1?o[e+2]:2*i-n;return basis((t-e/s)*s,r,n,i,a)}},r=function(o){var s=o.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*s),n=o[(e+s-1)%s],i=o[e%s],r=o[(e+1)%s],a=o[(e+2)%s];return basis((t-e/s)*s,n,i,r,a)}},a=function(t){return function(){return t}};function linear(e,n){return function(t){return e+t*n}}function color_hue(t,e){var n=e-t;return n?linear(t,180<n||n<-180?n-360*Math.round(n/360):n):a(isNaN(t)?e:t)}function gamma(n){return 1==(n=+n)?nogamma:function(t,e){return e-t?function exponential(e,n,i){return e=Math.pow(e,i),n=Math.pow(n,i)-e,i=1/i,function(t){return Math.pow(e+t*n,i)}}(t,e,n):a(isNaN(t)?e:t)}}function nogamma(t,e){var n=e-t;return n?linear(t,n):a(isNaN(t)?e:t)}var o=function rgbGamma(t){var o=gamma(t);function rgb(e,t){var n=o((e=Object(c.rgb)(e)).r,(t=Object(c.rgb)(t)).r),i=o(e.g,t.g),r=o(e.b,t.b),a=nogamma(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=r(t),e.opacity=a(t),e+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(s){return function(t){var e,n,i=t.length,r=new Array(i),a=new Array(i),o=new Array(i);for(e=0;e<i;++e)n=Object(c.rgb)(t[e]),r[e]=n.r||0,a[e]=n.g||0,o[e]=n.b||0;return r=s(r),a=s(a),o=s(o),n.opacity=1,function(t){return n.r=r(t),n.g=a(t),n.b=o(t),n+""}}}var s=rgbSpline(i),u=rgbSpline(r),l=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,a=new Array(r),o=new Array(i);for(n=0;n<r;++n)a[n]=b(t[n],e[n]);for(;n<i;++n)o[n]=e[n];return function(t){for(n=0;n<r;++n)o[n]=a[n](t);return o}},d=function(e,n){var i=new Date;return n-=e=+e,function(t){return i.setTime(e+n*t),i}},f=function(e,n){return n-=e=+e,function(t){return e+n*t}},h=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=b(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},g=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,p=new RegExp(g.source,"g");var m,x,_,v,y=function(t,i){var e,n,r,a=g.lastIndex=p.lastIndex=0,o=-1,s=[],c=[];for(t+="",i+="";(e=g.exec(t))&&(n=p.exec(i));)(r=n.index)>a&&(r=i.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(e=e[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,c.push({i:o,x:f(e,n)})),a=p.lastIndex;return a<i.length&&(r=i.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?c[0]?function one(e){return function(t){return e(t)+""}}(c[0].x):function zero(t){return function(){return t}}(i):(i=c.length,function(t){for(var e,n=0;n<i;++n)s[(e=c[n]).i]=e.x(t);return s.join("")})},b=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?a(e):("number"===i?f:"string"===i?(n=Object(c.color)(e))?(e=n,o):y:e instanceof c.color?o:e instanceof Date?d:Array.isArray(e)?l:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?h:f)(t,e)},T=function(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}},w=function(t,e){var n=color_hue(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},A=function(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}},O=180/Math.PI,S={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},M=function(t,e,n,i,r,a){var o,s,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,c/=s),t*i<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*O,skewX:Math.atan(c)*O,scaleX:o,scaleY:s}};function interpolateTransform(n,s,c,o){function pop(t){return t.length?t.pop()+" ":""}return function(t,e){var r=[],a=[];return t=n(t),e=n(e),function translate(t,e,n,i,r,a){if(t!==n||e!==i){var o=r.push("translate(",null,s,null,c);a.push({i:o-4,x:f(t,n)},{i:o-2,x:f(e,i)})}else(n||i)&&r.push("translate("+n+s+i+c)}(t.translateX,t.translateY,e.translateX,e.translateY,r,a),function rotate(t,e,n,i){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),i.push({i:n.push(pop(n)+"rotate(",null,o)-2,x:f(t,e)})):e&&n.push(pop(n)+"rotate("+e+o)}(t.rotate,e.rotate,r,a),function skewX(t,e,n,i){t!==e?i.push({i:n.push(pop(n)+"skewX(",null,o)-2,x:f(t,e)}):e&&n.push(pop(n)+"skewX("+e+o)}(t.skewX,e.skewX,r,a),function scale(t,e,n,i,r,a){if(t!==n||e!==i){var o=r.push(pop(r)+"scale(",null,",",null,")");a.push({i:o-4,x:f(t,n)},{i:o-2,x:f(e,i)})}else 1===n&&1===i||r.push(pop(r)+"scale("+n+","+i+")")}(t.scaleX,t.scaleY,e.scaleX,e.scaleY,r,a),t=e=null,function(t){for(var e,n=-1,i=a.length;++n<i;)r[(e=a[n]).i]=e.x(t);return r.join("")}}}var k=interpolateTransform(function parseCss(t){return"none"===t?S:(m||(m=document.createElement("DIV"),x=document.documentElement,_=document.defaultView),m.style.transform=t,t=_.getComputedStyle(x.appendChild(m),null).getPropertyValue("transform"),x.removeChild(m),t=t.slice(7,-1).split(","),M(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),C=interpolateTransform(function parseSvg(t){return null==t?S:(v||(v=document.createElementNS("http://www.w3.org/2000/svg","g")),v.setAttribute("transform",t),(t=v.transform.baseVal.consolidate())?(t=t.matrix,M(t.a,t.b,t.c,t.d,t.e,t.f)):S)},", ",")",")"),L=Math.SQRT2;function cosh(t){return((t=Math.exp(t))+1/t)/2}var j=function(t,e){var n,r,a=t[0],o=t[1],s=t[2],i=e[0],c=e[1],u=e[2],l=i-a,d=c-o,f=l*l+d*d;if(f<1e-12)r=Math.log(u/s)/L,n=function(t){return[a+t*l,o+t*d,s*Math.exp(L*t*r)]};else{var h=Math.sqrt(f),g=(u*u-s*s+4*f)/(2*s*2*h),p=(u*u-s*s-4*f)/(2*u*2*h),m=Math.log(Math.sqrt(g*g+1)-g),x=Math.log(Math.sqrt(p*p+1)-p);r=(x-m)/L,n=function(t){var e=t*r,n=cosh(m),i=s/(2*h)*(n*function tanh(t){return((t=Math.exp(2*t))-1)/(t+1)}(L*e+m)-function sinh(t){return((t=Math.exp(t))-1/t)/2}(m));return[a+i*l,o+i*d,s*n/cosh(L*e+m)]}}return n.duration=1e3*r,n};function hsl(o){return function(e,t){var n=o((e=Object(c.hsl)(e)).h,(t=Object(c.hsl)(t)).h),i=nogamma(e.s,t.s),r=nogamma(e.l,t.l),a=nogamma(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=r(t),e.opacity=a(t),e+""}}}var D=hsl(color_hue),F=hsl(nogamma);function lab(e,t){var n=nogamma((e=Object(c.lab)(e)).l,(t=Object(c.lab)(t)).l),i=nogamma(e.a,t.a),r=nogamma(e.b,t.b),a=nogamma(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=r(t),e.opacity=a(t),e+""}}function hcl(o){return function(e,t){var n=o((e=Object(c.hcl)(e)).h,(t=Object(c.hcl)(t)).h),i=nogamma(e.c,t.c),r=nogamma(e.l,t.l),a=nogamma(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=i(t),e.l=r(t),e.opacity=a(t),e+""}}}var R=hcl(color_hue),I=hcl(nogamma);function cubehelix_cubehelix(s){return function cubehelixGamma(o){function cubehelix(e,t){var n=s((e=Object(c.cubehelix)(e)).h,(t=Object(c.cubehelix)(t)).h),i=nogamma(e.s,t.s),r=nogamma(e.l,t.l),a=nogamma(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=r(Math.pow(t,o)),e.opacity=a(t),e+""}}return o=+o,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}var E=cubehelix_cubehelix(color_hue),X=cubehelix_cubehelix(nogamma);function piecewise(t,e){for(var n=0,i=e.length-1,r=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(r,r=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return a[e](t-e)}}var z=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n};n.d(e,"interpolate",function(){return b}),n.d(e,"interpolateArray",function(){return l}),n.d(e,"interpolateBasis",function(){return i}),n.d(e,"interpolateBasisClosed",function(){return r}),n.d(e,"interpolateDate",function(){return d}),n.d(e,"interpolateDiscrete",function(){return T}),n.d(e,"interpolateHue",function(){return w}),n.d(e,"interpolateNumber",function(){return f}),n.d(e,"interpolateObject",function(){return h}),n.d(e,"interpolateRound",function(){return A}),n.d(e,"interpolateString",function(){return y}),n.d(e,"interpolateTransformCss",function(){return k}),n.d(e,"interpolateTransformSvg",function(){return C}),n.d(e,"interpolateZoom",function(){return j}),n.d(e,"interpolateRgb",function(){return o}),n.d(e,"interpolateRgbBasis",function(){return s}),n.d(e,"interpolateRgbBasisClosed",function(){return u}),n.d(e,"interpolateHsl",function(){return D}),n.d(e,"interpolateHslLong",function(){return F}),n.d(e,"interpolateLab",function(){return lab}),n.d(e,"interpolateHcl",function(){return R}),n.d(e,"interpolateHclLong",function(){return I}),n.d(e,"interpolateCubehelix",function(){return E}),n.d(e,"interpolateCubehelixLong",function(){return X}),n.d(e,"piecewise",function(){return piecewise}),n.d(e,"quantize",function(){return z})},function(t,e,n){"use strict";var r=new Date,s=new Date;function newInterval(a,o,n,i){function interval(t){return a(t=new Date(+t)),t}return(interval.floor=interval).ceil=function(t){return a(t=new Date(t-1)),o(t,1),a(t),t},interval.round=function(t){var e=interval(t),n=interval.ceil(t);return t-e<n-t?e:n},interval.offset=function(t,e){return o(t=new Date(+t),null==e?1:Math.floor(e)),t},interval.range=function(t,e,n){var i,r=[];if(t=interval.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return r;for(;r.push(i=new Date(+t)),o(t,n),a(t),i<t&&t<e;);return r},interval.filter=function(n){return newInterval(function(t){if(t<=t)for(;a(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;o(t,-1),!n(t););else for(;0<=--e;)for(;o(t,1),!n(t););})},n&&(interval.count=function(t,e){return r.setTime(+t),s.setTime(+e),a(r),a(s),Math.floor(n(r,s))},interval.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?interval.filter(i?function(t){return i(t)%e==0}:function(t){return interval.count(0,t)%e==0}):interval:null}),interval}var i=newInterval(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});i.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?newInterval(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):i:null};var a=i,o=i.range,c=newInterval(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),u=c,l=c.range,d=newInterval(function(t){t.setTime(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),f=d,h=d.range,g=newInterval(function(t){var e=6e4*t.getTimezoneOffset()%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),p=g,m=g.range,x=newInterval(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1}),_=x,v=x.range;function weekday(e){return newInterval(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var y=weekday(0),b=weekday(1),T=weekday(2),w=weekday(3),A=weekday(4),O=weekday(5),S=weekday(6),M=y.range,k=b.range,C=T.range,L=w.range,j=A.range,D=O.range,F=S.range,R=newInterval(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),I=R,E=R.range,X=newInterval(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});X.every=function(n){return isFinite(n=Math.floor(n))&&0<n?newInterval(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var z=X,N=X.range,P=newInterval(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getUTCMinutes()}),Y=P,B=P.range,V=newInterval(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),U=V,H=V.range,W=newInterval(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),G=W,q=W.range;function utcWeekday(e){return newInterval(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var Z=utcWeekday(0),$=utcWeekday(1),K=utcWeekday(2),J=utcWeekday(3),Q=utcWeekday(4),tt=utcWeekday(5),et=utcWeekday(6),nt=Z.range,it=$.range,rt=K.range,at=J.range,ot=Q.range,st=tt.range,ct=et.range,ut=newInterval(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),lt=ut,dt=ut.range,ft=newInterval(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});ft.every=function(n){return isFinite(n=Math.floor(n))&&0<n?newInterval(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var ht=ft,gt=ft.range;n.d(e,"timeInterval",function(){return newInterval}),n.d(e,"timeMillisecond",function(){return a}),n.d(e,"timeMilliseconds",function(){return o}),n.d(e,"utcMillisecond",function(){return a}),n.d(e,"utcMilliseconds",function(){return o}),n.d(e,"timeSecond",function(){return u}),n.d(e,"timeSeconds",function(){return l}),n.d(e,"utcSecond",function(){return u}),n.d(e,"utcSeconds",function(){return l}),n.d(e,"timeMinute",function(){return f}),n.d(e,"timeMinutes",function(){return h}),n.d(e,"timeHour",function(){return p}),n.d(e,"timeHours",function(){return m}),n.d(e,"timeDay",function(){return _}),n.d(e,"timeDays",function(){return v}),n.d(e,"timeWeek",function(){return y}),n.d(e,"timeWeeks",function(){return M}),n.d(e,"timeSunday",function(){return y}),n.d(e,"timeSundays",function(){return M}),n.d(e,"timeMonday",function(){return b}),n.d(e,"timeMondays",function(){return k}),n.d(e,"timeTuesday",function(){return T}),n.d(e,"timeTuesdays",function(){return C}),n.d(e,"timeWednesday",function(){return w}),n.d(e,"timeWednesdays",function(){return L}),n.d(e,"timeThursday",function(){return A}),n.d(e,"timeThursdays",function(){return j}),n.d(e,"timeFriday",function(){return O}),n.d(e,"timeFridays",function(){return D}),n.d(e,"timeSaturday",function(){return S}),n.d(e,"timeSaturdays",function(){return F}),n.d(e,"timeMonth",function(){return I}),n.d(e,"timeMonths",function(){return E}),n.d(e,"timeYear",function(){return z}),n.d(e,"timeYears",function(){return N}),n.d(e,"utcMinute",function(){return Y}),n.d(e,"utcMinutes",function(){return B}),n.d(e,"utcHour",function(){return U}),n.d(e,"utcHours",function(){return H}),n.d(e,"utcDay",function(){return G}),n.d(e,"utcDays",function(){return q}),n.d(e,"utcWeek",function(){return Z}),n.d(e,"utcWeeks",function(){return nt}),n.d(e,"utcSunday",function(){return Z}),n.d(e,"utcSundays",function(){return nt}),n.d(e,"utcMonday",function(){return $}),n.d(e,"utcMondays",function(){return it}),n.d(e,"utcTuesday",function(){return K}),n.d(e,"utcTuesdays",function(){return rt}),n.d(e,"utcWednesday",function(){return J}),n.d(e,"utcWednesdays",function(){return at}),n.d(e,"utcThursday",function(){return Q}),n.d(e,"utcThursdays",function(){return ot}),n.d(e,"utcFriday",function(){return tt}),n.d(e,"utcFridays",function(){return st}),n.d(e,"utcSaturday",function(){return et}),n.d(e,"utcSaturdays",function(){return ct}),n.d(e,"utcMonth",function(){return lt}),n.d(e,"utcMonths",function(){return dt}),n.d(e,"utcYear",function(){return ht}),n.d(e,"utcYears",function(){return gt})},function(t,e,n){"use strict";function linear(t){return+t}function quadIn(t){return t*t}function quadOut(t){return t*(2-t)}function quadInOut(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function cubicIn(t){return t*t*t}function cubicOut(t){return--t*t*t+1}function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var i=function custom(e){function polyIn(t){return Math.pow(t,e)}return e=+e,polyIn.exponent=custom,polyIn}(3),r=function custom(e){function polyOut(t){return 1-Math.pow(1-t,e)}return e=+e,polyOut.exponent=custom,polyOut}(3),a=function custom(e){function polyInOut(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,polyInOut.exponent=custom,polyInOut}(3),o=Math.PI,s=o/2;function sinIn(t){return 1-Math.cos(t*s)}function sinOut(t){return Math.sin(t*s)}function sinInOut(t){return(1-Math.cos(o*t))/2}function expIn(t){return Math.pow(2,10*t-10)}function expOut(t){return 1-Math.pow(2,-10*t)}function expInOut(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function circleIn(t){return 1-Math.sqrt(1-t*t)}function circleOut(t){return Math.sqrt(1- --t*t)}function circleInOut(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var c=4/11,u=6/11,l=8/11,d=.75,f=9/11,h=10/11,g=.9375,p=21/22,m=63/64,x=1/c/c;function bounceIn(t){return 1-bounceOut(1-t)}function bounceOut(t){return(t=+t)<c?x*t*t:t<l?x*(t-=u)*t+d:t<h?x*(t-=f)*t+g:x*(t-=p)*t+m}function bounceInOut(t){return((t*=2)<=1?1-bounceOut(1-t):bounceOut(t-1)+1)/2}var _=function custom(e){function backIn(t){return t*t*((e+1)*t-e)}return e=+e,backIn.overshoot=custom,backIn}(1.70158),v=function custom(e){function backOut(t){return--t*t*((e+1)*t+e)+1}return e=+e,backOut.overshoot=custom,backOut}(1.70158),y=function custom(e){function backInOut(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,backInOut.overshoot=custom,backInOut}(1.70158),b=2*Math.PI,T=function custom(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=b);function elasticIn(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}return elasticIn.amplitude=function(t){return custom(t,n*b)},elasticIn.period=function(t){return custom(e,t)},elasticIn}(1,.3),w=function custom(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=b);function elasticOut(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}return elasticOut.amplitude=function(t){return custom(t,n*b)},elasticOut.period=function(t){return custom(e,t)},elasticOut}(1,.3),A=function custom(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=b);function elasticInOut(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}return elasticInOut.amplitude=function(t){return custom(t,n*b)},elasticInOut.period=function(t){return custom(e,t)},elasticInOut}(1,.3);n.d(e,"easeLinear",function(){return linear}),n.d(e,"easeQuad",function(){return quadInOut}),n.d(e,"easeQuadIn",function(){return quadIn}),n.d(e,"easeQuadOut",function(){return quadOut}),n.d(e,"easeQuadInOut",function(){return quadInOut}),n.d(e,"easeCubic",function(){return cubicInOut}),n.d(e,"easeCubicIn",function(){return cubicIn}),n.d(e,"easeCubicOut",function(){return cubicOut}),n.d(e,"easeCubicInOut",function(){return cubicInOut}),n.d(e,"easePoly",function(){return a}),n.d(e,"easePolyIn",function(){return i}),n.d(e,"easePolyOut",function(){return r}),n.d(e,"easePolyInOut",function(){return a}),n.d(e,"easeSin",function(){return sinInOut}),n.d(e,"easeSinIn",function(){return sinIn}),n.d(e,"easeSinOut",function(){return sinOut}),n.d(e,"easeSinInOut",function(){return sinInOut}),n.d(e,"easeExp",function(){return expInOut}),n.d(e,"easeExpIn",function(){return expIn}),n.d(e,"easeExpOut",function(){return expOut}),n.d(e,"easeExpInOut",function(){return expInOut}),n.d(e,"easeCircle",function(){return circleInOut}),n.d(e,"easeCircleIn",function(){return circleIn}),n.d(e,"easeCircleOut",function(){return circleOut}),n.d(e,"easeCircleInOut",function(){return circleInOut}),n.d(e,"easeBounce",function(){return bounceOut}),n.d(e,"easeBounceIn",function(){return bounceIn}),n.d(e,"easeBounceOut",function(){return bounceOut}),n.d(e,"easeBounceInOut",function(){return bounceInOut}),n.d(e,"easeBack",function(){return y}),n.d(e,"easeBackIn",function(){return _}),n.d(e,"easeBackOut",function(){return v}),n.d(e,"easeBackInOut",function(){return y}),n.d(e,"easeElastic",function(){return w}),n.d(e,"easeElasticIn",function(){return T}),n.d(e,"easeElasticOut",function(){return w}),n.d(e,"easeElasticInOut",function(){return A})},function(t,e,n){"use strict";function Map(){}function map(t,e){var n=new Map;if(t instanceof Map)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,a=t.length;if(null==e)for(;++r<a;)n.set(r,t[r]);else for(;++r<a;)n.set(e(i=t[r],r,t),i)}else if(t)for(var o in t)n.set(o,t[o]);return n}Map.prototype=map.prototype={constructor:Map,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var p=map,i=function(){var f,h,e,g=[],a=[];function apply(t,n,i,r){if(n>=g.length)return null!=f&&t.sort(f),null!=h?h(t):t;for(var e,a,o,s=-1,c=t.length,u=g[n++],l=p(),d=i();++s<c;)(o=l.get(e=u(a=t[s])+""))?o.push(a):l.set(e,[a]);return l.each(function(t,e){r(d,e,apply(t,n,i,r))}),d}return e={object:function(t){return apply(t,0,createObject,setObject)},map:function(t){return apply(t,0,createMap,setMap)},entries:function(t){return function entries(t,n){if(++n>g.length)return t;var i,r=a[n-1];return null!=h&&n>=g.length?i=t.entries():(i=[],t.each(function(t,e){i.push({key:e,values:entries(t,n)})})),null!=r?i.sort(function(t,e){return r(t.key,e.key)}):i}(apply(t,0,createMap,setMap),0)},key:function(t){return g.push(t),e},sortKeys:function(t){return a[g.length-1]=t,e},sortValues:function(t){return f=t,e},rollup:function(t){return h=t,e}}};function createObject(){return{}}function setObject(t,e,n){t[e]=n}function createMap(){return p()}function setMap(t,e,n){t.set(e,n)}function Set(){}var r=p.prototype;function set(t,e){var n=new Set;if(t instanceof Set)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}Set.prototype=set.prototype={constructor:Set,has:r.has,add:function(t){return this["$"+(t+="")]=t,this},remove:r.remove,clear:r.clear,values:r.keys,size:r.size,empty:r.empty,each:r.each};var a=set,o=function(t){var e=[];for(var n in t)e.push(n);return e},s=function(t){var e=[];for(var n in t)e.push(t[n]);return e},c=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e};n.d(e,"nest",function(){return i}),n.d(e,"set",function(){return a}),n.d(e,"map",function(){return p}),n.d(e,"keys",function(){return o}),n.d(e,"values",function(){return s}),n.d(e,"entries",function(){return c})},function(t,e,n){"use strict";var i=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function extend(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Color(){}var r="\\s*([+-]?\\d+)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3})$/,c=/^#([0-9a-f]{6})$/,u=new RegExp("^rgb\\("+[r,r,r]+"\\)$"),l=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),d=new RegExp("^rgba\\("+[r,r,r,a]+"\\)$"),f=new RegExp("^rgba\\("+[o,o,o,a]+"\\)$"),h=new RegExp("^hsl\\("+[a,o,o]+"\\)$"),g=new RegExp("^hsla\\("+[a,o,o,a]+"\\)$"),p={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color(t){var e;return t=(t+"").trim().toLowerCase(),(e=s.exec(t))?new Rgb((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=c.exec(t))?rgbn(parseInt(e[1],16)):(e=u.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=l.exec(t))?new Rgb(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=f.exec(t))?rgba(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=h.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):p.hasOwnProperty(t)?rgbn(p[t]):"transparent"===t?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,255&t,1)}function rgba(t,e,n,i){return i<=0&&(t=e=n=NaN),new Rgb(t,e,n,i)}function rgbConvert(t){return t instanceof Color||(t=color(t)),t?new Rgb((t=t.rgb()).r,t.g,t.b,t.opacity):new Rgb}function rgb(t,e,n,i){return 1===arguments.length?rgbConvert(t):new Rgb(t,e,n,null==i?1:i)}function Rgb(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function hex(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function hsla(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,n,i)}function hsl(t,e,n,i){return 1===arguments.length?function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color(t)),!t)return new Hsl;if(t instanceof Hsl)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),o=NaN,s=a-r,c=(a+r)/2;return s?(o=e===a?(n-i)/s+6*(n<i):n===a?(i-e)/s+2:(e-n)/s+4,s/=c<.5?a+r:2-a-r,o*=60):s=0<c&&c<1?0:o,new Hsl(o,s,c,t.opacity)}(t):new Hsl(t,e,n,null==i?1:i)}function Hsl(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function hsl2rgb(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}i(Color,color,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),i(Rgb,rgb,extend(Color,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),i(Hsl,hsl,extend(Color,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Rgb(hsl2rgb(240<=t?t-240:t+120,r,i),hsl2rgb(t,r,i),hsl2rgb(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var m=Math.PI/180,x=180/Math.PI,_=.96422,v=1,y=.82521,b=4/29,T=6/29*3*(6/29),w=6/29*(6/29)*(6/29);function labConvert(t){if(t instanceof Lab)return new Lab(t.l,t.a,t.b,t.opacity);if(t instanceof Hcl){if(isNaN(t.h))return new Lab(t.l,0,0,t.opacity);var e=t.h*m;return new Lab(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Rgb||(t=rgbConvert(t));var n,i,r=rgb2lrgb(t.r),a=rgb2lrgb(t.g),o=rgb2lrgb(t.b),s=xyz2lab((.2225045*r+.7168786*a+.0606169*o)/v);return r===a&&a===o?n=i=s:(n=xyz2lab((.4360747*r+.3850649*a+.1430804*o)/_),i=xyz2lab((.0139322*r+.0971045*a+.7141733*o)/y)),new Lab(116*s-16,500*(n-s),200*(s-i),t.opacity)}function gray(t,e){return new Lab(t,0,0,null==e?1:e)}function lab(t,e,n,i){return 1===arguments.length?labConvert(t):new Lab(t,e,n,null==i?1:i)}function Lab(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function xyz2lab(t){return w<t?Math.pow(t,1/3):t/T+b}function lab2xyz(t){return 6/29<t?t*t*t:T*(t-b)}function lrgb2rgb(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function rgb2lrgb(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hclConvert(t){if(t instanceof Hcl)return new Hcl(t.h,t.c,t.l,t.opacity);if(t instanceof Lab||(t=labConvert(t)),0===t.a&&0===t.b)return new Hcl(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*x;return new Hcl(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function lch(t,e,n,i){return 1===arguments.length?hclConvert(t):new Hcl(n,e,t,null==i?1:i)}function hcl(t,e,n,i){return 1===arguments.length?hclConvert(t):new Hcl(t,e,n,null==i?1:i)}function Hcl(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}i(Lab,lab,extend(Color,{brighter:function(t){return new Lab(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Lab(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(e=_*lab2xyz(e))-1.6168667*(t=v*lab2xyz(t))-.4906146*(n=y*lab2xyz(n))),lrgb2rgb(-.9787684*e+1.9161415*t+.033454*n),lrgb2rgb(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),i(Hcl,hcl,extend(Color,{brighter:function(t){return new Hcl(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Hcl(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return labConvert(this).rgb()}}));var A=-.29227,O=-.90649,S=1.97294,M=S*O,k=1.78277*S,C=1.78277*A- -.14861*O;function cubehelix(t,e,n,i){return 1===arguments.length?function cubehelixConvert(t){if(t instanceof Cubehelix)return new Cubehelix(t.h,t.s,t.l,t.opacity);t instanceof Rgb||(t=rgbConvert(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(C*i+M*e-k*n)/(C+M-k),a=i-r,o=(S*(n-r)-A*a)/O,s=Math.sqrt(o*o+a*a)/(S*r*(1-r)),c=s?Math.atan2(o,a)*x-120:NaN;return new Cubehelix(c<0?c+360:c,s,r,t.opacity)}(t):new Cubehelix(t,e,n,null==i?1:i)}function Cubehelix(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}i(Cubehelix,cubehelix,extend(Color,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*m,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Rgb(255*(e+n*(-.14861*i+1.78277*r)),255*(e+n*(A*i+O*r)),255*(e+n*(S*i)),this.opacity)}})),n.d(e,"color",function(){return color}),n.d(e,"rgb",function(){return rgb}),n.d(e,"hsl",function(){return hsl}),n.d(e,"lab",function(){return lab}),n.d(e,"hcl",function(){return hcl}),n.d(e,"lch",function(){return lch}),n.d(e,"gray",function(){return gray}),n.d(e,"cubehelix",function(){return cubehelix})},function(t,e,n){"use strict";var i=n(83),_=n(78),v=n(72),y=n(68),b=n(71),T=function(t){return function(){return t}};function ZoomEvent(t,e,n){this.target=t,this.type=e,this.transform=n}function Transform(t,e,n){this.k=t,this.x=e,this.y=n}Transform.prototype={constructor:Transform,scale:function(t){return 1===t?this:new Transform(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Transform(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var w=new Transform(1,0,0);function transform_transform(t){return t.__zoom||w}function nopropagation(){y.event.stopImmediatePropagation()}transform_transform.prototype=Transform.prototype;var A=function(){y.event.preventDefault(),y.event.stopImmediatePropagation()};function defaultFilter(){return!y.event.button}function defaultExtent(){var t,e,n=this;return e=n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,n.height.baseVal.value):(t=n.clientWidth,n.clientHeight),[[0,0],[t,e]]}function defaultTransform(){return this.__zoom||w}function defaultWheelDelta(){return-y.event.deltaY*(y.event.deltaMode?120:1)/500}function defaultTouchable(){return"ontouchstart"in this}function defaultConstrain(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i<r?(i+r)/2:Math.min(0,i)||Math.max(0,r),a<o?(a+o)/2:Math.min(0,a)||Math.max(0,o))}var r=function(){var h,a,s=defaultFilter,l=defaultExtent,g=defaultConstrain,r=defaultWheelDelta,e=defaultTouchable,o=[0,Infinity],p=[[-Infinity,-Infinity],[Infinity,Infinity]],c=250,d=v.interpolateZoom,u=[],n=Object(i.dispatch)("start","zoom","end"),f=500,m=150,x=0;function zoom(t){t.property("__zoom",defaultTransform).on("wheel.zoom",wheeled).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(e).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(t,e){return(e=Math.max(o[0],Math.min(o[1],e)))===t.k?t:new Transform(e,t.x,t.y)}function translate(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new Transform(t.k,i,r)}function centroid(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function schedule(t,c,u){t.on("start.zoom",function(){gesture(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){gesture(this,arguments).end()}).tween("zoom",function(){var t=arguments,i=gesture(this,t),e=l.apply(this,t),r=u||centroid(e),a=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),n=this.__zoom,o="function"==typeof c?c.apply(this,t):c,s=d(n.invert(r).concat(a/n.k),o.invert(r).concat(a/o.k));return function(t){if(1===t)t=o;else{var e=s(t),n=a/e[2];t=new Transform(n,r[0]-e[0]*n,r[1]-e[1]*n)}i.zoom(null,t)}})}function gesture(t,e){for(var n,i=0,r=u.length;i<r;++i)if((n=u[i]).that===t)return n;return new Gesture(t,e)}function Gesture(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=l.apply(t,e)}function wheeled(){if(s.apply(this,arguments)){var t=gesture(this,arguments),e=this.__zoom,n=Math.max(o[0],Math.min(o[1],e.k*Math.pow(2,r.apply(this,arguments)))),i=Object(y.mouse)(this);if(t.wheel)t.mouse[0][0]===i[0]&&t.mouse[0][1]===i[1]||(t.mouse[1]=e.invert(t.mouse[0]=i)),clearTimeout(t.wheel);else{if(e.k===n)return;t.mouse=[i,e.invert(i)],Object(b.interrupt)(this),t.start()}A(),t.wheel=setTimeout(function wheelidled(){t.wheel=null,t.end()},m),t.zoom("mouse",g(translate(scale(e,n),t.mouse[0],t.mouse[1]),t.extent,p))}}function mousedowned(){if(!a&&s.apply(this,arguments)){var n=gesture(this,arguments),t=Object(y.select)(y.event.view).on("mousemove.zoom",function mousemoved(){if(A(),!n.moved){var t=y.event.clientX-i,e=y.event.clientY-r;n.moved=x<t*t+e*e}n.zoom("mouse",g(translate(n.that.__zoom,n.mouse[0]=Object(y.mouse)(n.that),n.mouse[1]),n.extent,p))},!0).on("mouseup.zoom",function mouseupped(){t.on("mousemove.zoom mouseup.zoom",null),Object(_.dragEnable)(y.event.view,n.moved),A(),n.end()},!0),e=Object(y.mouse)(this),i=y.event.clientX,r=y.event.clientY;Object(_.dragDisable)(y.event.view),nopropagation(),n.mouse=[e,this.__zoom.invert(e)],Object(b.interrupt)(this),n.start()}}function dblclicked(){if(s.apply(this,arguments)){var t=this.__zoom,e=Object(y.mouse)(this),n=t.invert(e),i=t.k*(y.event.shiftKey?.5:2),r=g(translate(scale(t,i),e,n),l.apply(this,arguments),p);A(),0<c?Object(y.select)(this).transition().duration(c).call(schedule,r,e):Object(y.select)(this).call(zoom.transform,r)}}function touchstarted(){if(s.apply(this,arguments)){var t,e,n,i,r=gesture(this,arguments),a=y.event.changedTouches,o=a.length;for(nopropagation(),e=0;e<o;++e)n=a[e],i=[i=Object(y.touch)(this,a,n.identifier),this.__zoom.invert(i),n.identifier],r.touch0?r.touch1||(r.touch1=i):(r.touch0=i,t=!0);if(h&&(h=clearTimeout(h),!r.touch1))return r.end(),void((i=Object(y.select)(this).on("dblclick.zoom"))&&i.apply(this,arguments));t&&(h=setTimeout(function(){h=null},f),Object(b.interrupt)(this),r.start())}}function touchmoved(){var t,e,n,i,r=gesture(this,arguments),a=y.event.changedTouches,o=a.length;for(A(),h&&(h=clearTimeout(h)),t=0;t<o;++t)e=a[t],n=Object(y.touch)(this,a,e.identifier),r.touch0&&r.touch0[2]===e.identifier?r.touch0[0]=n:r.touch1&&r.touch1[2]===e.identifier&&(r.touch1[0]=n);if(e=r.that.__zoom,r.touch1){var s=r.touch0[0],c=r.touch0[1],u=r.touch1[0],l=r.touch1[1],d=(d=u[0]-s[0])*d+(d=u[1]-s[1])*d,f=(f=l[0]-c[0])*f+(f=l[1]-c[1])*f;e=scale(e,Math.sqrt(d/f)),n=[(s[0]+u[0])/2,(s[1]+u[1])/2],i=[(c[0]+l[0])/2,(c[1]+l[1])/2]}else{if(!r.touch0)return;n=r.touch0[0],i=r.touch0[1]}r.zoom("touch",g(translate(e,n,i),r.extent,p))}function touchended(){var t,e,n=gesture(this,arguments),i=y.event.changedTouches,r=i.length;for(nopropagation(),a&&clearTimeout(a),a=setTimeout(function(){a=null},f),t=0;t<r;++t)e=i[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}return zoom.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",defaultTransform),t!==n?schedule(t,e):n.interrupt().each(function(){gesture(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},zoom.scaleBy=function(t,e){zoom.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},zoom.scaleTo=function(t,a){zoom.transform(t,function(){var t=l.apply(this,arguments),e=this.__zoom,n=centroid(t),i=e.invert(n),r="function"==typeof a?a.apply(this,arguments):a;return g(translate(scale(e,r),n,i),t,p)})},zoom.translateBy=function(t,e,n){zoom.transform(t,function(){return g(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),l.apply(this,arguments),p)})},zoom.translateTo=function(t,i,r){zoom.transform(t,function(){var t=l.apply(this,arguments),e=this.__zoom,n=centroid(t);return g(w.translate(n[0],n[1]).scale(e.k).translate("function"==typeof i?-i.apply(this,arguments):-i,"function"==typeof r?-r.apply(this,arguments):-r),t,p)})},Gesture.prototype={start:function(){return 1==++this.active&&(this.index=u.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(u.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Object(y.customEvent)(new ZoomEvent(zoom,t,this.that.__zoom),n.apply,n,[t,this.that,this.args])}},zoom.wheelDelta=function(t){return arguments.length?(r="function"==typeof t?t:T(+t),zoom):r},zoom.filter=function(t){return arguments.length?(s="function"==typeof t?t:T(!!t),zoom):s},zoom.touchable=function(t){return arguments.length?(e="function"==typeof t?t:T(!!t),zoom):e},zoom.extent=function(t){return arguments.length?(l="function"==typeof t?t:T([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),zoom):l},zoom.scaleExtent=function(t){return arguments.length?(o[0]=+t[0],o[1]=+t[1],zoom):[o[0],o[1]]},zoom.translateExtent=function(t){return arguments.length?(p[0][0]=+t[0][0],p[1][0]=+t[1][0],p[0][1]=+t[0][1],p[1][1]=+t[1][1],zoom):[[p[0][0],p[0][1]],[p[1][0],p[1][1]]]},zoom.constrain=function(t){return arguments.length?(g=t,zoom):g},zoom.duration=function(t){return arguments.length?(c=+t,zoom):c},zoom.interpolate=function(t){return arguments.length?(d=t,zoom):d},zoom.on=function(){var t=n.on.apply(n,arguments);return t===n?zoom:t},zoom.clickDistance=function(t){return arguments.length?(x=(t=+t)*t,zoom):Math.sqrt(x)},zoom};n.d(e,"zoom",function(){return r}),n.d(e,"zoomTransform",function(){return transform_transform}),n.d(e,"zoomIdentity",function(){return w})},function(t,e,n){"use strict";var l=n(83),m=n(68);function nopropagation(){m.event.stopImmediatePropagation()}var d=function(){m.event.preventDefault(),m.event.stopImmediatePropagation()},f=function(t){var e=t.document.documentElement,n=Object(m.select)(t).on("dragstart.drag",d,!0);"onselectstart"in e?n.on("selectstart.drag",d,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function yesdrag(t,e){var n=t.document.documentElement,i=Object(m.select)(t).on("dragstart.drag",null);e&&(i.on("click.drag",d,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var x=function(t){return function(){return t}};function DragEvent(t,e,n,i,r,a,o,s,c,u){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=a,this.y=o,this.dx=s,this.dy=c,this._=u}function defaultFilter(){return!m.event.button}function defaultContainer(){return this.parentNode}function defaultSubject(t){return null==t?{x:m.event.x,y:m.event.y}:t}function defaultTouchable(){return"ontouchstart"in this}DragEvent.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var i=function(){var n,i,r,a,o=defaultFilter,s=defaultContainer,e=defaultSubject,c=defaultTouchable,h={},g=Object(l.dispatch)("start","drag","end"),p=0,u=0;function drag(t){t.on("mousedown.drag",mousedowned).filter(c).on("touchstart.drag",touchstarted).on("touchmove.drag",touchmoved).on("touchend.drag touchcancel.drag",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mousedowned(){if(!a&&o.apply(this,arguments)){var t=beforestart("mouse",s.apply(this,arguments),m.mouse,this,arguments);t&&(Object(m.select)(m.event.view).on("mousemove.drag",mousemoved,!0).on("mouseup.drag",mouseupped,!0),f(m.event.view),nopropagation(),r=!1,n=m.event.clientX,i=m.event.clientY,t("start"))}}function mousemoved(){if(d(),!r){var t=m.event.clientX-n,e=m.event.clientY-i;r=u<t*t+e*e}h.mouse("drag")}function mouseupped(){Object(m.select)(m.event.view).on("mousemove.drag mouseup.drag",null),yesdrag(m.event.view,r),d(),h.mouse("end")}function touchstarted(){if(o.apply(this,arguments)){var t,e,n=m.event.changedTouches,i=s.apply(this,arguments),r=n.length;for(t=0;t<r;++t)(e=beforestart(n[t].identifier,i,m.touch,this,arguments))&&(nopropagation(),e("start"))}}function touchmoved(){var t,e,n=m.event.changedTouches,i=n.length;for(t=0;t<i;++t)(e=h[n[t].identifier])&&(d(),e("drag"))}function touchended(){var t,e,n=m.event.changedTouches,i=n.length;for(a&&clearTimeout(a),a=setTimeout(function(){a=null},500),t=0;t<i;++t)(e=h[n[t].identifier])&&(nopropagation(),e("end"))}function beforestart(i,r,a,o,s){var c,u,l,d=a(r,i),f=g.copy();if(Object(m.customEvent)(new DragEvent(drag,"beforestart",c,i,p,d[0],d[1],0,0,f),function(){return null!=(m.event.subject=c=e.apply(o,s))&&(u=c.x-d[0]||0,l=c.y-d[1]||0,!0)}))return function gesture(t){var e,n=d;switch(t){case"start":h[i]=gesture,e=p++;break;case"end":delete h[i],--p;case"drag":d=a(r,i),e=p}Object(m.customEvent)(new DragEvent(drag,t,c,i,e,d[0]+u,d[1]+l,d[0]-n[0],d[1]-n[1],f),f.apply,f,[t,o,s])}}return drag.filter=function(t){return arguments.length?(o="function"==typeof t?t:x(!!t),drag):o},drag.container=function(t){return arguments.length?(s="function"==typeof t?t:x(t),drag):s},drag.subject=function(t){return arguments.length?(e="function"==typeof t?t:x(t),drag):e},drag.touchable=function(t){return arguments.length?(c="function"==typeof t?t:x(!!t),drag):c},drag.on=function(){var t=g.on.apply(g,arguments);return t===g?drag:t},drag.clickDistance=function(t){return arguments.length?(u=(t=+t)*t,drag):Math.sqrt(u)},drag};n.d(e,"drag",function(){return i}),n.d(e,"dragDisable",function(){return f}),n.d(e,"dragEnable",function(){return yesdrag})},function(t,e,n){"use strict";var d={},f={};function objectConverter(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var i=function(i){var e=new RegExp('["'+i+"\n\r]"),l=i.charCodeAt(0);function parseRows(i,t){var e,n=[],r=i.length,a=0,o=0,s=r<=0,c=!1;function token(){if(s)return f;if(c)return c=!1,d;var t,e,n=a;if(34===i.charCodeAt(n)){for(;a++<r&&34!==i.charCodeAt(a)||34===i.charCodeAt(++a););return(t=a)>=r?s=!0:10===(e=i.charCodeAt(a++))?c=!0:13===e&&(c=!0,10===i.charCodeAt(a)&&++a),i.slice(n+1,t-1).replace(/""/g,'"')}for(;a<r;){if(10===(e=i.charCodeAt(t=a++)))c=!0;else if(13===e)c=!0,10===i.charCodeAt(a)&&++a;else if(e!==l)continue;return i.slice(n,t)}return s=!0,i.slice(n,r)}for(10===i.charCodeAt(r-1)&&--r,13===i.charCodeAt(r-1)&&--r;(e=token())!==f;){for(var u=[];e!==d&&e!==f;)u.push(e),e=token();t&&null==(u=t(u,o++))||n.push(u)}return n}function formatRow(t){return t.map(formatValue).join(i)}function formatValue(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function parse(t,n){var i,r,e=parseRows(t,function(t,e){if(i)return i(t,e-1);r=t,i=n?function customConverter(n,i){var r=objectConverter(n);return function(t,e){return i(r(t),e,n)}}(t,n):objectConverter(t)});return e.columns=r||[],e},parseRows:parseRows,format:function format(t,n){return null==n&&(n=function inferColumns(t){var n=Object.create(null),i=[];return t.forEach(function(t){for(var e in t)e in n||i.push(n[e]=e)}),i}(t)),[n.map(formatValue).join(i)].concat(t.map(function(e){return n.map(function(t){return formatValue(e[t])}).join(i)})).join("\n")},formatRows:function formatRows(t){return t.map(formatRow).join("\n")}}},r=i(","),a=r.parse,o=r.parseRows,s=(r.format,r.formatRows,i("\t")),c=s.parse,u=s.parseRows,l=(s.format,s.formatRows,n(75)),h=n(3),g=n(15);Object(g.extend)(h["default"].prototype,{convertUrlToData:function convertUrlToData(e){var n=this,i=1<arguments.length&&arguments[1]!==undefined?arguments[1]:"csv",t=2<arguments.length?arguments[2]:undefined,r=3<arguments.length?arguments[3]:undefined,a=4<arguments.length?arguments[4]:undefined,o=new XMLHttpRequest;if(t)for(var s,c=Object.keys(t),u=0;u<c.length;u++)s=c[u],o.setRequestHeader(s,t[s]);o.open("GET",e),o.onreadystatechange=function(){if(4===o.readyState){if(200!==o.status)throw new Error("".concat(e,": Something went wrong loading!"));var t=o.responseText;t&&a.call(n,n["convert".concat(Object(g.capitalize)(i),"ToData")]("json"===i?JSON.parse(t):t,r))}},o.send()},_convertCsvTsvToData:function _convertCsvTsvToData(t,e){var n,i=t.rows(e);return 1===i.length?(n=[{}],i[0].forEach(function(t){n[0][t]=null})):n=t.parse(e),n},convertCsvToData:function convertCsvToData(t){return this._convertCsvTsvToData({rows:o,parse:a},t)},convertTsvToData:function convertTsvToData(t){return this._convertCsvTsvToData({rows:u,parse:c},t)},convertJsonToData:function convertJsonToData(n,t){var l,e,d=this,i=this.config,f=[];if(Object(g.isArray)(n)){var r=t||i.data_keys;r.x?(l=r.value.concat(r.x),i.data_x=r.x):l=r.value,f.push(l),n.forEach(function(t){var e=[],n=!0,i=!1,r=undefined;try{for(var a,o=l[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,c=d.findValueInJson(t,s);Object(g.isUndefined)(c)&&(c=null),e.push(c)}}catch(u){i=!0,r=u}finally{try{n||null==o["return"]||o["return"]()}finally{if(i)throw r}}f.push(e)}),e=this.convertRowsToData(f)}else Object.keys(n).forEach(function(t){var e=n[t].concat();e.unshift(t),f.push(e)}),e=this.convertColumnsToData(f);return e},findValueInJson:function findValueInJson(t,e){if(t[e]!==undefined)return t[e];var n=e.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),i=t,r=!0,a=!1,o=undefined;try{for(var s,c=n[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=s.value;if(!(u in i)){i=undefined;break}i=i[u]}}catch(l){a=!0,o=l}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return i},convertRowsToData:function convertRowsToData(t){for(var e=t[0],n=[],i=1,r=t.length;i<r;i++){for(var a={},o=0,s=t[i].length;o<s;o++){if(Object(g.isUndefined)(t[i][o]))throw new Error("Source data is missing a component at (".concat(i,", ").concat(o,")!"));a[e[o]]=t[i][o]}n.push(a)}return n},convertColumnsToData:function convertColumnsToData(t){for(var e=[],n=0,i=t.length;n<i;n++)for(var r=t[n][0],a=1,o=t[n].length;a<o;a++){if(Object(g.isUndefined)(e[a-1])&&(e[a-1]={}),Object(g.isUndefined)(t[n][a]))throw new Error("Source data is missing a component at (".concat(n,", ").concat(a,")!"));e[a-1][r]=t[n][a]}return e},convertDataToTargets:function convertDataToTargets(t,i){var r,a=this,d=this,f=d.config,e=Object(l.keys)(t[0]).filter(d.isNotX,d),o=Object(l.keys)(t[0]).filter(d.isX,d);e.forEach(function(n){var e=a.getXKey(n);a.isCustomX()||a.isTimeSeries()?0<=o.indexOf(e)?r=(i&&d.data.xs[n]||[]).concat(t.map(function(t){return t[e]}).filter(g.isValue).map(function(t,e){return d.generateTargetX(t,n,e)})):f.data_x?r=a.getOtherTargetXs():Object(g.notEmpty)(f.data_xs)&&(r=d.getXValuesOfXKey(e,d.data.targets)):r=t.map(function(t,e){return e}),r&&(a.data.xs[n]=r)}),e.forEach(function(t){if(!r)throw new Error('x is not defined for id = "'.concat(t,'".'))});var n=e.map(function(a,o){var s=f.data_idConverter(a),c=d.getXKey(a),u=d.isCustomX()&&d.isCategorized(),l=u&&t.map(function(t){return t.x}).every(function(t){return-1<f.axis_x_categories.indexOf(t)});return{id:s,id_org:a,values:t.map(function(t,e){var n,i=t[c],r=t[a];return r=null===r||isNaN(r)?Object(g.isArray)(r)||Object(g.isObject)(r)&&r.high?r:null:+t[a],u&&0===o&&!Object(g.isUndefined)(i)?(!l&&0===o&&0===e&&(f.axis_x_categories=[]),-1===(n=f.axis_x_categories.indexOf(i))&&(n=f.axis_x_categories.length,f.axis_x_categories.push(i))):n=d.generateTargetX(i,a,e),(Object(g.isUndefined)(t[a])||d.data.xs[a].length<=e)&&(n=undefined),{x:n,value:r,id:s}}).filter(function(t){return Object(g.isDefined)(t.x)})}});return n.forEach(function(t){f.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:Infinity)-(e.x||0===e.x?e.x:Infinity)})),t.values.forEach(function(t,e){var n=d.data.targets?d.getIndexByX(t.x):null;t.index=null===n?e:n}),d.data.xs[t.id].sort(function(t,e){return t-e})}),d.hasNegativeValue=d.hasNegativeValueInTargets(n),d.hasPositiveValue=d.hasPositiveValueInTargets(n),f.data_type&&d.setTargetType(d.mapToIds(n).filter(function(t){return!(t in f.data_types)}),f.data_type),n.forEach(function(t){return d.addCache(t.id_org,t,!0)}),n}})},function(t,e,n){"use strict";var T=n(73);function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newYear(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function formatLocale(t){var i=t.dateTime,r=t.date,a=t.time,e=t.periods,n=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,u=formatRe(e),l=formatLookup(e),d=formatRe(n),f=formatLookup(n),h=formatRe(o),g=formatLookup(o),p=formatRe(s),m=formatLookup(s),x=formatRe(c),_=formatLookup(c),v={a:function formatShortWeekday(t){return o[t.getDay()]},A:function formatWeekday(t){return n[t.getDay()]},b:function formatShortMonth(t){return c[t.getMonth()]},B:function formatMonth(t){return s[t.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function formatPeriod(t){return e[+(12<=t.getHours())]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},y={a:function formatUTCShortWeekday(t){return o[t.getUTCDay()]},A:function formatUTCWeekday(t){return n[t.getUTCDay()]},b:function formatUTCShortMonth(t){return c[t.getUTCMonth()]},B:function formatUTCMonth(t){return s[t.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function formatUTCPeriod(t){return e[+(12<=t.getUTCHours())]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},b={a:function parseShortWeekday(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=g[i[0].toLowerCase()],n+i[0].length):-1},A:function parseWeekday(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},b:function parseShortMonth(t,e,n){var i=x.exec(e.slice(n));return i?(t.m=_[i[0].toLowerCase()],n+i[0].length):-1},B:function parseMonth(t,e,n){var i=p.exec(e.slice(n));return i?(t.m=m[i[0].toLowerCase()],n+i[0].length):-1},c:function parseLocaleDateTime(t,e,n){return parseSpecifier(t,i,e,n)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function parsePeriod(t,e,n){var i=u.exec(e.slice(n));return i?(t.p=l[i[0].toLowerCase()],n+i[0].length):-1},Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function parseLocaleDate(t,e,n){return parseSpecifier(t,r,e,n)},X:function parseLocaleTime(t,e,n){return parseSpecifier(t,a,e,n)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(c,u){return function(t){var e,n,i,r=[],a=-1,o=0,s=c.length;for(t instanceof Date||(t=new Date(+t));++a<s;)37===c.charCodeAt(a)&&(r.push(c.slice(o,a)),null!=(n=w[e=c.charAt(++a)])?e=c.charAt(++a):n="e"===e?" ":"0",(i=u[e])&&(e=i(t,n)),r.push(e),o=a+1);return r.push(c.slice(o,a)),r.join("")}}function newParse(r,a){return function(t){var e,n,i=newYear(1900);if(parseSpecifier(i,r,t+="",0)!=t.length)return null;if("Q"in i)return new Date(i.Q);if("p"in i&&(i.H=i.H%12+12*i.p),"V"in i){if(i.V<1||53<i.V)return null;"w"in i||(i.w=1),i.d="Z"in i?(e=4<(n=(e=utcDate(newYear(i.y))).getUTCDay())||0===n?T.utcMonday.ceil(e):Object(T.utcMonday)(e),e=T.utcDay.offset(e,7*(i.V-1)),i.y=e.getUTCFullYear(),i.m=e.getUTCMonth(),e.getUTCDate()+(i.w+6)%7):(e=4<(n=(e=a(newYear(i.y))).getDay())||0===n?T.timeMonday.ceil(e):Object(T.timeMonday)(e),e=T.timeDay.offset(e,7*(i.V-1)),i.y=e.getFullYear(),i.m=e.getMonth(),e.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),n="Z"in i?utcDate(newYear(i.y)).getUTCDay():a(newYear(i.y)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(n+5)%7:i.w+7*i.U-(n+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,utcDate(i)):a(i)}}function parseSpecifier(t,e,n,i){for(var r,a,o=0,s=e.length,c=n.length;o<s;){if(c<=i)return-1;if(37===(r=e.charCodeAt(o++))){if(r=e.charAt(o++),!(a=b[r in w?e.charAt(o++):r])||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return v.x=newFormat(r,v),v.X=newFormat(a,v),v.c=newFormat(i,v),y.x=newFormat(r,y),y.X=newFormat(a,y),y.c=newFormat(i,y),{format:function(t){var e=newFormat(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=newParse(t+="",localDate);return e.toString=function(){return t},e},utcFormat:function(t){var e=newFormat(t+="",y);return e.toString=function(){return t},e},utcParse:function(t){var e=newParse(t,utcDate);return e.toString=function(){return t},e}}}var i,r,a,o,s,w={"-":"",_:" ",0:"0"},c=/^\s*\d+/,u=/^%/,l=/[\\^$*+?|[\]().{}]/g;function pad(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function requote(t){return t.replace(l,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function parseWeekdayNumberSunday(t,e,n){var i=c.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function parseWeekdayNumberMonday(t,e,n){var i=c.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function parseWeekNumberSunday(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function parseWeekNumberISO(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function parseWeekNumberMonday(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function parseFullYear(t,e,n){var i=c.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function parseYear(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(68<+i[0]?1900:2e3),n+i[0].length):-1}function parseZone(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function parseMonthNumber(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function parseDayOfMonth(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function parseDayOfYear(t,e,n){var i=c.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function parseHour24(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function parseMinutes(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function parseSeconds(t,e,n){var i=c.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function parseMilliseconds(t,e,n){var i=c.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function parseMicroseconds(t,e,n){var i=c.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function parseLiteralPercent(t,e,n){var i=u.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function parseUnixTimestamp(t,e,n){var i=c.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function parseUnixTimestampSeconds(t,e,n){var i=c.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function formatDayOfMonth(t,e){return pad(t.getDate(),e,2)}function formatHour24(t,e){return pad(t.getHours(),e,2)}function formatHour12(t,e){return pad(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad(1+T.timeDay.count(Object(T.timeYear)(t),t),e,3)}function formatMilliseconds(t,e){return pad(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return 0===e?7:e}function formatWeekNumberSunday(t,e){return pad(T.timeSunday.count(Object(T.timeYear)(t),t),e,2)}function formatWeekNumberISO(t,e){var n=t.getDay();return t=4<=n||0===n?Object(T.timeThursday)(t):T.timeThursday.ceil(t),pad(T.timeThursday.count(Object(T.timeYear)(t),t)+(4===Object(T.timeYear)(t).getDay()),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad(T.timeMonday.count(Object(T.timeYear)(t),t),e,2)}function formatYear(t,e){return pad(t.getFullYear()%100,e,2)}function formatFullYear(t,e){return pad(t.getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+pad(e/60|0,"0",2)+pad(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad(1+T.utcDay.count(Object(T.utcYear)(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return 0===e?7:e}function formatUTCWeekNumberSunday(t,e){return pad(T.utcSunday.count(Object(T.utcYear)(t),t),e,2)}function formatUTCWeekNumberISO(t,e){var n=t.getUTCDay();return t=4<=n||0===n?Object(T.utcThursday)(t):T.utcThursday.ceil(t),pad(T.utcThursday.count(Object(T.utcYear)(t),t)+(4===Object(T.utcYear)(t).getUTCDay()),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad(T.utcMonday.count(Object(T.utcYear)(t),t),e,2)}function formatUTCYear(t,e){return pad(t.getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}function defaultLocale(t){return i=formatLocale(t),r=i.format,a=i.parse,o=i.utcFormat,s=i.utcParse,i}defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var d="%Y-%m-%dT%H:%M:%S.%LZ";var f=Date.prototype.toISOString?function formatIsoNative(t){return t.toISOString()}:o(d);var h=+new Date("2000-01-01T00:00:00.000Z")?function parseIsoNative(t){var e=new Date(t);return isNaN(e)?null:e}:s(d);n.d(e,"timeFormatDefaultLocale",function(){return defaultLocale}),n.d(e,"timeFormat",function(){return r}),n.d(e,"timeParse",function(){return a}),n.d(e,"utcFormat",function(){return o}),n.d(e,"utcParse",function(){return s}),n.d(e,"timeFormatLocale",function(){return formatLocale}),n.d(e,"isoFormat",function(){return f}),n.d(e,"isoParse",function(){return h})},function(t,e,n){"use strict";var r=n(83),I=n(78),s=n(72),E=n(68),X=n(71),a=function(t){return function(){return t}},o=function(t,e,n){this.target=t,this.type=e,this.selection=n};function nopropagation(){E.event.stopImmediatePropagation()}var z=function(){E.event.preventDefault(),E.event.stopImmediatePropagation()},N={name:"drag"},P={name:"space"},Y={name:"handle"},B={name:"center"},V={name:"x",handles:["e","w"].map(brush_type),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},U={name:"y",handles:["n","s"].map(brush_type),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},i={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(brush_type),input:function(t){return t},output:function(t){return t}},H={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},W={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},G={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},q={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Z={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function brush_type(t){return{type:t}}function defaultFilter(){return!E.event.button}function defaultExtent(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function local(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function empty(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function brushSelection(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function brushX(){return brush_brush(V)}function brushY(){return brush_brush(U)}var c=function(){return brush_brush(i)};function brush_brush(D){var F,e=defaultExtent,R=defaultFilter,n=Object(r.dispatch)(brush,"start","brush","end"),i=6;function brush(t){var e=t.property("__brush",initialize).selectAll(".overlay").data([brush_type("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",H.overlay).merge(e).each(function(){var t=local(this).extent;Object(E.select)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([brush_type("selection")]).enter().append("rect").attr("class","selection").attr("cursor",H.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(D.handles,function(t){return t.type});n.exit().remove(),n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return H[t.type]}),t.each(redraw).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",started)}function redraw(){var t=Object(E.select)(this),e=local(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-i/2:e[0][0]-i/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-i/2:e[0][1]-i/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+i:i}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+i:i})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function emitter(t,e){return t.__brush.emitter||new Emitter(t,e)}function Emitter(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function started(){if(E.event.touches){if(E.event.changedTouches.length<E.event.touches.length)return z()}else if(F)return;if(R.apply(this,arguments)){var e,n,i,r,a,o,s,c,u,l,d,f,h,g=this,p=E.event.target.__data__.type,m="selection"===(E.event.metaKey?p="overlay":p)?N:E.event.altKey?B:Y,x=D===U?null:q[p],_=D===V?null:Z[p],v=local(g),t=v.extent,y=v.selection,b=t[0][0],T=t[0][1],w=t[1][0],A=t[1][1],O=x&&_&&E.event.shiftKey,S=Object(E.mouse)(g),M=S,k=emitter(g,arguments).beforestart();"overlay"===p?v.selection=y=[[e=D===U?b:S[0],i=D===V?T:S[1]],[a=D===U?w:e,s=D===V?A:i]]:(e=y[0][0],i=y[0][1],a=y[1][0],s=y[1][1]),n=e,r=i,o=a,c=s;var C=Object(E.select)(g).attr("pointer-events","none"),L=C.selectAll(".overlay").attr("cursor",H[p]);if(E.event.touches)C.on("touchmove.brush",moved,!0).on("touchend.brush touchcancel.brush",ended,!0);else{var j=Object(E.select)(E.event.view).on("keydown.brush",function keydowned(){switch(E.event.keyCode){case 16:O=x&&_;break;case 18:m===Y&&(x&&(a=o-u*x,e=n+u*x),_&&(s=c-l*_,i=r+l*_),m=B,move());break;case 32:m!==Y&&m!==B||(x<0?a=o-u:0<x&&(e=n-u),_<0?s=c-l:0<_&&(i=r-l),m=P,L.attr("cursor",H.selection),move());break;default:return}z()},!0).on("keyup.brush",function keyupped(){switch(E.event.keyCode){case 16:O&&(f=h=O=!1,move());break;case 18:m===B&&(x<0?a=o:0<x&&(e=n),_<0?s=c:0<_&&(i=r),m=Y,move());break;case 32:m===P&&(m=E.event.altKey?(x&&(a=o-u*x,e=n+u*x),_&&(s=c-l*_,i=r+l*_),B):(x<0?a=o:0<x&&(e=n),_<0?s=c:0<_&&(i=r),Y),L.attr("cursor",H[p]),move());break;default:return}z()},!0).on("mousemove.brush",moved,!0).on("mouseup.brush",ended,!0);Object(I.dragDisable)(E.event.view)}nopropagation(),Object(X.interrupt)(g),redraw.call(g),k.start()}function moved(){var t=Object(E.mouse)(g);!O||f||h||(Math.abs(t[0]-M[0])>Math.abs(t[1]-M[1])?h=!0:f=!0),M=t,d=!0,z(),move()}function move(){var t;switch(u=M[0]-S[0],l=M[1]-S[1],m){case P:case N:x&&(u=Math.max(b-e,Math.min(w-a,u)),n=e+u,o=a+u),_&&(l=Math.max(T-i,Math.min(A-s,l)),r=i+l,c=s+l);break;case Y:x<0?(u=Math.max(b-e,Math.min(w-e,u)),n=e+u,o=a):0<x&&(u=Math.max(b-a,Math.min(w-a,u)),n=e,o=a+u),_<0?(l=Math.max(T-i,Math.min(A-i,l)),r=i+l,c=s):0<_&&(l=Math.max(T-s,Math.min(A-s,l)),r=i,c=s+l);break;case B:x&&(n=Math.max(b,Math.min(w,e-u*x)),o=Math.max(b,Math.min(w,a+u*x))),_&&(r=Math.max(T,Math.min(A,i-l*_)),c=Math.max(T,Math.min(A,s+l*_)))}o<n&&(x*=-1,t=e,e=a,a=t,t=n,n=o,o=t,p in W&&L.attr("cursor",H[p=W[p]])),c<r&&(_*=-1,t=i,i=s,s=t,t=r,r=c,c=t,p in G&&L.attr("cursor",H[p=G[p]])),v.selection&&(y=v.selection),f&&(n=y[0][0],o=y[1][0]),h&&(r=y[0][1],c=y[1][1]),y[0][0]===n&&y[0][1]===r&&y[1][0]===o&&y[1][1]===c||(v.selection=[[n,r],[o,c]],redraw.call(g),k.brush())}function ended(){if(nopropagation(),E.event.touches){if(E.event.touches.length)return;F&&clearTimeout(F),F=setTimeout(function(){F=null},500),C.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Object(I.dragEnable)(E.event.view,d),j.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);C.attr("pointer-events","all"),L.attr("cursor",H.overlay),v.selection&&(y=v.selection),empty(y)&&(v.selection=null,redraw.call(g)),k.end()}}function initialize(){var t=this.__brush||{selection:null};return t.extent=e.apply(this,arguments),t.dim=D,t}return brush.move=function(t,o){t.selection?t.on("start.brush",function(){emitter(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){emitter(this,arguments).end()}).tween("brush",function(){var e=this,n=e.__brush,i=emitter(e,arguments),t=n.selection,r=D.input("function"==typeof o?o.apply(this,arguments):o,n.extent),a=Object(s.interpolate)(t,r);function tween(t){n.selection=1===t&&empty(r)?null:a(t),redraw.call(e),i.brush()}return t&&r?tween:tween(1)}):t.each(function(){var t=arguments,e=this.__brush,n=D.input("function"==typeof o?o.apply(this,t):o,e.extent),i=emitter(this,t).beforestart();Object(X.interrupt)(this),e.selection=null==n||empty(n)?null:n,redraw.call(this),i.start().brush().end()})},Emitter.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Object(E.customEvent)(new o(brush,t,D.output(this.state.selection)),n.apply,n,[t,this.that,this.args])}},brush.extent=function(t){return arguments.length?(e="function"==typeof t?t:a([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),brush):e},brush.filter=function(t){return arguments.length?(R="function"==typeof t?t:a(!!t),brush):R},brush.handleSize=function(t){return arguments.length?(i=+t,brush):i},brush.on=function(){var t=n.on.apply(n,arguments);return t===n?brush:t},brush}n.d(e,"brush",function(){return c}),n.d(e,"brushX",function(){return brushX}),n.d(e,"brushY",function(){return brushY}),n.d(e,"brushSelection",function(){return brushSelection})},function(t,e,n){"use strict";var i=n(2),r=n.n(i),a=function Options(){r()(this,Options),this.value={bindto:"#chart",clipPath:!0,svg_classname:undefined,size_width:undefined,size_height:undefined,padding_left:undefined,padding_right:undefined,padding_top:undefined,padding_bottom:undefined,resize_auto:!0,zoom_enabled:undefined,zoom_extent:undefined,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:undefined,zoom_onzoomstart:undefined,zoom_onzoomend:undefined,zoom_resetButton:!0,zoom_x_min:undefined,zoom_x_max:undefined,interaction_enabled:!0,interaction_brighten:!0,interaction_inputType_mouse:!0,interaction_inputType_touch:{},onover:function onover(){},onout:function onout(){},onresize:function onresize(){},onresized:function onresized(){},onbeforeinit:undefined,oninit:function oninit(){},onafterinit:undefined,onrendered:undefined,transition_duration:350,data_x:undefined,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function data_idConverter(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:undefined,data_types:{},data_labels:{},data_labels_position:{},data_order:"desc",data_regions:{},data_color:undefined,data_colors:{},data_hide:!1,data_filter:undefined,data_stack_normalize:!1,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function data_selection_isselectable(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function data_onclick(){},data_onover:function data_onover(){},data_onout:function data_onout(){},data_onselected:function data_onselected(){},data_onunselected:function data_onunselected(){},data_onmin:undefined,data_onmax:undefined,data_url:undefined,data_headers:undefined,data_json:undefined,data_rows:undefined,data_columns:undefined,data_mimeType:undefined,data_keys:undefined,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function subchart_onbrush(){},color_pattern:[],color_tiles:undefined,color_threshold:{},legend_show:!0,legend_hide:!1,legend_contents_bindto:undefined,legend_contents_template:undefined,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:undefined,legend_item_onclick:undefined,legend_item_onover:undefined,legend_item_onout:undefined,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,legend_usePoint:!1,axis_rotated:!1,axis_x_clipPath:!0,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:undefined,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:undefined,axis_x_tick_text_position:{x:0,y:0},axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_tick_tooltip:!1,axis_x_max:undefined,axis_x_min:undefined,axis_x_padding:{},axis_x_height:undefined,axis_x_extent:undefined,axis_x_label:{},axis_y_clipPath:!0,axis_y_show:!0,axis_y_type:undefined,axis_y_max:undefined,axis_y_min:undefined,axis_y_inverted:!1,axis_y_center:undefined,axis_y_inner:!1,axis_y_label:{},axis_y_tick_format:undefined,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:undefined,axis_y_tick_text_position:{x:0,y:0},axis_y_tick_time_value:undefined,axis_y_padding:{},axis_y_default:undefined,axis_y2_show:!1,axis_y2_max:undefined,axis_y2_min:undefined,axis_y2_inverted:!1,axis_y2_center:undefined,axis_y2_inner:!1,axis_y2_label:{},axis_y2_tick_format:undefined,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:undefined,axis_y2_tick_text_position:{x:0,y:0},axis_y2_padding:{},axis_y2_default:undefined,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_front:!1,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:undefined,point_pattern:[],point_select_r:undefined,point_type:"circle",line_connectNull:!1,line_step_type:"step",line_classes:undefined,line_point:!0,bar_padding:0,bar_radius:undefined,bar_radius_ratio:undefined,bar_width:undefined,bar_width_ratio:.6,bar_width_max:undefined,bar_zerobased:!0,bubble_maxR:35,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:undefined,pie_label_threshold:.05,pie_label_ratio:undefined,pie_expand:{},pie_expand_duration:50,pie_innerRadius:0,pie_padAngle:0,pie_padding:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:undefined,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:undefined,gauge_units:undefined,gauge_width:undefined,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:undefined,donut_label_threshold:.05,donut_label_ratio:undefined,donut_width:undefined,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",radar_axis_max:undefined,radar_axis_line_show:!0,radar_axis_text_show:!0,radar_level_depth:3,radar_level_show:!0,radar_level_text_format:function radar_level_text_format(t){return t%1==0?t:t.toFixed(2)},radar_level_text_show:!0,radar_size_ratio:.87,radar_direction_clockwise:!1,regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:undefined,tooltip_format_name:undefined,tooltip_format_value:undefined,tooltip_position:undefined,tooltip_contents:function tooltip_contents(t,e,n,i){return this.getTooltipContent?this.getTooltipContent(t,e,n,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_linked:!1,tooltip_linked_name:"",tooltip_onshow:function tooltip_onshow(){},tooltip_onhide:function tooltip_onhide(){},tooltip_onshown:function tooltip_onshown(){},tooltip_onhidden:function tooltip_onhidden(){},tooltip_order:null,title_text:undefined,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"}},o=n(3),s=n(15);Object(s.extend)(o["default"].prototype,{getOptions:function getOptions(){var t=new a;return Object(s.merge)(t.value,this.additionalConfig)},additionalConfig:{},loadConfig:function loadConfig(e){var n,i,r,a=this.config,o=function(){var t=i.shift();return t&&n&&Object(s.isObjectType)(n)&&t in n?(n=n[t],o()):t?undefined:n};Object.keys(a).forEach(function(t){n=e,i=t.split("_"),r=o(),Object(s.isDefined)(r)&&(a[t]=r)})}})},function(t,e,n){"use strict";var a={value:function(){}};function dispatch(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new Dispatch(i)}function Dispatch(t){this._=t}function get(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function set(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=a,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(t,e){var n,i=this._,r=function parseTypenames(t,i){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}(t+"",i),a=-1,o=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=r[a]).type)i[n]=set(i[n],t.name,e);else if(null==e)for(n in i)i[n]=set(i[n],t.name,null);return this}for(;++a<o;)if((n=(t=r[a]).type)&&(n=get(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Dispatch(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,i,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(i=this._[t]).length;a<n;++a)i[a].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};var i=dispatch;n.d(e,"dispatch",function(){return i})},function(t,e,n){"use strict";var i=n(1),o=n(15),r=Object(o.isDefined)(window)&&window.Math===Math?window:Object(o.isDefined)(self)&&(self.Math===Math?self:Function("return this")());r.document;Object(o.extend)(i["default"].prototype,{resize:function resize(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},flush:function flush(t){var e=this.internal;e.zoomScale=null,t?e.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withLegend:!0}):e.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},destroy:function destroy(){var e=this,n=this.internal;return Object(o.notEmpty)(n)&&(n.charts.splice(n.charts.indexOf(this),1),Object(o.isDefined)(n.resizeTimeout)&&r.clearTimeout(n.resizeTimeout),r.removeEventListener("resize",n.resizeFunction),n.selectChart.classed("bb",!1).html(""),Object.keys(this).forEach(function(t){"internal"===t&&Object.keys(n).forEach(function(t){n[t]=null}),e[t]=null,delete e[t]})),null},config:function config(t,e,n){var i,r=this.internal,a=t&&t.replace(/\./g,"_");return a in r.config&&(Object(o.isDefined)(e)?(i=r.config[a]=e,n&&this.flush(!0)):i=r.config[a]),i}})}])});