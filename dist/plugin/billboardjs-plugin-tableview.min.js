/*!
 * Copyright (c) 2017 ~ present NAVER Corp.
 * billboard.js project is licensed under the MIT license
 *
 * billboard.js, JavaScript chart library
 * https://naver.github.io/billboard.js/
 *
 * @version 3.12.4-nightly-20240823004645
 * @requires billboard.js
 * @summary billboard.js plugin
 */(function(c,u){typeof exports=="object"&&typeof module=="object"?module.exports=u(require("d3-brush"),require("d3-selection")):typeof define=="function"&&define.amd?define("bb",["d3-brush","d3-selection"],u):typeof exports=="object"?exports.bb=u(require("d3-brush"),require("d3-selection")):(c.bb=c.bb||{},c.bb.plugin=c.bb.plugin||{},c.bb.plugin.tableview=u(c.d3,c.d3))})(this,function(j,c){return function(){"use strict";var u={853:function(e){e.exports=j},747:function(e){e.exports=c}},C={};function a(e){var t=C[e];if(t!==void 0)return t.exports;var n=C[e]={exports:{}};return u[e](n,n.exports,a),n.exports}(function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var p={};a.d(p,{default:function(){return fe}});var he=a(853),be=a(747);function R(){return typeof globalThis=="object"&&globalThis!==null&&globalThis.Object===Object&&globalThis||typeof global=="object"&&global!==null&&global.Object===Object&&global||typeof self=="object"&&self!==null&&self.Object===Object&&self||Function("return this")()}function q(e){const t=typeof(e==null?void 0:e.requestAnimationFrame)=="function"&&typeof(e==null?void 0:e.cancelAnimationFrame)=="function",n=typeof(e==null?void 0:e.requestIdleCallback)=="function"&&typeof(e==null?void 0:e.cancelIdleCallback)=="function",o=r=>setTimeout(r,1),i=r=>clearTimeout(r);return[t?e.requestAnimationFrame:o,t?e.cancelAnimationFrame:i,n?e.requestIdleCallback:o,n?e.cancelIdleCallback:i]}const m=R(),V=m==null?void 0:m.document,[pe,me,ge,_e]=q(m);var L=Object.defineProperty,S=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,M=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t)=>{for(var n in t||(t={}))U.call(t,n)&&M(e,n,t[n]);if(S)for(var n of S(t))z.call(t,n)&&M(e,n,t[n]);return e};const ve=e=>e||e===0,X=e=>typeof e=="function",g=e=>typeof e=="string",_=e=>typeof e=="number",Y=e=>typeof e=="undefined",A=e=>typeof e!="undefined",ye=e=>typeof e=="boolean",we=e=>Math.ceil(e/10)*10,Oe=e=>Math.ceil(e)+.5,xe=e=>e[1]-e[0],O=e=>typeof e=="object",H=e=>Y(e)||e===null||g(e)&&e.length===0||O(e)&&!(e instanceof Date)&&Object.keys(e).length===0||_(e)&&isNaN(e),k=e=>!H(e),x=e=>Array.isArray(e),v=e=>e&&!(e!=null&&e.nodeType)&&O(e)&&!x(e);function Ee(e,t,n){return A(e[t])?e[t]:n}function Pe(e,t){let n=!1;return Object.keys(e).forEach(o=>e[o]===t&&(n=!0)),n}function $e(e,t,...n){const o=X(e);return o&&e.call(t,...n),o}function Te(e,t){let n=0;const o=function(...i){!--n&&t.apply(this,...i)};"duration"in e?e.each(()=>++n).on("end",o):(++n,e.call(o))}function je(e){return g(e)?e.replace(/<(script|img)?/ig,"&lt;").replace(/(script)?>/ig,"&gt;"):e}function Ce(e,t,n=[-1,1],o=!1){if(!(!e||!g(t)))if(t.indexOf(`
`)===-1)e.text(t);else{const i=[e.text(),t].map(r=>r.replace(/[\s\n]/g,""));if(i[0]!==i[1]){const r=t.split(`
`),l=o?r.length-1:1;e.html(""),r.forEach((s,T)=>{e.append("tspan").attr("x",0).attr("dy",`${T===0?n[0]*l:n[1]}em`).text(s)})}}}function G(e){const{x:t,y:n,width:o,height:i}=e.getBBox();return[{x:t,y:n+i},{x:t,y:n},{x:t+o,y:n},{x:t+o,y:n+i}]}function Se(e){const{width:t,height:n}=e.getBoundingClientRect(),o=G(e),i=o[0].x,r=Math.min(o[0].y,o[1].y);return{x:i,y:r,width:t,height:n}}function Me(e,t){var n;const o=e&&((n=e.touches||e.sourceEvent&&e.sourceEvent.touches)==null?void 0:n[0]);let i=[0,0];try{i=d3Pointer(o||e,t)}catch(r){}return i.map(r=>isNaN(r)?0:r)}function K(e){const{event:t,$el:n}=e,o=n.subchart.main||n.main;let i;return t&&t.type==="brush"?i=t.selection:o&&(i=o.select(".bb-brush").node())&&(i=d3BrushSelection(i)),i}function De(e){return!("rect"in e)||"rect"in e&&e.hasAttribute("width")&&e.rect.width!==+e.getAttribute("width")?e.rect=e.getBoundingClientRect():e.rect}function Ae(e=!0,t=0,n=1e4){const o=window.crypto||window.msCrypto,i=o?t+o.getRandomValues(new Uint32Array(1))[0]%(n-t+1):Math.floor(Math.random()*(n-t)+t);return e?String(i):i}function N(e,t,n,o,i){if(n>o)return-1;const r=Math.floor((n+o)/2);let{x:l,w:s=0}=e[r];return i&&(l=e[r].y,s=e[r].h),t>=l&&t<=l+s?r:t<l?N(e,t,n,r-1,i):N(e,t,r+1,o,i)}function Ne(e){const t=K(e);return t?t[0]===t[1]:!0}function Ie(...e){const t=n=>{if(v(n)&&n.constructor){const o=new n.constructor;for(const i in n)o[i]=t(n[i]);return o}return n};return e.map(n=>t(n)).reduce((n,o)=>D(D({},n),o))}function W(e={},t){x(t)&&t.forEach(n=>W(e,n));for(const n in t)/^\d+$/.test(n)||n in e||(e[n]=t[n]);return e}const Fe=e=>e.charAt(0).toUpperCase()+e.slice(1);function Be(e,t="-"){return e.split(t).map((n,o)=>o?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()).join("")}const J=e=>[].slice.call(e);function Re(e,t,n){const{rootSelector:o="",sheet:i}=e,l=`${o} ${(s=>s.replace(/\s?(bb-)/g,".$1").replace(/\.+/g,"."))(t)} {${n.join(";")}}`;return i[i.insertRule?"insertRule":"addRule"](l,i.cssRules.length)}function qe(e){let t=[];return e.forEach(n=>{var o;try{n.cssRules&&n.cssRules.length&&(t=t.concat(J(n.cssRules)))}catch(i){(o=window.console)==null||o.warn(`Error while reading rules from ${n.href}: ${i.toString()}`)}}),t}function Ve(e){var t,n,o,i,r,l;return{x:((n=(t=window.pageXOffset)!=null?t:window.scrollX)!=null?n:0)+((o=e.scrollLeft)!=null?o:0),y:((r=(i=window.pageYOffset)!=null?i:window.scrollY)!=null?r:0)+((l=e.scrollTop)!=null?l:0)}}function Le(e){const t=e?e.transform:null,n=t&&t.baseVal;return n&&n.numberOfItems?n.getItem(0).matrix:{a:0,b:0,c:0,d:0,e:0,f:0}}function Ue(e){const t=e[0]instanceof Date,n=(t?e.map(Number):e).filter((o,i,r)=>r.indexOf(o)===i);return t?n.map(o=>new Date(o)):n}function ze(e){return e&&e.length?e.reduce((t,n)=>t.concat(n)):[]}function E(e,...t){if(!t.length||t.length===1&&!t[0])return e;const n=t.shift();return v(e)&&v(n)&&Object.keys(n).forEach(o=>{const i=n[o];v(i)?(!e[o]&&(e[o]={}),e[o]=E(e[o],i)):e[o]=x(i)?i.concat():i}),E(e,...t)}function Q(e,t=!0){let n;return e[0]instanceof Date?n=t?(o,i)=>o-i:(o,i)=>i-o:t&&!e.every(isNaN)?n=(o,i)=>o-i:t||(n=(o,i)=>o>i&&-1||o<i&&1||o===i&&0),e.concat().sort(n)}function Xe(e,t){let n=t.filter(o=>k(o));return n.length?_(n[0])?n=Math[e](...n):n[0]instanceof Date&&(n=Q(n,e==="min")[0]):n=void 0,n}const Ye=(e,t,n=1)=>{const o=[],i=Math.max(0,Math.ceil((t-e)/n))|0;for(let r=e;r<i;r++)o.push(e+r*n);return o},He={mouse:(()=>{const e=()=>({bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0});try{return new MouseEvent("t"),(t,n,o=e())=>{t.dispatchEvent(new MouseEvent(n,o))}}catch(t){return(n,o,i=e())=>{const r=V.createEvent("MouseEvent");r.initMouseEvent(o,i.bubbles,i.cancelable,m,0,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.dispatchEvent(r)}}})(),touch:(e,t,n)=>{const o=new Touch(E({identifier:Date.now(),target:e,radiusX:2.5,radiusY:2.5,rotationAngle:10,force:.5},n));e.dispatchEvent(new TouchEvent(t,{cancelable:!0,bubbles:!0,shiftKey:!0,touches:[o],targetTouches:[],changedTouches:[o]}))}};function y(e,t){let n=e;for(const o in t)n=n.replace(new RegExp(`{=${o}}`,"g"),t[o]);return n}function ke(e){var t;let n;if(e instanceof Date)n=e;else if(g(e)){const{config:o,format:i}=this;n=(t=i.dataTime(o.data_xFormat)(e))!=null?t:new Date(e)}else _(e)&&!isNaN(e)&&(n=new Date(+e));return(!n||isNaN(+n))&&console&&console.error&&console.error(`Failed to parse x '${e}' to Date object`),n}function Ge(){var e,t;return((e=document)==null?void 0:e.hidden)===!1||((t=document)==null?void 0:t.visibilityState)==="visible"}function Ke(e,t){const{DocumentTouch:n,matchMedia:o,navigator:i}=window;let r=!1;if(t)if(i&&"maxTouchPoints"in i)r=i.maxTouchPoints>0;else if("ontouchmove"in window||n&&document instanceof n)r=!0;else if(o!=null&&o("(pointer:coarse)").matches)r=!0;else{const s=i.userAgent;r=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(s)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(s)}return e&&((o==null?void 0:o("any-hover:hover").matches)||(o==null?void 0:o("any-pointer:fine").matches))&&"mouse"||r&&"touch"||"mouse"}function Z(e,t){t()===!1?requestAnimationFrame(()=>Z(e,t)):e()}function ee(e){const t=this.config;let n,o,i;const r=()=>{const l=o.shift();if(l&&n&&O(n)&&l in n)return n=n[l],r();if(!l)return n};Object.keys(t).forEach(l=>{n=e,o=l.split("_"),i=r(),A(i)&&(t[l]=i)}),this.api&&(this.state.orgConfig=e)}var te=Object.defineProperty,ne=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P=(e,t,n)=>ne(e,typeof t!="symbol"?t+"":t,n);class I{constructor(t={}){P(this,"$$"),P(this,"options"),this.options=t}$beforeInit(){}$init(){}$afterInit(){}$redraw(){}$willDestroy(){Object.keys(this).forEach(t=>{this[t]=null,delete this[t]})}}P(I,"version","3.12.4-nightly-20240823004645");const f={id:"__tableview-style__",class:"bb-tableview",rule:`.bb-tableview {
		border-collapse:collapse;
		border-spacing:0;
		background:#fff;
		min-width:100%;
		margin-top:10px;
		font-family:sans-serif;
		font-size:.9em;
	}
	.bb-tableview tr:hover {
		background:#eef7ff;
	}
	.bb-tableview thead tr {
		background:#f8f8f8;
	}
	.bb-tableview caption,.bb-tableview td,.bb-tableview th {
		text-align: center;
		border:1px solid silver;
		padding:.5em;
	}
	.bb-tableview caption {
		font-size:1.1em;
		font-weight:700;
		margin-bottom: -1px;
	}`},b={body:`<caption>{=title}</caption>
		<thead><tr>{=thead}</tr></thead>
		<tbody>{=tbody}</tbody>`,thead:'<th scope="col">{=title}</th>',tbodyHeader:'<th scope="row">{=value}</th>',tbody:"<td>{=value}</td>"};class oe{constructor(){return{selector:void 0,categoryTitle:"Category",categoryFormat:function(t){let n=t;return this.$$.axis.isCategorized()?n=this.$$.categoryName(t):this.$$.axis.isTimeSeries()&&(n=t.toLocaleDateString()),n},class:void 0,style:!0,title:void 0,updateOnToggle:!0,nullString:"-"}}}var ie=Object.defineProperty,re=Object.defineProperties,le=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,se=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,$=(e,t,n)=>t in e?ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ae=(e,t)=>{for(var n in t||(t={}))se.call(t,n)&&$(e,n,t[n]);if(F)for(var n of F(t))ce.call(t,n)&&$(e,n,t[n]);return e},ue=(e,t)=>re(e,le(t)),B=(e,t,n)=>$(e,typeof t!="symbol"?t+"":t,n);class fe extends I{constructor(t){return super(t),B(this,"config"),B(this,"element"),this.config=new oe,this}$beforeInit(){ee.call(this,this.options)}$init(){const{class:t,selector:n,style:o}=this.config;let i=document.querySelector(n||`.${t||f.class}`);if(!i){const r=this.$$.$el.chart.node();i=document.createElement("table"),r.parentNode.insertBefore(i,r.nextSibling)}if(i.tagName!=="TABLE"){const r=document.createElement("table");i.appendChild(r),i=r}if(o&&!document.getElementById(f.id)){const r=document.createElement("style");r.id=f.id,r.innerHTML=f.rule,(document.head||document.getElementsByTagName("head")[0]).appendChild(r)}i.classList.add(...[o&&f.class,t].filter(Boolean)),this.element=i}generateTable(){const{$$:t,config:n,element:o}=this,i=t.filterTargetsToShow(t.data.targets);let r=y(b.thead,{title:i.length?this.config.categoryTitle:""}),l="";const s=[];i.forEach(w=>{r+=y(b.thead,{title:w.id}),w.values.forEach((d,h)=>{s[h]||(s[h]=[d.x]),s[h].push(d.value)})}),s.forEach(w=>{l+=`<tr>${w.map((d,h)=>y(h?b.tbody:b.tbodyHeader,{value:h===0?n.categoryFormat.bind(this)(d):_(d)?d.toLocaleString():n.nullString})).join("")}</tr>`});const T=/(<\/?(script|img)[^>]*>|<[^>]+><\/[^>]+>)/ig,de=y(b.body,ue(ae({},n),{title:n.title||t.config.title_text||"",thead:r,tbody:l})).replace(T,"");o.innerHTML=de}$redraw(){const{state:t}=this.$$;!(t.resizing||!this.config.updateOnToggle&&t.toggling)&&this.generateTable()}$willDestroy(){var t,n;if((t=this.element.parentNode)==null||t.removeChild(this.element),this.$$.charts.length===1){const o=document.getElementById(f.id);(n=o==null?void 0:o.parentNode)==null||n.removeChild(o)}}}return p=p.default,p}()});
