/*!
 * Copyright (c) 2017 ~ present NAVER Corp.
 * billboard.js project is licensed under the MIT license
 *
 * billboard.js, JavaScript chart library
 * https://naver.github.io/billboard.js/
 *
 * @version 3.18.0-nightly-20260129005127
 * @requires billboard.js
 * @summary billboard.js plugin
 */(function(l,a){typeof exports=="object"&&typeof module=="object"?module.exports=a(require("d3-selection"),require("d3-brush")):typeof define=="function"&&define.amd?define("bb",["d3-selection","d3-brush"],a):typeof exports=="object"?exports.bb=a(require("d3-selection"),require("d3-brush")):(l.bb=l.bb||{},l.bb.plugin=l.bb.plugin||{},l.bb.plugin.bubblecompare=a(l.d3,l.d3))})(this,function(x,l){return(function(){"use strict";var a={747:(function(e){e.exports=x}),853:(function(e){e.exports=l})},v={};function u(e){var t=v[e];if(t!==void 0)return t.exports;var n=v[e]={exports:{}};return a[e](n,n.exports,u),n.exports}(function(){u.d=function(e,t){for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(function(){u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}})();var h={};u.d(h,{default:function(){return re}});var q=u(747),le=u(853);function I(){return typeof globalThis=="object"&&globalThis!==null&&globalThis.Object===Object&&globalThis||typeof global=="object"&&global!==null&&global.Object===Object&&global||typeof self=="object"&&self!==null&&self.Object===Object&&self||Function("return this")()}function S(e){const t=typeof(e==null?void 0:e.requestAnimationFrame)=="function"&&typeof(e==null?void 0:e.cancelAnimationFrame)=="function",n=typeof(e==null?void 0:e.requestIdleCallback)=="function"&&typeof(e==null?void 0:e.cancelIdleCallback)=="function",o=r=>setTimeout(r,1),i=r=>clearTimeout(r);return[t?e.requestAnimationFrame:o,t?e.cancelAnimationFrame:i,n?e.requestIdleCallback:o,n?e.cancelIdleCallback:i]}const p=I(),N=p==null?void 0:p.document,[ue,ae,fe,be]=S(p);var V=Object.defineProperty,O=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,R=(e,t,n)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))U.call(t,n)&&R(e,n,t[n]);if(O)for(var n of O(t))X.call(t,n)&&R(e,n,t[n]);return e};function P(e,t,n=!1){const o=i=>i[e?"getBoundingClientRect":"getBBox"]();return n?o(t):!("rect"in t)||"rect"in t&&t.hasAttribute("width")&&t.rect.width!==+(t.getAttribute("width")||0)?t.rect=o(t):t.rect}function $(e,t){for(let n=0;n<e.length;n++){const o=e[n];o&&t(o,n)}}const de=e=>e||e===0,Y=e=>typeof e=="function",b=e=>typeof e=="string",g=e=>typeof e=="number",L=e=>typeof e=="undefined",C=e=>typeof e!="undefined",he=e=>typeof e=="boolean",pe=e=>Math.ceil(e/10)*10,me=e=>Math.ceil(e)+.5,ge=e=>e[1]-e[0],_=e=>typeof e=="object",z=e=>{for(const t in e)return!1;return!0},Z=e=>L(e)||e===null||b(e)&&e.length===0||_(e)&&!(e instanceof Date)&&z(e)||g(e)&&isNaN(e),G=e=>!Z(e),y=e=>Array.isArray(e),d=e=>e&&!(e!=null&&e.nodeType)&&_(e)&&!y(e);function _e(e,t,n){return C(e[t])?e[t]:n}function ye(e,t){let n=!1;return Object.keys(e).forEach(o=>e[o]===t&&(n=!0)),n}function we(e,t,...n){const o=Y(e);return o&&e.call(t,...n),o}function xe(e,t){let n=0;const o=function(...i){!--n&&t.apply(this,...i)};"duration"in e?e.each(()=>++n).on("end",o):(++n,e.call(o))}function ve(e,t,n=[-1,1],o=!1){if(!(!e||!b(t)))if(t.indexOf(`
`)===-1)e.text(t);else{const i=[e.text(),t].map(r=>r.replace(/[\s\n]/g,""));if(i[0]!==i[1]){const r=t.split(`
`),s=o?r.length-1:1;e.html(""),r.forEach((c,f)=>{e.append("tspan").attr("x",0).attr("dy",`${f===0?n[0]*s:n[1]}em`).text(c)})}}}function H(e){const{x:t,y:n,width:o,height:i}=e.getBBox();return[{x:t,y:n+i},{x:t,y:n},{x:t+o,y:n},{x:t+o,y:n+i}]}function Oe(e){const{width:t,height:n}=B(e),o=H(e),i=o[0].x,r=Math.min(o[0].y,o[1].y);return{x:i,y:r,width:t,height:n}}function Re(e,t){var n;const o=e&&((n=e.touches||e.sourceEvent&&e.sourceEvent.touches)==null?void 0:n[0]);let i=[0,0];try{i=d3Pointer(o||e,t)}catch(r){}return i.map(r=>isNaN(r)?0:r)}function K(e){const{event:t,$el:n}=e,o=n.subchart.main||n.main;let i;return t&&t.type==="brush"?i=t.selection:o&&(i=o.select(".bb-brush").node())&&(i=d3BrushSelection(i)),i}function B(e,t=!1){return P(!0,e,t)}function Ee(e,t=!1){return P(!1,e,t)}function Pe(e=!0,t=0,n=1e4){const o=window.crypto||window.msCrypto,i=o?t+o.getRandomValues(new Uint32Array(1))[0]%(n-t+1):Math.floor(Math.random()*(n-t)+t);return e?String(i):i}function M(e,t,n,o,i){if(n>o)return-1;const r=Math.floor((n+o)/2);let{x:s,w:c=0}=e[r];return i&&(s=e[r].y,c=e[r].h),t>=s&&t<=s+c?r:t<s?M(e,t,n,r-1,i):M(e,t,r+1,o,i)}function $e(e){const t=K(e);return t?t[0]===t[1]:!0}function Ce(...e){const t=n=>{if(d(n)&&n.constructor){const o=new n.constructor;for(const i in n)o[i]=t(n[i]);return o}return n};return e.map(n=>t(n)).reduce((n,o)=>E(E({},n),o))}function W(e={},t){y(t)&&t.forEach(n=>W(e,n));for(const n in t)/^\d+$/.test(n)||n in e||(e[n]=t[n]);return e}const Be=e=>e.charAt(0).toUpperCase()+e.slice(1);function Me(e,t="-"){return e.split(t).map((n,o)=>o?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()).join("")}const J=e=>[].slice.call(e);function Te(e,t,n){const{rootSelector:o="",sheet:i}=e,s=`${o} ${(c=>c.replace(/\s?(bb-)/g,".$1").replace(/\.+/g,"."))(t)} {${n.join(";")}}`;return i[i.insertRule?"insertRule":"addRule"](s,i.cssRules.length)}function je(e){let t=[];return e.forEach(n=>{var o;try{n.cssRules&&n.cssRules.length&&(t=t.concat(J(n.cssRules)))}catch(i){(o=window.console)==null||o.warn(`Error while reading rules from ${n.href}: ${i.toString()}`)}}),t}function Ae(e){var t,n,o,i,r,s;return{x:((n=(t=window.pageXOffset)!=null?t:window.scrollX)!=null?n:0)+((o=e.scrollLeft)!=null?o:0),y:((r=(i=window.pageYOffset)!=null?i:window.scrollY)!=null?r:0)+((s=e.scrollTop)!=null?s:0)}}function De(e,t=0,n=0,o=!0){const i=new DOMPoint(t,n),r=e.getScreenCTM(),s=i.matrixTransform(o?r==null?void 0:r.inverse():r);if(o===!1){const c=B(e);s.x-=c.x,s.y-=c.y}return s}function Fe(e){const t=e?e.transform:null,n=t&&t.baseVal;return n&&n.numberOfItems?n.getItem(0).matrix:{a:0,b:0,c:0,d:0,e:0,f:0}}function qe(e){const t=e[0]instanceof Date,n=(t?e.map(Number):e).filter((o,i,r)=>r.indexOf(o)===i);return t?n.map(o=>new Date(o)):n}function Ie(e){return e&&e.length?e.reduce((t,n)=>t.concat(n)):[]}function w(e,...t){if(!t.length||t.length===1&&!t[0])return e;const n=t.shift();return d(e)&&d(n)&&Object.keys(n).forEach(o=>{if(!/^(__proto__|constructor|prototype)$/i.test(o)){const i=n[o];d(i)?(!e[o]&&(e[o]={}),e[o]=w(e[o],i)):e[o]=y(i)?i.concat():i}}),w(e,...t)}function Q(e,t=!0){let n;return e[0]instanceof Date?n=t?(o,i)=>o-i:(o,i)=>i-o:t&&!e.every(isNaN)?n=(o,i)=>o-i:t||(n=(o,i)=>o>i&&-1||o<i&&1||o===i&&0),e.concat().sort(n)}function Se(e,t){let n=t.filter(o=>G(o));return n.length?g(n[0])?n=Math[e](...n):n[0]instanceof Date&&(n=Q(n,e==="min")[0]):n=void 0,n}const Ne=(e,t,n=1)=>{const o=[],i=Math.max(0,Math.ceil((t-e)/n))|0;for(let r=e;r<i;r++)o.push(e+r*n);return o},Ve={mouse:(()=>{const e=()=>({bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0});try{return new MouseEvent("t"),(t,n,o=e())=>{t.dispatchEvent(new MouseEvent(n,o))}}catch(t){return(n,o,i=e())=>{const r=N.createEvent("MouseEvent");r.initMouseEvent(o,i.bubbles,i.cancelable,p,0,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.dispatchEvent(r)}}})(),touch:(e,t,n)=>{const o=new Touch(w({identifier:Date.now(),target:e,radiusX:2.5,radiusY:2.5,rotationAngle:10,force:.5},n));e.dispatchEvent(new TouchEvent(t,{cancelable:!0,bubbles:!0,shiftKey:!0,touches:[o],targetTouches:[],changedTouches:[o]}))}};function Ue(e,t){let n=e;for(const o in t)n=n.replace(new RegExp(`{=${o}}`,"g"),t[o]);return sanitize(n)}function Xe(e){var t;let n;if(e instanceof Date)n=e;else if(b(e)){const{config:o,format:i}=this;n=(t=i.dataTime(o.data_xFormat)(e))!=null?t:new Date(e)}else g(e)&&!isNaN(e)&&(n=new Date(+e));return(!n||isNaN(+n))&&console&&console.error&&console.error(`Failed to parse x '${e}' to Date object`),n}function Ye(e){const t=e.attr("viewBox");return t?/(\d+(\.\d+)?){3}/.test(t):!1}function Le(e,t,n=!1){const o=!!e.node;let i=!1;for(const[r,s]of Object.entries(t))if(i=o?e.style(r)===s:e.style[r]===s,n===!1&&i)break;return i}function ze(){var e,t;return((e=document)==null?void 0:e.hidden)===!1||((t=document)==null?void 0:t.visibilityState)==="visible"}function Ze(e,t){const{DocumentTouch:n,matchMedia:o,navigator:i}=window,r=o==null?void 0:o("(pointer:coarse)").matches;let s=!1;if(t)if(i&&"maxTouchPoints"in i)s=i.maxTouchPoints>0;else if("ontouchmove"in window||n&&document instanceof n)s=!0;else if(r)s=!0;else{const f=i.userAgent;s=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(f)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(f)}return e&&!r&&(o==null?void 0:o("(pointer:fine)").matches)&&"mouse"||s&&"touch"||"mouse"}function k(e,t){t()===!1?requestAnimationFrame(()=>k(e,t)):e()}function Ge(e){if(d(e)&&!b(e)){const s=e;return{top:s.top||0,right:s.right||0,bottom:s.bottom||0,left:s.left||0}}const t=(b(e)?e.trim().split(/\s+/):[e]).map(s=>+s||0),[n,o=n,i=n,r=o]=t;return{top:n,right:o,bottom:i,left:r}}function He(e,t){e.pendingRaf!==null?(window.cancelAnimationFrame(e.pendingRaf),e.pendingRaf=window.requestAnimationFrame(()=>{e.pendingRaf=null,t()})):(e.pendingRaf=window.requestAnimationFrame(()=>{e.pendingRaf=null}),t())}function Ke(e,t=(n=>n)){const n=new Set;return $(e,(o,i)=>{n.add(t(o,i))}),n}function We(e,t,n=(o=>o)){const o=new Map;return $(e,(i,r)=>{o.set(t(i,r),n(i,r))}),o}function ee(e){const t=this.config;let n,o,i;const r=()=>{const s=o.shift();if(s&&n&&_(n)&&s in n)return n=n[s],r();if(!s)return n};Object.keys(t).forEach(s=>{n=e,o=s.split("_"),i=r(),C(i)&&(t[s]=i)}),this.api&&(this.state.orgConfig=e)}var te=Object.defineProperty,ne=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t,n)=>ne(e,typeof t!="symbol"?t+"":t,n);class T{constructor(t={}){m(this,"$$"),m(this,"options"),m(this,"config"),this.options=t}loadConfig(){ee.call(this,this.options)}$beforeInit(){}$init(){}$afterInit(){}$redraw(){}$willDestroy(){Object.keys(this).forEach(t=>{this[t]=null,delete this[t]})}}m(T,"version","3.18.0-nightly-20260129005127");var oe=Object.defineProperty,ie=(e,t,n)=>t in e?oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j=(e,t,n)=>ie(e,typeof t!="symbol"?t+"":t,n);const A=class F extends T{constructor(t){return super(t),j(this,"$$"),this}$init(){const{$$:t}=this;t.findClosest=this.findClosest.bind(this),t.getBubbleR=this.getBubbleR.bind(this),t.pointExpandedR=this.pointExpandedR.bind(this)}pointExpandedR(t){const n=this.getBubbleR(t),{expandScale:o=1}=this.options;return F.raiseFocusedBubbleLayer(t),this.changeCursorPoint(),n*o}static raiseFocusedBubbleLayer(t){t.raise&&(0,q.select)(t.node().parentNode.parentNode).raise()}changeCursorPoint(){this.$$.$el.eventRect.style("cursor","pointer")}findClosest(t,n){const{$$:o}=this;return t.filter(i=>i&&!o.isBarType(i.id)).reduce((i,r)=>o.dist(r,n)<this.getBubbleR(r)?r:i,0)}getBubbleR(t){const{minR:n,maxR:o}=this.options,i=this.getZData(t);if(!i)return n;const[r,s]=this.$$.data.targets.reduce(([f,se],ce)=>{const D=this.getZData(ce.values[0]);return[Math.min(f,D),Math.max(se,D)]},[1e4,0]),c=r>0&&s===r?0:i/s;return Math.abs(c)*(o-n)+n}getZData(t){return this.$$.isBubbleZType(t)?this.$$.getBubbleZData(t.value,"z"):t.value}};j(A,"version","0.0.1");let re=A;return h=h.default,h})()});
